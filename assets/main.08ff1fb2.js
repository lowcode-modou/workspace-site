import{c as Re,_ as N,r as v,j as f,a as V,g as fi,m as hi,K as iu,C as ft,b as ct,o as Br,A as $r,d as De,e as Bo,f as O,h as us,i as ds,k as zr,l as fs,t as hs,S as au,T as $o,I as su,H as lu,F as cu,n as uu,p as du,q as fu,s as ln,P as hu,u as pu,v as Yi,R as Vn,w as Fr,x as me,y as gu,z as W,B as mu,D as zo,E as Fo,G as yu,J as ps,L as vu,M as xu,N as wu,O as gs,Q as Gn,U as Or,V as Hr,W as ms,X as ys,Y as bu,Z as Su,$ as Cu,a0 as Eu,a1 as _u,a2 as Nu,a3 as Pu,a4 as Mu,a5 as Iu,a6 as Du,a7 as ht,a8 as at,a9 as Ne,aa as Ue,ab as vs,ac as Ru,ad as xs,ae as ze,af as Tu,ag as xt,ah as Be,ai as Au,aj as ws,ak as Bu,al as Ot,am as bs,an as Ie,ao as $u,ap as Ss,aq as zu,ar as Fu,as as Ou,at as Hu,au as Lu,av as Cs,aw as In,ax as tr,ay as Xn,az as Ht,aA as ku,aB as zn,aC as Vt,aD as Es,aE as Wu,aF as xr,aG as Oo,aH as Ye,aI as Uu,aJ as _s,aK as ju,aL as wr,aM as Ki,aN as Vu,aO as qi,aP as pi,aQ as Ho,aR as Gu,aS as Xu,aT as Yu,aU as Ku,aV as Ns,aW as pt,aX as qu,aY as Zu,aZ as gi,a_ as Ps,a$ as mi,b0 as yi,b1 as Lo,b2 as Ju,b3 as Qu,b4 as vi,b5 as xi,b6 as Yn,b7 as ed,b8 as td,b9 as nd,ba as rd,bb as Zi,bc as od,bd as nr,be as Yt,bf as id,bg as ad,bh as sd,bi as Ji,bj as oo,bk as Ms,bl as ld,bm as cd,bn as ud,bo as dd,bp as fd,bq as hd,br as pd}from"./client.a9d773b3.js";var gd=function(t){var n,r,o=t.prefixCls,a=t.className,i=t.style,s=t.size,l=t.shape,c=Re((n={},N(n,o+"-lg",s==="large"),N(n,o+"-sm",s==="small"),n)),u=Re((r={},N(r,o+"-circle",l==="circle"),N(r,o+"-square",l==="square"),N(r,o+"-round",l==="round"),r)),h=v.exports.useMemo(function(){return typeof s=="number"?{width:s,height:s,lineHeight:s+"px"}:{}},[s]);return f("span",{className:Re(o,c,u,a),style:V(V({},h),i)})};const Lr=gd;var md=new iu("ant-skeleton-loading",{"0%":{transform:"translateX(-37.5%)"},"100%":{transform:"translateX(37.5%)"}}),kr=function(t){return{height:t,lineHeight:t+"px"}},tn=function(t){return V({width:t},kr(t))},yd=function(t){return{position:"relative",zIndex:0,overflow:"hidden",background:"transparent","&::after":{position:"absolute",top:0,insetInlineEnd:"-150%",bottom:0,insetInlineStart:"-150%",background:t.skeletonLoadingBackground,animationName:md,animationDuration:t.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite",content:'""'}}},io=function(t){return V({width:t*5,minWidth:t*5},kr(t))},vd=function(t){var n,r=t.skeletonAvatarCls,o=t.color,a=t.controlHeight,i=t.controlHeightLG,s=t.controlHeightSM;return n={},N(n,""+r,V({display:"inline-block",verticalAlign:"top",background:o},tn(a))),N(n,""+r+r+"-circle",{borderRadius:"50%"}),N(n,""+r+r+"-lg",V({},tn(i))),N(n,""+r+r+"-sm",V({},tn(s))),n},xd=function(t){var n,r=t.controlHeight,o=t.borderRadiusSM,a=t.skeletonInputCls,i=t.controlHeightLG,s=t.controlHeightSM,l=t.color;return n={},N(n,""+a,V({display:"inline-block",verticalAlign:"top",background:l,borderRadius:o},io(r))),N(n,a+"-lg",V({},io(i))),N(n,a+"-sm",V({},io(s))),n},Qi=function(t){return V({width:t},kr(t))},wd=function(t){var n,r,o=t.skeletonImageCls,a=t.imageSizeBase,i=t.color,s=t.borderRadiusSM;return r={},N(r,""+o,V(V({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:i,borderRadius:s},Qi(a*2)),(n={},N(n,o+"-path",{fill:"#bfbfbf"}),N(n,o+"-svg",V(V({},Qi(a)),{maxWidth:a*4,maxHeight:a*4})),N(n,o+"-svg"+o+"-svg-circle",{borderRadius:"50%"}),n))),N(r,""+o+o+"-circle",{borderRadius:"50%"}),r},ao=function(t,n,r){var o,a=t.skeletonButtonCls;return o={},N(o,""+r+a+"-circle",{width:n,minWidth:n,borderRadius:"50%"}),N(o,""+r+a+"-round",{borderRadius:n}),o},so=function(t){return V({width:t*2,minWidth:t*2},kr(t))},bd=function(t){var n=t.borderRadiusSM,r=t.skeletonButtonCls,o=t.controlHeight,a=t.controlHeightLG,i=t.controlHeightSM,s=t.color;return V(V(V(V(V(N({},""+r,V({display:"inline-block",verticalAlign:"top",background:s,borderRadius:n,width:o*2,minWidth:o*2},so(o))),ao(t,o,r)),N({},r+"-lg",V({},so(a)))),ao(t,a,r+"-lg")),N({},r+"-sm",V({},so(i)))),ao(t,i,r+"-sm"))},Sd=function(t){var n,r,o,a,i,s=t.componentCls,l=t.skeletonAvatarCls,c=t.skeletonTitleCls,u=t.skeletonParagraphCls,h=t.skeletonButtonCls,d=t.skeletonInputCls,p=t.skeletonImageCls,w=t.controlHeight,m=t.controlHeightLG,S=t.controlHeightSM,g=t.color,x=t.padding,C=t.marginSM,y=t.borderRadius,E=t.skeletonTitleHeight,_=t.skeletonBlockRadius,P=t.skeletonParagraphLineHeight,R=t.controlHeightXS,$=t.skeletonParagraphMarginTop;return i={},N(i,""+s,(o={display:"table",width:"100%"},N(o,s+"-header",(n={display:"table-cell",paddingInlineEnd:x,verticalAlign:"top"},N(n,""+l,V({display:"inline-block",verticalAlign:"top",background:g},tn(w))),N(n,l+"-circle",{borderRadius:"50%"}),N(n,l+"-lg",V({},tn(m))),N(n,l+"-sm",V({},tn(S))),n)),N(o,s+"-content",(r={display:"table-cell",width:"100%",verticalAlign:"top"},N(r,""+c,N({width:"100%",height:E,background:g,borderRadius:_},"+ "+u,{marginBlockStart:S})),N(r,""+u,{padding:0,"> li":{width:"100%",height:P,listStyle:"none",background:g,borderRadius:_,"+ li":{marginBlockStart:R}}}),N(r,u+"> li:last-child:not(:first-child):not(:nth-child(2))",{width:"61%"}),r)),N(o,"&-round "+s+"-content",N({},c+", "+u+" > li",{borderRadius:y})),o)),N(i,s+"-with-avatar "+s+"-content",N({},""+c,N({marginBlockStart:C},"+ "+u,{marginBlockStart:$}))),N(i,""+s+s+"-element",V(V(V(V({display:"inline-block",width:"auto"},bd(t)),vd(t)),xd(t)),wd(t))),N(i,""+s+s+"-block",(a={width:"100%"},N(a,""+h,{width:"100%"}),N(a,""+d,{width:"100%"}),a)),N(i,""+s+s+"-active",N({},`
        `+c+`,
        `+u+` > li,
        `+l+`,
        `+h+`,
        `+d+`,
        `+p+`
      `,V({},yd(t)))),i};const gn=fi("Skeleton",function(e){var t=e.componentCls,n=hi(e,{skeletonAvatarCls:t+"-avatar",skeletonTitleCls:t+"-title",skeletonParagraphCls:t+"-paragraph",skeletonButtonCls:t+"-button",skeletonInputCls:t+"-input",skeletonImageCls:t+"-image",imageSizeBase:e.controlHeight*1.5,skeletonTitleHeight:e.controlHeight/2,skeletonBlockRadius:e.borderRadiusSM,skeletonParagraphLineHeight:e.controlHeight/2,skeletonParagraphMarginTop:e.marginLG+e.marginXXS,borderRadius:100,skeletonLoadingBackground:"linear-gradient(90deg, "+e.color+" 25%, "+e.colorGradientEnd+" 37%, "+e.color+" 63%)",skeletonLoadingMotionDuration:"1.4s"});return[Sd(n)]},function(e){var t=e.colorFillContent,n=e.colorFill;return{color:t,colorGradientEnd:n}});var Cd=function(t){var n=t.prefixCls,r=t.className,o=t.active,a=t.shape,i=a===void 0?"circle":a,s=t.size,l=s===void 0?"default":s,c=v.exports.useContext(ft),u=c.getPrefixCls,h=u("skeleton",n),d=gn(h),p=ct(d,2),w=p[0],m=p[1],S=Br(t,["prefixCls","className"]),g=Re(h,h+"-element",N({},h+"-active",o),r,m);return w(f("div",{className:g,children:f(Lr,{prefixCls:h+"-avatar",shape:i,size:l,...S})}))};const Ed=Cd;var _d=function(t){var n,r=t.prefixCls,o=t.className,a=t.active,i=t.block,s=i===void 0?!1:i,l=t.size,c=l===void 0?"default":l,u=v.exports.useContext(ft),h=u.getPrefixCls,d=h("skeleton",r),p=gn(d),w=ct(p,2),m=w[0],S=w[1],g=Br(t,["prefixCls"]),x=Re(d,d+"-element",(n={},N(n,d+"-active",a),N(n,d+"-block",s),n),o,S);return m(f("div",{className:x,children:f(Lr,{prefixCls:d+"-button",size:c,...g})}))};const Nd=_d;var Pd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const Md=Pd;var Is=function(t,n){return f($r,{...De(De({},t),{},{ref:n,icon:Md})})};Is.displayName="DotChartOutlined";const Id=v.exports.forwardRef(Is);var Dd=function(t){var n=t.prefixCls,r=t.className,o=t.style,a=t.active,i=t.children,s=v.exports.useContext(ft),l=s.getPrefixCls,c=l("skeleton",n),u=gn(c),h=ct(u,2),d=h[0],p=h[1],w=Re(c,c+"-element",N({},c+"-active",a),p,r),m=i!=null?i:f(Id,{});return d(f("div",{className:w,children:f("div",{className:Re(c+"-image",r),style:o,children:m})}))};const Rd=Dd;var Td="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Ad=function(t){var n=t.prefixCls,r=t.className,o=t.style,a=t.active,i=v.exports.useContext(ft),s=i.getPrefixCls,l=s("skeleton",n),c=gn(l),u=ct(c,2),h=u[0],d=u[1],p=Re(l,l+"-element",N({},l+"-active",a),r,d);return h(f("div",{className:p,children:f("div",{className:Re(l+"-image",r),style:o,children:f("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:l+"-image-svg",children:f("path",{d:Td,className:l+"-image-path"})})})}))};const Bd=Ad;var $d=function(t){var n,r=t.prefixCls,o=t.className,a=t.active,i=t.block,s=t.size,l=s===void 0?"default":s,c=v.exports.useContext(ft),u=c.getPrefixCls,h=u("skeleton",r),d=gn(h),p=ct(d,2),w=p[0],m=p[1],S=Br(t,["prefixCls"]),g=Re(h,h+"-element",(n={},N(n,h+"-active",a),N(n,h+"-block",i),n),o,m);return w(f("div",{className:g,children:f(Lr,{prefixCls:h+"-input",size:l,...S})}))};const zd=$d;var Fd=function(t){var n=function(c){var u=t.width,h=t.rows,d=h===void 0?2:h;if(Array.isArray(u))return u[c];if(d-1===c)return u},r=t.prefixCls,o=t.className,a=t.style,i=t.rows,s=Bo(Array(i)).map(function(l,c){return f("li",{style:{width:n(c)}},c)});return f("ul",{className:Re(r,o),style:a,children:s})};const Od=Fd;var Hd=function(t){var n=t.prefixCls,r=t.className,o=t.width,a=t.style;return f("h3",{className:Re(n,r),style:V({width:o},a)})};const Ld=Hd;function lo(e){return e&&us(e)==="object"?e:{}}function kd(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Wd(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function Ud(e,t){var n={};return(!e||!t)&&(n.width="61%"),!e&&t?n.rows=3:n.rows=2,n}var mn=function(t){var n=t.prefixCls,r=t.loading,o=t.className,a=t.style,i=t.children,s=t.avatar,l=s===void 0?!1:s,c=t.title,u=c===void 0?!0:c,h=t.paragraph,d=h===void 0?!0:h,p=t.active,w=t.round,m=v.exports.useContext(ft),S=m.getPrefixCls,g=m.direction,x=S("skeleton",n),C=gn(x),y=ct(C,2),E=y[0],_=y[1];if(r||!("loading"in t)){var P,R=!!l,$=!!u,T=!!d,k;if(R){var J=V(V({prefixCls:x+"-avatar"},kd($,T)),lo(l));k=f("div",{className:x+"-header",children:f(Lr,{...J})})}var q;if($||T){var b;if($){var I=V(V({prefixCls:x+"-title"},Wd(R,T)),lo(u));b=f(Ld,{...I})}var M;if(T){var z=V(V({prefixCls:x+"-paragraph"},Ud(R,$)),lo(d));M=f(Od,{...z})}q=O("div",{className:x+"-content",children:[b,M]})}var A=Re(x,(P={},N(P,x+"-with-avatar",R),N(P,x+"-active",p),N(P,x+"-rtl",g==="rtl"),N(P,x+"-round",w),P),o,_);return E(O("div",{className:A,style:a,children:[k,q]}))}return typeof i<"u"?i:null};mn.Button=Nd;mn.Avatar=Ed;mn.Input=zd;mn.Image=Bd;mn.Node=Rd;const jd=mn;var Vd=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Gd=function(t){var n=t.prefixCls,r=t.className,o=t.hoverable,a=o===void 0?!0:o,i=Vd(t,["prefixCls","className","hoverable"]);return f(ds,{children:function(s){var l=s.getPrefixCls,c=l("card",n),u=Re(c+"-grid",r,N({},c+"-grid-hoverable",a));return f("div",{...i,className:u})}})};const Ds=Gd;var Xd=function(t){var n=t.antCls,r=t.componentCls,o=t.cardHeadHeight,a=t.cardHeadPadding,i=t.cardPaddingBase,s=t.cardHeadTabsMarginBottom;return V(V({minHeight:o,marginBottom:-1,padding:"0 "+i+"px",color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:t.fontSizeLG,background:"transparent",borderBottom:t.lineWidth+"px "+t.lineType+" "+t.colorBorderSecondary,borderRadius:t.borderRadiusLG+"px "+t.borderRadiusLG+"px 0 0"},zr()),N({"&-wrapper":{display:"flex",alignItems:"center"},"&-title":V(V({display:"inline-block",flex:1,padding:a+"px 0"},hs),N({},`
          > `+r+`-typography,
          > `+r+`-typography-edit-content
        `,{insetInlineStart:0,marginTop:0,marginBottom:0}))},n+"-tabs-top",{clear:"both",marginBottom:s,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,"&-bar":{borderBottom:t.lineWidth+"px "+t.lineType+" "+t.colorBorderSecondary}}))},Yd=function(t){var n=t.cardPaddingBase,r=t.colorBorderSecondary,o=t.cardShadow,a=t.lineWidth;return{width:"33.33%",padding:n,border:0,borderRadius:0,boxShadow:`
      `+a+"px 0 0 0 "+r+`,
      0 `+a+"px 0 0 "+r+`,
      `+a+"px "+a+"px 0 0 "+r+`,
      `+a+"px 0 0 0 "+r+` inset,
      0 `+a+"px 0 0 "+r+` inset;
    `,transition:"all "+t.motionDurationMid,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:o}}},Kd=function(t){var n,r=t.componentCls,o=t.iconCls,a=t.cardActionsLiMargin,i=t.cardActionsIconSize,s=t.colorBorderSecondary;return V(V({margin:0,padding:0,listStyle:"none",background:t.colorBgContainer,borderTop:t.lineWidth+"px "+t.lineType+" "+s,display:"flex",borderRadius:"0 0 "+t.borderRadiusLG+"px "+t.borderRadiusLG+"px "},zr()),{"& > li":{margin:a,color:t.colorTextDescription,textAlign:"center","> span":(n={position:"relative",display:"block",minWidth:t.cardActionsIconSize*2,fontSize:t.fontSize,lineHeight:t.lineHeight,cursor:"pointer","&:hover":{color:t.colorPrimary,transition:"color "+t.motionDurationMid}},N(n,"a:not("+r+"-btn), > "+o,{display:"inline-block",width:"100%",color:t.colorTextDescription,lineHeight:t.fontSize*t.lineHeight+"px",transition:"color "+t.motionDurationMid,"&:hover":{color:t.colorPrimary}}),N(n,"> "+o,{fontSize:i,lineHeight:i*t.lineHeight+"px"}),n),"&:not(:last-child)":{borderInlineEnd:t.lineWidth+"px "+t.lineType+" "+s}}})},qd=function(t){return V(V({margin:"-"+t.marginXXS+"px 0",display:"flex"},zr()),{"&-avatar":{paddingInlineEnd:t.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:t.marginXS}},"&-title":V({color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:t.fontSizeLG},hs),"&-description":{color:t.colorTextDescription}})},Zd=function(t){var n,r=t.componentCls,o=t.cardPaddingBase,a=t.colorFillAlter,i=t.cardInnerHeadPadding;return n={},N(n,r+"-head",{padding:"0 "+o+"px",background:a,"&-title":{padding:i+"px 0",fontSize:t.fontSize}}),N(n,r+"-body",{padding:t.padding+"px "+o+"px"}),N(n,r+"-extra",{padding:i+1.5+"px 0"}),n},Jd=function(t){var n=t.componentCls;return N({overflow:"hidden"},n+"-body",{userSelect:"none"})},Qd=function(t){var n,r,o,a,i=t.componentCls,s=t.cardShadow,l=t.cardHeadHeight,c=t.cardHeadPadding,u=t.colorBorderSecondary,h=t.boxShadow,d=t.cardPaddingBase;return a={},N(a,i,V(V({},fs(t)),(n={position:"relative",background:t.colorBgContainer,borderRadius:t.borderRadiusLG},N(n,"&:not("+i+"-bordered)",{boxShadow:h}),N(n,i+"-head",Xd(t)),N(n,i+"-extra",{marginInlineStart:"auto",padding:"",color:"",fontWeight:"normal",fontSize:t.fontSize}),N(n,i+"-body",V({padding:d,borderRadius:" 0 0 "+t.borderRadiusLG+"px "+t.borderRadiusLG+"px"},zr())),N(n,i+"-grid",Yd(t)),N(n,i+"-cover",{"> *":{display:"block",width:"100%"},img:{borderRadius:t.borderRadiusLG+"px "+t.borderRadiusLG+"px 0 0"}}),N(n,i+"-actions",Kd(t)),N(n,i+"-meta",qd(t)),n))),N(a,i+"-bordered",N({border:t.lineWidth+"px "+t.lineType+" "+u},i+"-cover",{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1})),N(a,i+"-hoverable",{cursor:"pointer",transition:"box-shadow "+t.motionDurationMid+", border-color "+t.motionDurationMid,"&:hover":{borderColor:"transparent",boxShadow:s}}),N(a,i+"-contain-grid",(r={},N(r,i+"-body",{display:"flex",flexWrap:"wrap"}),N(r,"&:not("+i+"-loading) "+i+"-body",{marginBlockStart:-t.lineWidth,marginInlineStart:-t.lineWidth,padding:0}),r)),N(a,i+"-contain-tabs",N({},"> "+i+"-head",(o={},N(o,i+"-head-title",{minHeight:l-c,paddingBottom:0}),N(o,i+"-extra",{paddingBottom:0}),o))),N(a,i+"-type-inner",Zd(t)),N(a,i+"-loading",Jd(t)),N(a,i+"-rtl",{direction:"rtl"}),a},ef=function(t){var n,r,o=t.componentCls,a=t.cardPaddingSM,i=t.fontSize,s=t.lineHeight,l=t.cardHeaderHeightSM,c=(l-i*s)/2;return N({},o+"-small",(r={},N(r,"> "+o+"-head",N({minHeight:l,padding:"0 "+a+"px",fontSize:t.fontSize},"> "+o+"-head-wrapper",(n={},N(n,"> "+o+"-head-title",{padding:c+"px 0"}),N(n,"> "+o+"-extra",{padding:c+"px 0",fontSize:t.fontSize}),n))),N(r,"> "+o+"-body",{padding:a}),r))};const tf=fi("Card",function(e){var t=hi(e,{cardShadow:e.boxShadowCard,cardHeaderHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,cardHeaderHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardHeadTabsMarginBottom:-e.padding-e.lineWidth,cardInnerHeadPadding:e.paddingSM,cardActionsLiMargin:e.paddingSM+"px 0",cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[Qd(t),ef(t)]});var nf=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function rf(e){var t=e.map(function(n,r){return f("li",{style:{width:100/e.length+"%"},children:f("span",{children:n})},"action-"+r)});return t}var of=v.exports.forwardRef(function(e,t){var n,r,o=v.exports.useContext(ft),a=o.getPrefixCls,i=o.direction,s=v.exports.useContext(au),l=function(le){var ye;(ye=e.onTabChange)===null||ye===void 0||ye.call(e,le)},c=function(){var le;return v.exports.Children.forEach(e.children,function(ye){ye&&ye.type&&ye.type===Ds&&(le=!0)}),le},u=e.prefixCls,h=e.className,d=e.extra,p=e.headStyle,w=p===void 0?{}:p,m=e.bodyStyle,S=m===void 0?{}:m,g=e.title,x=e.loading,C=e.bordered,y=C===void 0?!0:C,E=e.size,_=e.type,P=e.cover,R=e.actions,$=e.tabList,T=e.children,k=e.activeTabKey,J=e.defaultActiveTabKey,q=e.tabBarExtraContent,b=e.hoverable,I=e.tabProps,M=I===void 0?{}:I,z=nf(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),A=a("card",u),L=tf(A),H=ct(L,2),U=H[0],ee=H[1],ce=f(jd,{loading:!0,active:!0,paragraph:{rows:4},title:!1,children:T}),oe=k!==void 0,Y=V(V({},M),(n={},N(n,oe?"activeKey":"defaultActiveKey",oe?k:J),N(n,"tabBarExtraContent",q),n)),ie,ae=$&&$.length?f($o,{size:"large",...Y,className:A+"-head-tabs",onChange:l,items:$.map(function(ge){var le;return{label:ge.tab,key:ge.key,disabled:(le=ge.disabled)!==null&&le!==void 0?le:!1}})}):null;(g||d||ae)&&(ie=O("div",{className:A+"-head",style:w,children:[O("div",{className:A+"-head-wrapper",children:[g&&f("div",{className:A+"-head-title",children:g}),d&&f("div",{className:A+"-extra",children:d})]}),ae]}));var de=P?f("div",{className:A+"-cover",children:P}):null,Z=f("div",{className:A+"-body",style:S,children:x?ce:T}),G=R&&R.length?f("ul",{className:A+"-actions",children:rf(R)}):null,be=Br(z,["onTabChange"]),Se=E||s,he=Re(A,(r={},N(r,A+"-loading",x),N(r,A+"-bordered",y),N(r,A+"-hoverable",b),N(r,A+"-contain-grid",c()),N(r,A+"-contain-tabs",$&&$.length),N(r,A+"-"+Se,Se),N(r,A+"-type-"+_,!!_),N(r,A+"-rtl",i==="rtl"),r),h,ee);return U(O("div",{ref:t,...be,className:he,children:[ie,de,Z,G]}))});const af=of;var sf=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},lf=function(t){return f(ds,{children:function(n){var r=n.getPrefixCls,o=t.prefixCls,a=t.className,i=t.avatar,s=t.title,l=t.description,c=sf(t,["prefixCls","className","avatar","title","description"]),u=r("card",o),h=Re(u+"-meta",a),d=i?f("div",{className:u+"-meta-avatar",children:i}):null,p=s?f("div",{className:u+"-meta-title",children:s}):null,w=l?f("div",{className:u+"-meta-description",children:l}):null,m=p||w?O("div",{className:u+"-meta-detail",children:[p,w]}):null;return O("div",{...c,className:h,children:[d,m]})}})};const cf=lf;var wi=af;wi.Grid=Ds;wi.Meta=cf;const cn=wi;var Kn=su;Kn.Header=lu;Kn.Footer=cu;Kn.Content=uu;Kn.Sider=du;const Pt=Kn;var Rs=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},uf=function(t){var n=t.prefixCls,r=t.className,o=t.avatar,a=t.title,i=t.description,s=Rs(t,["prefixCls","className","avatar","title","description"]),l=v.exports.useContext(ft),c=l.getPrefixCls,u=c("list",n),h=Re(u+"-item-meta",r),d=O("div",{className:u+"-item-meta-content",children:[a&&f("h4",{className:u+"-item-meta-title",children:a}),i&&f("div",{className:u+"-item-meta-description",children:i})]});return O("div",{...s,className:h,children:[o&&f("div",{className:u+"-item-meta-avatar",children:o}),(a||i)&&d]})},df=function(t,n){var r=t.prefixCls,o=t.children,a=t.actions,i=t.extra,s=t.className,l=t.colStyle,c=Rs(t,["prefixCls","children","actions","extra","className","colStyle"]),u=v.exports.useContext(bi),h=u.grid,d=u.itemLayout,p=v.exports.useContext(ft),w=p.getPrefixCls,m=function(){var _;return v.exports.Children.forEach(o,function(P){typeof P=="string"&&(_=!0)}),_&&v.exports.Children.count(o)>1},S=function(){return d==="vertical"?!!i:!m()},g=w("list",r),x=a&&a.length>0&&f("ul",{className:g+"-item-action",children:a.map(function(E,_){return O("li",{children:[E,_!==a.length-1&&f("em",{className:g+"-item-action-split"})]},g+"-item-action-"+_)})},"actions"),C=h?"div":"li",y=f(C,{...c,...h?{}:{ref:n},className:Re(g+"-item",N({},g+"-item-no-flex",!S()),s),children:d==="vertical"&&i?[O("div",{className:g+"-item-main",children:[o,x]},"content"),f("div",{className:g+"-item-extra",children:i},"extra")]:[o,x,fu(i,{key:"extra"})]});return h?f(ln,{ref:n,flex:1,style:l,children:y}):y},Ts=v.exports.forwardRef(df);Ts.Meta=uf;const ff=Ts;var hf=function(t){var n,r,o=t.listBorderedCls,a=t.componentCls,i=t.paddingLG,s=t.margin,l=t.padding,c=t.listItemPaddingSM,u=t.marginLG,h=t.borderRadiusLG;return r={},N(r,""+o,(n={border:t.lineWidth+"px "+t.lineType+" "+t.colorBorder,borderRadius:h},N(n,a+"-header,"+a+"-footer,"+a+"-item",{paddingInline:i}),N(n,a+"-pagination",{margin:s+"px "+u+"px"}),n)),N(r,""+o+a+"-sm",N({},a+"-item,"+a+"-header,"+a+"-footer",{padding:c})),N(r,""+o+a+"-lg",N({},a+"-item,"+a+"-header,"+a+"-footer",{padding:l+"px "+i+"px"})),r},pf=function(t){var n,r,o,a,i=t.componentCls,s=t.screenSM,l=t.screenMD,c=t.marginLG,u=t.marginSM,h=t.margin;return a={},N(a,"@media screen and (max-width:"+l+")",(n={},N(n,""+i,N({},i+"-item",N({},i+"-item-action",{marginInlineStart:c}))),N(n,i+"-vertical",N({},i+"-item",N({},i+"-item-extra",{marginInlineStart:c}))),n)),N(a,"@media screen and (max-width: "+s+")",(o={},N(o,""+i,N({},i+"-item",N({flexWrap:"wrap"},i+"-action",{marginInlineStart:u}))),N(o,i+"-vertical",N({},i+"-item",(r={flexWrap:"wrap-reverse"},N(r,i+"-item-main",{minWidth:t.contentWidth}),N(r,i+"-item-extra",{margin:"auto auto "+h+"px"}),r))),o)),a},gf=function(t){var n,r,o,a,i,s,l=t.componentCls,c=t.antCls,u=t.controlHeight,h=t.minHeight,d=t.paddingSM,p=t.marginLG,w=t.padding,m=t.listItemPadding,S=t.colorPrimary,g=t.listItemPaddingSM,x=t.listItemPaddingLG,C=t.paddingXS,y=t.margin,E=t.colorText,_=t.colorTextDescription,P=t.motionDurationSlow,R=t.lineWidth;return s={},N(s,""+l,V(V({},fs(t)),(a={position:"relative","*":{outline:"none"}},N(a,l+"-header, "+l+"-footer",{background:"transparent",paddingBlock:d}),N(a,l+"-pagination",N({marginBlockStart:p,textAlign:"end"},c+"-pagination-options",{textAlign:"start"})),N(a,l+"-spin",{minHeight:h,textAlign:"center"}),N(a,l+"-items",{margin:0,padding:0,listStyle:"none"}),N(a,l+"-item",(o={display:"flex",alignItems:"center",justifyContent:"space-between",padding:m,color:E},N(o,l+"-item-meta",(n={display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%"},N(n,l+"-item-meta-avatar",{marginInlineEnd:w}),N(n,l+"-item-meta-content",{flex:"1 0",width:0,color:E}),N(n,l+"-item-meta-title",{marginBottom:t.marginXXS,color:E,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":N({color:E,transition:"all "+P},"&:hover",{color:S})}),N(n,l+"-item-meta-description",{color:_,fontSize:t.fontSize,lineHeight:t.lineHeight}),n)),N(o,l+"-item-action",(r={flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none"},N(r,"& > li",N({position:"relative",display:"inline-block",padding:"0 "+C+"px",color:_,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center"},"&:first-child",{paddingInlineStart:0})),N(r,l+"-item-action-split",{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:R,height:Math.ceil(t.fontSize*t.lineHeight)-t.marginXXS*2,transform:"translateY(-50%)",backgroundColor:t.colorSplit}),r)),o)),N(a,l+"-empty",{padding:w+"px 0",color:_,fontSize:t.fontSizeSM,textAlign:"center"}),N(a,l+"-empty-text",{padding:w,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"}),N(a,l+"-item-no-flex",{display:"block"}),a))),N(s,l+"-grid "+c+"-col > "+l+"-item",{display:"block",maxWidth:"100%",marginBlockEnd:y,paddingBlock:0,borderBlockEnd:"none"}),N(s,l+"-vertical "+l+"-item",(i={alignItems:"initial"},N(i,l+"-item-main",{display:"block",flex:1}),N(i,l+"-item-extra",{marginInlineStart:p}),N(i,l+"-item-meta",N({marginBlockEnd:w},l+"-item-meta-title",{marginBlockEnd:d,color:E,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG})),N(i,l+"-item-action",{marginBlockStart:w,marginInlineStart:"auto","> li":N({padding:"0 "+w+"px"},"&:first-child",{paddingInlineStart:0})}),i)),N(s,l+"-split "+l+"-item",N({borderBlockEnd:t.lineWidth+"px "+t.lineType+" "+t.colorSplit},"&:last-child",{borderBlockEnd:"none"})),N(s,l+"-split "+l+"-header",{borderBlockEnd:t.lineWidth+"px "+t.lineType+" "+t.colorSplit}),N(s,l+"-split"+l+"-empty "+l+"-footer",{borderTop:t.lineWidth+"px "+t.lineType+" "+t.colorSplit}),N(s,l+"-loading "+l+"-spin-nested-loading",{minHeight:u}),N(s,l+"-split"+l+"-something-after-last-item "+c+"-spin-container > "+l+"-items > "+l+"-item:last-child",{borderBlockEnd:t.lineWidth+"px "+t.lineType+" "+t.colorSplit}),N(s,l+"-lg "+l+"-item",{padding:x}),N(s,l+"-sm "+l+"-item",{padding:g}),N(s,l+":not("+l+"-vertical)",N({},l+"-item-no-flex",N({},l+"-item-action",{float:"right"}))),s};const mf=fi("List",function(e){var t=hi(e,{listBorderedCls:e.componentCls+"-bordered",minHeight:e.controlHeightLG,listItemPadding:e.paddingContentVertical+"px "+e.paddingContentHorizontalLG+"px",listItemPaddingSM:e.paddingContentVerticalSM+"px "+e.paddingContentHorizontal+"px",listItemPaddingLG:e.paddingContentVerticalLG+"px "+e.paddingContentHorizontalLG+"px"});return[gf(t),hf(t),pf(t)]},{contentWidth:220});var yf=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},bi=v.exports.createContext({});bi.Consumer;function ko(e){var t,n=e.pagination,r=n===void 0?!1:n,o=e.prefixCls,a=e.bordered,i=a===void 0?!1:a,s=e.split,l=s===void 0?!0:s,c=e.className,u=e.children,h=e.itemLayout,d=e.loadMore,p=e.grid,w=e.dataSource,m=w===void 0?[]:w,S=e.size,g=e.header,x=e.footer,C=e.loading,y=C===void 0?!1:C,E=e.rowKey,_=e.renderItem,P=e.locale,R=yf(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),$=r&&us(r)==="object"?r:{},T=v.exports.useState($.defaultCurrent||1),k=ct(T,2),J=k[0],q=k[1],b=v.exports.useState($.defaultPageSize||10),I=ct(b,2),M=I[0],z=I[1],A=v.exports.useContext(ft),L=A.getPrefixCls,H=A.renderEmpty,U=A.direction,ee={current:1,total:0},ce=function(ue){return function(Pe,We){q(Pe),z(We),r&&r[ue]&&r[ue](Pe,We)}},oe=ce("onChange"),Y=ce("onShowSizeChange"),ie=function(ue,Pe){return _?(typeof E=="function"?E(ue):E?ue[E]:ue.key,f(me,{children:_(ue,Pe)})):null},ae=function(){return!!(d||r||x)},de=function(ue,Pe){return f("div",{className:ue+"-empty-text",children:P&&P.emptyText||Pe("List")})},Z=L("list",o),G=mf(Z),be=ct(G,2),Se=be[0],he=be[1],ge=y;typeof ge=="boolean"&&(ge={spinning:ge});var le=ge&&ge.spinning,ye="";switch(S){case"large":ye="lg";break;case"small":ye="sm";break}var Ae=Re(Z,(t={},N(t,Z+"-vertical",h==="vertical"),N(t,Z+"-"+ye,ye),N(t,Z+"-split",l),N(t,Z+"-bordered",i),N(t,Z+"-loading",le),N(t,Z+"-grid",!!p),N(t,Z+"-something-after-last-item",ae()),N(t,Z+"-rtl",U==="rtl"),t),c,he),D=V(V(V({},ee),{total:m.length,current:J,pageSize:M}),r||{}),B=Math.ceil(D.total/D.pageSize);D.current>B&&(D.current=B);var F=r?f("div",{className:Z+"-pagination",children:f(hu,{...D,onChange:oe,onShowSizeChange:Y})}):null,j=Bo(m);r&&m.length>(D.current-1)*D.pageSize&&(j=Bo(m).splice((D.current-1)*D.pageSize,D.pageSize));var K=Object.keys(p||{}).some(function(Q){return["xs","sm","md","lg","xl","xxl"].includes(Q)}),fe=pu(K),te=v.exports.useMemo(function(){for(var Q=0;Q<Yi.length;Q+=1){var ue=Yi[Q];if(fe[ue])return ue}},[fe]),ne=v.exports.useMemo(function(){if(!!p){var Q=te&&p[te]?p[te]:p.column;if(Q)return{width:100/Q+"%",maxWidth:100/Q+"%"}}},[p==null?void 0:p.column,te]),se=le&&f("div",{style:{minHeight:53}});if(j.length>0){var ve=j.map(function(Q,ue){return ie(Q,ue)});se=p?f(Vn,{gutter:p.gutter,children:v.exports.Children.map(ve,function(Q){return f("div",{style:ne,children:Q},Q==null?void 0:Q.key)})}):f("ul",{className:Z+"-items",children:ve})}else!u&&!le&&(se=de(Z,H||gu));var xe=D.position||"bottom",ke=v.exports.useMemo(function(){return{grid:p,itemLayout:h}},[JSON.stringify(p),h]);return Se(f(bi.Provider,{value:ke,children:O("div",{className:Ae,...R,children:[(xe==="top"||xe==="both")&&F,g&&f("div",{className:Z+"-header",children:g}),O(Fr,{...ge,children:[se,u]}),x&&f("div",{className:Z+"-footer",children:x}),d||(xe==="bottom"||xe==="both")&&F]})}))}ko.Item=ff;const vf=()=>f("div",{className:xf.wrapper,children:f(Fr,{size:"large"})}),xf={wrapper:W({name:"1yfx3f8",styles:"height:100%;width:100%;display:flex;justify-content:center;align-items:center"})};var wf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 680h-54V540H546v-92h238c8.8 0 16-7.2 16-16V168c0-8.8-7.2-16-16-16H240c-8.8 0-16 7.2-16 16v264c0 8.8 7.2 16 16 16h238v92H190v140h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8h-54v-72h220v72h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8h-54v-72h220v72h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8zM256 805.3c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zm288 0c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zM288 384V216h448v168H288zm544 421.3c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zM360 300a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"cluster",theme:"outlined"};const bf=wf;var As=function(t,n){return f($r,{...De(De({},t),{},{ref:n,icon:bf})})};As.displayName="ClusterOutlined";const Sf=v.exports.forwardRef(As);var Cf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"};const Ef=Cf;var Bs=function(t,n){return f($r,{...De(De({},t),{},{ref:n,icon:Ef})})};Bs.displayName="DatabaseOutlined";const _f=v.exports.forwardRef(Bs);var Nf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};const Pf=Nf;var $s=function(t,n){return f($r,{...De(De({},t),{},{ref:n,icon:Pf})})};$s.displayName="MoreOutlined";const Mf=v.exports.forwardRef($s),If="//at.alicdn.com/t/c/font_3642824_ry39fh7p15b.js",Df=mu({scriptUrl:If}),Rf=({type:e})=>f(Df,{type:`icon-modou-${e}`}),je={APPS:"/apps",APP:"/app/:appId",PAGE:"/app/:appId/page/:pageId",Entities:"/app/:appId/entities",Entity:"/app/:appId/entity/:entityId"};/**
 * @remix-run/router v1.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}var we;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(we||(we={}));const ea="popstate";function zs(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:n,v5Compat:r=!1}=e,o;o=t.map((d,p)=>u(d,typeof d=="string"?null:d.state,p===0?"default":void 0));let a=l(n==null?o.length-1:n),i=we.Pop,s=null;function l(d){return Math.min(Math.max(d,0),o.length-1)}function c(){return o[a]}function u(d,p,w){p===void 0&&(p=null);let m=Mt(o?c().pathname:"/",d,p,w);return Af(m.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(d)),m}return{get index(){return a},get action(){return i},get location(){return c()},createHref(d){return typeof d=="string"?d:Fn(d)},push(d,p){i=we.Push;let w=u(d,p);a+=1,o.splice(a,o.length,w),r&&s&&s({action:i,location:w})},replace(d,p){i=we.Replace;let w=u(d,p);o[a]=w,r&&s&&s({action:i,location:w})},go(d){i=we.Pop,a=l(a+d),s&&s({action:i,location:c()})},listen(d){return s=d,()=>{s=null}}}}function Tf(e){e===void 0&&(e={});function t(r,o){let{pathname:a,search:i,hash:s}=r.location;return Mt("",{pathname:a,search:i,hash:s},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Fn(o)}return $f(t,n,null,e)}function Af(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Bf(){return Math.random().toString(36).substr(2,8)}function ta(e){return{usr:e.state,key:e.key}}function Mt(e,t,n,r){return n===void 0&&(n=null),Ce({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?dt(t):t,{state:n,key:t&&t.key||r||Bf()})}function Fn(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function dt(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function $f(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,i=o.history,s=we.Pop,l=null;function c(){s=we.Pop,l&&l({action:s,location:d.location})}function u(p,w){s=we.Push;let m=Mt(d.location,p,w);n&&n(m,p);let S=ta(m),g=d.createHref(m);try{i.pushState(S,"",g)}catch{o.location.assign(g)}a&&l&&l({action:s,location:m})}function h(p,w){s=we.Replace;let m=Mt(d.location,p,w);n&&n(m,p);let S=ta(m),g=d.createHref(m);i.replaceState(S,"",g),a&&l&&l({action:s,location:m})}let d={get action(){return s},get location(){return e(o,i)},listen(p){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(ea,c),l=p,()=>{o.removeEventListener(ea,c),l=null}},createHref(p){return t(o,p)},push:u,replace:h,go(p){return i.go(p)}};return d}var Oe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Oe||(Oe={}));function zf(e){return e.index===!0}function Fs(e,t,n){return t===void 0&&(t=[]),n===void 0&&(n=new Set),e.map((r,o)=>{let a=[...t,o],i=typeof r.id=="string"?r.id:a.join("-");return re(r.index!==!0||!r.children,"Cannot specify children on an index route"),re(!n.has(i),'Found a route id collision on id "'+i+`".  Route id's must be globally unique within Data Router usages`),n.add(i),zf(r)?Ce({},r,{id:i}):Ce({},r,{id:i,children:r.children?Fs(r.children,a,n):void 0})})}function Zt(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?dt(t):t,o=Ls(r.pathname||"/",n);if(o==null)return null;let a=Os(e);Ff(a);let i=null;for(let s=0;i==null&&s<a.length;++s)i=Gf(a[s],o);return i}function Os(e,t,n,r){return t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=""),e.forEach((o,a)=>{let i={relativePath:o.path||"",caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};i.relativePath.startsWith("/")&&(re(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(r.length));let s=It([r,i.relativePath]),l=n.concat(i);o.children&&o.children.length>0&&(re(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+s+'".')),Os(o.children,t,l,s)),!(o.path==null&&!o.index)&&t.push({path:s,score:jf(s,o.index),routesMeta:l})}),t}function Ff(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vf(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Of=/^:\w+$/,Hf=3,Lf=2,kf=1,Wf=10,Uf=-2,na=e=>e==="*";function jf(e,t){let n=e.split("/"),r=n.length;return n.some(na)&&(r+=Uf),t&&(r+=Lf),n.filter(o=>!na(o)).reduce((o,a)=>o+(Of.test(a)?Hf:a===""?kf:Wf),r)}function Vf(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function Gf(e,t){let{routesMeta:n}=e,r={},o="/",a=[];for(let i=0;i<n.length;++i){let s=n[i],l=i===n.length-1,c=o==="/"?t:t.slice(o.length)||"/",u=Lt({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=s.route;a.push({params:r,pathname:It([o,u.pathname]),pathnameBase:qf(It([o,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(o=It([o,u.pathnameBase]))}return a}function Hs(e,t){return t===void 0&&(t={}),e.replace(/:(\w+)/g,(n,r)=>(re(t[r]!=null,'Missing ":'+r+'" param'),t[r])).replace(/(\/?)\*/,(n,r,o,a)=>{const i="*";return t[i]==null?a==="/*"?"/":"":""+r+t[i]})}function Lt(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Xf(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((c,u,h)=>{if(u==="*"){let d=s[h]||"";i=a.slice(0,a.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=Yf(s[h]||"",u),c},{}),pathname:a,pathnameBase:i,pattern:e}}function Xf(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ks(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(i,s)=>(r.push(s),"([^\\/]+)"));return e.endsWith("*")?(r.push("*"),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function Yf(e,t){try{return decodeURIComponent(e)}catch(n){return ks(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Ls(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ks(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ws(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?dt(e):e;return{pathname:n?n.startsWith("/")?n:Kf(n,t):t,search:Zf(r),hash:Jf(o)}}function Kf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function co(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Us(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=dt(e):(o=Ce({},e),re(!o.pathname||!o.pathname.includes("?"),co("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),co("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),co("#","search","hash",o)));let a=e===""||o.pathname==="",i=a?"/":o.pathname,s;if(r||i==null)s=n;else{let h=t.length-1;if(i.startsWith("..")){let d=i.split("/");for(;d[0]==="..";)d.shift(),h-=1;o.pathname=d.join("/")}s=h>=0?t[h]:"/"}let l=Ws(o,s),c=i&&i!=="/"&&i.endsWith("/"),u=(a||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const It=e=>e.join("/").replace(/\/\/+/g,"/"),qf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Zf=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jf=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Qf=function(t,n){n===void 0&&(n={});let r=typeof n=="number"?{status:n}:n,o=new Headers(r.headers);return o.has("Content-Type")||o.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),Ce({},r,{headers:o}))};class br extends Error{}class js{constructor(t){this.pendingKeys=new Set,this.subscriber=void 0,re(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((o,a)=>n=a),this.controller=new AbortController;let r=()=>n(new br("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(t).reduce((o,a)=>{let[i,s]=a;return Object.assign(o,{[i]:this.trackPromise(i,s)})},{})}trackPromise(t,n){if(!(n instanceof Promise))return n;this.pendingKeys.add(t);let r=Promise.race([n,this.abortPromise]).then(o=>this.onSettle(r,t,null,o),o=>this.onSettle(r,t,o));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(t,n,r,o){if(this.controller.signal.aborted&&r instanceof br)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>r}),Promise.reject(r);this.pendingKeys.delete(n),this.done&&this.unlistenAbortSignal();const a=this.subscriber;return r?(Object.defineProperty(t,"_error",{get:()=>r}),a&&a(!1),Promise.reject(r)):(Object.defineProperty(t,"_data",{get:()=>o}),a&&a(!1),o)}subscribe(t){this.subscriber=t}cancel(){this.controller.abort(),this.pendingKeys.forEach((n,r)=>this.pendingKeys.delete(r));let t=this.subscriber;t&&t(!0)}async resolveData(t){let n=!1;if(!this.done){let r=()=>this.cancel();t.addEventListener("abort",r),n=await new Promise(o=>{this.subscribe(a=>{t.removeEventListener("abort",r),(a||this.done)&&o(a)})})}return n}get done(){return this.pendingKeys.size===0}get unwrappedData(){return re(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,n)=>{let[r,o]=n;return Object.assign(t,{[r]:th(o)})},{})}}function eh(e){return e instanceof Promise&&e._tracked===!0}function th(e){if(!eh(e))return e;if(e._error)throw e._error;return e._data}function nh(e){return new js(e)}const rh=function(t,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let o=new Headers(r.headers);return o.set("Location",t),new Response(null,Ce({},r,{headers:o}))};class yn{constructor(t,n,r){this.status=t,this.statusText=n||"",this.data=r}}function Si(e){return e instanceof yn}const uo={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},oh={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};function ih(e){re(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=Fs(e.routes),n=null,r=new Set,o=null,a=null,i=null,s=!1,l=Zt(t,e.history.location,e.basename),c=null;if(l==null){let{matches:D,route:B,error:F}=sa(t);l=D,c={[B.id]:F}}let u=!l.some(D=>D.route.loader)||e.hydrationData!=null,h,d={historyAction:e.history.action,location:e.history.location,matches:l,initialized:u,navigation:uo,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||c,fetchers:new Map},p=we.Pop,w=!1,m,S=!1,g=!1,x=[],C=[],y=new Map,E=0,_=-1,P=new Map,R=new Set,$=new Map,T=new Map;function k(){return n=e.history.listen(D=>{let{action:B,location:F}=D;return A(B,F)}),d.initialized||A(we.Pop,d.location),h}function J(){n&&n(),r.clear(),m&&m.abort(),d.fetchers.forEach((D,B)=>Z(B))}function q(D){return r.add(D),()=>r.delete(D)}function b(D){d=Ce({},d,D),r.forEach(B=>B(d))}function I(D,B){var F;let j=d.actionData!=null&&d.navigation.formMethod!=null&&d.navigation.state==="loading"&&((F=d.navigation.formAction)==null?void 0:F.split("?")[0])===D.pathname,K=B.loaderData?{loaderData:ho(d.loaderData,B.loaderData,B.matches||[])}:{};b(Ce({},j?{}:{actionData:null},B,K,{historyAction:p,location:D,initialized:!0,navigation:uo,revalidation:"idle",restoreScrollPosition:d.navigation.formData?!1:Ae(D,B.matches||d.matches),preventScrollReset:w})),S||p===we.Pop||(p===we.Push?e.history.push(D,D.state):p===we.Replace&&e.history.replace(D,D.state)),p=we.Pop,w=!1,S=!1,g=!1,x=[],C=[]}async function M(D,B){if(typeof D=="number"){e.history.go(D);return}let{path:F,submission:j,error:K}=ra(D,B),fe=Mt(d.location,F,B&&B.state),te=(B&&B.replace)===!0||j!=null?we.Replace:we.Push,ne=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0;return await A(te,fe,{submission:j,pendingError:K,preventScrollReset:ne,replace:B&&B.replace})}function z(){if(ae(),b({revalidation:"loading"}),d.navigation.state!=="submitting"){if(d.navigation.state==="idle"){A(d.historyAction,d.location,{startUninterruptedRevalidation:!0});return}A(p||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation})}}async function A(D,B,F){m&&m.abort(),m=null,p=D,S=(F&&F.startUninterruptedRevalidation)===!0,ye(d.location,d.matches),w=(F&&F.preventScrollReset)===!0;let j=F&&F.overrideNavigation,K=Zt(t,B,e.basename);if(!K){let{matches:ke,route:Q,error:ue}=sa(t);ge(),I(B,{matches:ke,loaderData:{},errors:{[Q.id]:ue}});return}if(ch(d.location,B)){I(B,{matches:K});return}m=new AbortController;let fe=bn(B,m.signal,F&&F.submission),te,ne;if(F&&F.pendingError)ne={[Jt(K).route.id]:F.pendingError};else if(F&&F.submission){let ke=await L(fe,B,F.submission,K,{replace:F.replace});if(ke.shortCircuited)return;te=ke.pendingActionData,ne=ke.pendingActionError,j=Ce({state:"loading",location:B},F.submission)}let{shortCircuited:se,loaderData:ve,errors:xe}=await H(fe,B,K,j,F&&F.submission,F&&F.replace,te,ne);se||(m=null,I(B,{matches:K,loaderData:ve,errors:xe}))}async function L(D,B,F,j,K){ae();let fe=Ce({state:"submitting",location:B},F);b({navigation:fe});let te,ne=fa(j,B);if(!ne.route.action)te=la(B);else if(te=await wn("action",D,ne),D.signal.aborted)return{shortCircuited:!0};if(nn(te)){let se=Ce({state:"loading",location:Mt(d.location,te.location)},F);return await Y(te,se,K&&K.replace),{shortCircuited:!0}}if(An(te)){let se=Jt(j,ne.route.id);return(K&&K.replace)!==!0&&(p=we.Push),{pendingActionError:{[se.route.id]:te.error}}}if(kt(te))throw new Error("defer() is not supported in actions");return{pendingActionData:{[ne.route.id]:te.data}}}async function H(D,B,F,j,K,fe,te,ne){let se=j;se||(se={state:"loading",location:B,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[ve,xe]=oa(d,F,K,B,g,x,C,te,ne,$);if(ge(_e=>!(F&&F.some(Me=>Me.route.id===_e))||ve&&ve.some(Me=>Me.route.id===_e)),ve.length===0&&xe.length===0)return I(B,{matches:F,loaderData:ho(d.loaderData,{},F),errors:ne||null,actionData:te||null}),{shortCircuited:!0};S||(xe.forEach(_e=>{let[Me]=_e;const Ze=d.fetchers.get(Me);let At={state:"loading",data:Ze&&Ze.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(Me,At)}),b(Ce({navigation:se,actionData:te||d.actionData||null},xe.length>0?{fetchers:new Map(d.fetchers)}:{}))),_=++E,xe.forEach(_e=>{let[Me]=_e;return y.set(Me,m)});let{results:ke,loaderResults:Q,fetcherResults:ue}=await ie(d.matches,ve,xe,D);if(D.signal.aborted)return{shortCircuited:!0};xe.forEach(_e=>{let[Me]=_e;return y.delete(Me)});let Pe=ca(ke);if(Pe){let _e=fo(d,Pe);return await Y(Pe,_e,fe),{shortCircuited:!0}}let{loaderData:We,errors:Fe}=aa(d,F,ve,Q,ne,xe,ue,T);T.forEach((_e,Me)=>{_e.subscribe(Ze=>{(Ze||_e.done)&&T.delete(Me)})}),Se();let Ct=he(_);return Ce({loaderData:We,errors:Fe},Ct||xe.length>0?{fetchers:new Map(d.fetchers)}:{})}function U(D){return d.fetchers.get(D)||oh}function ee(D,B,F,j){if(typeof AbortController>"u")throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");y.has(D)&&G(D);let K=Zt(t,F,e.basename);if(!K){de(D,B,new yn(404,"Not Found",null));return}let{path:fe,submission:te}=ra(F,j,!0),ne=fa(K,fe);if(te){ce(D,B,fe,ne,te);return}$.set(D,[fe,ne]),oe(D,B,fe,ne)}async function ce(D,B,F,j,K){if(ae(),$.delete(D),!j.route.action){let{error:Xe}=la(F);de(D,B,Xe);return}let fe=d.fetchers.get(D),te=Ce({state:"submitting"},K,{data:fe&&fe.data});d.fetchers.set(D,te),b({fetchers:new Map(d.fetchers)});let ne=new AbortController,se=bn(F,ne.signal,K);y.set(D,ne);let ve=await wn("action",se,j);if(se.signal.aborted){y.get(D)===ne&&y.delete(D);return}if(nn(ve)){y.delete(D),R.add(D);let Xe=Ce({state:"loading"},K,{data:void 0});d.fetchers.set(D,Xe),b({fetchers:new Map(d.fetchers)});let tt=Ce({state:"loading",location:Mt(d.location,ve.location)},K);await Y(ve,tt);return}if(An(ve)){de(D,B,ve.error);return}kt(ve)&&re(!1,"defer() is not supported in actions");let xe=d.navigation.location||d.location,ke=bn(xe,ne.signal),Q=d.navigation.state!=="idle"?Zt(t,d.navigation.location,e.basename):d.matches;re(Q,"Didn't find any matches after fetcher action");let ue=++E;P.set(D,ue);let Pe=Ce({state:"loading",data:ve.data},K);d.fetchers.set(D,Pe);let[We,Fe]=oa(d,Q,K,xe,g,x,C,{[j.route.id]:ve.data},void 0,$);Fe.filter(Xe=>{let[tt]=Xe;return tt!==D}).forEach(Xe=>{let[tt]=Xe,er=d.fetchers.get(tt),no={state:"loading",data:er&&er.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(tt,no),y.set(tt,ne)}),b({fetchers:new Map(d.fetchers)});let{results:Ct,loaderResults:_e,fetcherResults:Me}=await ie(d.matches,We,Fe,ke);if(ne.signal.aborted)return;P.delete(D),y.delete(D),Fe.forEach(Xe=>{let[tt]=Xe;return y.delete(tt)});let Ze=ca(Ct);if(Ze){let Xe=fo(d,Ze);await Y(Ze,Xe);return}let{loaderData:At,errors:lt}=aa(d,d.matches,We,_e,void 0,Fe,Me,T),eo={state:"idle",data:ve.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(D,eo);let to=he(ue);d.navigation.state==="loading"&&ue>_?(re(p,"Expected pending action"),m&&m.abort(),I(d.navigation.location,{matches:Q,loaderData:At,errors:lt,fetchers:new Map(d.fetchers)})):(b(Ce({errors:lt,loaderData:ho(d.loaderData,At,Q)},to?{fetchers:new Map(d.fetchers)}:{})),g=!1)}async function oe(D,B,F,j){let K=d.fetchers.get(D),fe={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:K&&K.data};d.fetchers.set(D,fe),b({fetchers:new Map(d.fetchers)});let te=new AbortController,ne=bn(F,te.signal);y.set(D,te);let se=await wn("loader",ne,j);if(kt(se)&&(se=await Xs(se,ne.signal,!0)||se),y.get(D)===te&&y.delete(D),ne.signal.aborted)return;if(nn(se)){let xe=fo(d,se);await Y(se,xe);return}if(An(se)){let xe=Jt(d.matches,B);d.fetchers.delete(D),b({fetchers:new Map(d.fetchers),errors:{[xe.route.id]:se.error}});return}re(!kt(se),"Unhandled fetcher deferred data");let ve={state:"idle",data:se.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(D,ve),b({fetchers:new Map(d.fetchers)})}async function Y(D,B,F){D.revalidate&&(g=!0),re(B.location,"Expected a location on the redirect navigation"),m=null;let j=F===!0?we.Replace:we.Push;await A(j,B.location,{overrideNavigation:B})}async function ie(D,B,F,j){let K=await Promise.all([...B.map(ne=>wn("loader",j,ne)),...F.map(ne=>{let[,se,ve]=ne;return wn("loader",bn(se,j.signal),ve)})]),fe=K.slice(0,B.length),te=K.slice(B.length);return await Promise.all([ua(D,B,fe,j.signal,!1,d.loaderData),ua(D,F.map(ne=>{let[,,se]=ne;return se}),te,j.signal,!0)]),{results:K,loaderResults:fe,fetcherResults:te}}function ae(){g=!0,x.push(...ge()),$.forEach((D,B)=>{y.has(B)&&(C.push(B),G(B))})}function de(D,B,F){let j=Jt(d.matches,B);Z(D),b({errors:{[j.route.id]:F},fetchers:new Map(d.fetchers)})}function Z(D){y.has(D)&&G(D),$.delete(D),P.delete(D),R.delete(D),d.fetchers.delete(D)}function G(D){let B=y.get(D);re(B,"Expected fetch controller: "+D),B.abort(),y.delete(D)}function be(D){for(let B of D){let F=U(B),j={state:"idle",data:F.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(B,j)}}function Se(){let D=[];for(let B of R){let F=d.fetchers.get(B);re(F,"Expected fetcher: "+B),F.state==="loading"&&(R.delete(B),D.push(B))}be(D)}function he(D){let B=[];for(let[F,j]of P)if(j<D){let K=d.fetchers.get(F);re(K,"Expected fetcher: "+F),K.state==="loading"&&(G(F),P.delete(F),B.push(F))}return be(B),B.length>0}function ge(D){let B=[];return T.forEach((F,j)=>{(!D||D(j))&&(F.cancel(),B.push(j),T.delete(j))}),B}function le(D,B,F){if(o=D,i=B,a=F||(j=>j.key),!s&&d.navigation===uo){s=!0;let j=Ae(d.location,d.matches);j!=null&&b({restoreScrollPosition:j})}return()=>{o=null,i=null,a=null}}function ye(D,B){if(o&&a&&i){let F=B.map(K=>da(K,d.loaderData)),j=a(D,F)||D.key;o[j]=i()}}function Ae(D,B){if(o&&a&&i){let F=B.map(fe=>da(fe,d.loaderData)),j=a(D,F)||D.key,K=o[j];if(typeof K=="number")return K}return null}return h={get basename(){return e.basename},get state(){return d},get routes(){return t},initialize:k,subscribe:q,enableScrollRestoration:le,navigate:M,fetch:ee,revalidate:z,createHref:Wr,getFetcher:U,deleteFetcher:Z,dispose:J,_internalFetchControllers:y,_internalActiveDeferreds:T},h}function ra(e,t,n){n===void 0&&(n=!1);let r=typeof e=="string"?e:Fn(e);if(!t||!("formMethod"in t)&&!("formData"in t))return{path:r};if(t.formMethod!=null&&t.formMethod!=="get")return{path:r,submission:{formMethod:t.formMethod,formAction:Wr(dt(r)),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}};if(!t.formData)return{path:r};let o=dt(r);try{let a=Gs(t.formData);n&&o.search&&Ys(o.search)&&a.append("index",""),o.search="?"+a}catch{return{path:r,error:new yn(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:Fn(o)}}function fo(e,t){let{formMethod:n,formAction:r,formEncType:o,formData:a}=e.navigation;return{state:"loading",location:Mt(e.location,t.location),formMethod:n||void 0,formAction:r||void 0,formEncType:o||void 0,formData:a||void 0}}function ah(e,t){let n=e;if(t){let r=e.findIndex(o=>o.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function oa(e,t,n,r,o,a,i,s,l,c){let u=l?Object.values(l)[0]:s?Object.values(s)[0]:null,h=l?Object.keys(l)[0]:void 0,p=ah(t,h).filter((m,S)=>m.route.loader!=null&&(sh(e.loaderData,e.matches[S],m)||a.some(g=>g===m.route.id)||ia(e.location,e.matches[S],n,r,m,o,u))),w=[];return c&&c.forEach((m,S)=>{let[g,x]=m;i.includes(S)?w.push([S,g,x]):o&&ia(g,x,n,g,x,o,u)&&w.push([S,g,x])}),[p,w]}function sh(e,t,n){let r=!t||n.route.id!==t.route.id,o=e[n.route.id]===void 0;return r||o}function Vs(e,t){let n=e.route.path;return e.pathname!==t.pathname||n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ia(e,t,n,r,o,a,i){let s=Wo(e),l=t.params,c=Wo(r),u=o.params,h=Vs(t,o)||s.toString()===c.toString()||s.search!==c.search||a;if(o.route.shouldRevalidate){let d=o.route.shouldRevalidate(Ce({currentUrl:s,currentParams:l,nextUrl:c,nextParams:u},n,{actionResult:i,defaultShouldRevalidate:h}));if(typeof d=="boolean")return d}return h}async function wn(e,t,n,r,o){r===void 0&&(r=!1),o===void 0&&(o=!1);let a,i,s,l=new Promise((u,h)=>s=h),c=()=>s();t.signal.addEventListener("abort",c);try{let u=n.route[e];re(u,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),i=await Promise.race([u({request:t,params:n.params}),l])}catch(u){a=Oe.error,i=u}finally{t.signal.removeEventListener("abort",c)}if(i instanceof Response){let u=i.status,h=i.headers.get("Location");if(o)throw i;if(u>=300&&u<=399&&h!=null){if(r)throw i;return{type:Oe.redirect,status:u,location:h,revalidate:i.headers.get("X-Remix-Revalidate")!==null}}let d,p=i.headers.get("Content-Type");return p&&p.startsWith("application/json")?d=await i.json():d=await i.text(),a===Oe.error?{type:a,error:new yn(u,i.statusText,d),headers:i.headers}:{type:Oe.data,data:d,statusCode:i.status,headers:i.headers}}return a===Oe.error?{type:a,error:i}:i instanceof js?{type:Oe.deferred,deferredData:i}:{type:Oe.data,data:i}}function bn(e,t,n){let r=Wo(e).toString(),o={signal:t};if(n){let{formMethod:a,formEncType:i,formData:s}=n;o.method=a.toUpperCase(),o.body=i==="application/x-www-form-urlencoded"?Gs(s):s}return new Request(r,o)}function Gs(e){let t=new URLSearchParams;for(let[n,r]of e.entries())re(typeof r=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(n,r);return t}function lh(e,t,n,r,o){let a={},i=null,s,l=!1,c={};return n.forEach((u,h)=>{let d=t[h].route.id;if(re(!nn(u),"Cannot handle redirect results in processLoaderData"),An(u)){let p=Jt(e,d),w=u.error;r&&(w=Object.values(r)[0],r=void 0),i=Object.assign(i||{},{[p.route.id]:w}),l||(l=!0,s=Si(u.error)?u.error.status:500),u.headers&&(c[d]=u.headers)}else kt(u)?(o&&o.set(d,u.deferredData),a[d]=u.deferredData.data):(a[d]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(s=u.statusCode),u.headers&&(c[d]=u.headers))}),r&&(i=r),{loaderData:a,errors:i,statusCode:s||200,loaderHeaders:c}}function aa(e,t,n,r,o,a,i,s){let{loaderData:l,errors:c}=lh(t,n,r,o,s);for(let u=0;u<a.length;u++){let[h,,d]=a[u];re(i!==void 0&&i[u]!==void 0,"Did not find corresponding fetcher result");let p=i[u];if(An(p)){let w=Jt(e.matches,d.route.id);c&&c[w.route.id]||(c=Ce({},c,{[w.route.id]:p.error})),e.fetchers.delete(h)}else{if(nn(p))throw new Error("Unhandled fetcher revalidation redirect");if(kt(p))throw new Error("Unhandled fetcher deferred data");{let w={state:"idle",data:p.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};e.fetchers.set(h,w)}}}return{loaderData:l,errors:c}}function ho(e,t,n){let r=Ce({},t);return n.forEach(o=>{let a=o.route.id;t[a]===void 0&&e[a]!==void 0&&(r[a]=e[a])}),r}function Jt(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function sa(e){let t=e.find(n=>n.index||n.path===""||n.path==="/")||{id:"__shim-404-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t,error:new yn(404,"Not Found",null)}}function la(e){let t=typeof e=="string"?e:Wr(e);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for "+("["+t+"]")),{type:Oe.error,error:new yn(405,"Method Not Allowed","No action found for ["+t+"]")}}function ca(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(nn(n))return n}}function Wr(e){return(e.pathname||"")+(e.search||"")}function ch(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function kt(e){return e.type===Oe.deferred}function An(e){return e.type===Oe.error}function nn(e){return(e&&e.type)===Oe.redirect}async function ua(e,t,n,r,o,a){for(let i=0;i<n.length;i++){let s=n[i],l=t[i],c=e.find(h=>h.route.id===l.route.id),u=c!=null&&!Vs(c,l)&&(a&&a[l.route.id])!==void 0;kt(s)&&(o||u)&&await Xs(s,r,o).then(h=>{h&&(n[i]=h||n[i])})}}async function Xs(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Oe.data,data:e.deferredData.unwrappedData}}catch(o){return{type:Oe.error,error:o}}return{type:Oe.data,data:e.deferredData.data}}}function Ys(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function da(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}function fa(e,t){let n=typeof t=="string"?dt(t).search:t.search;return e[e.length-1].route.index&&!Ys(n||"")?e.slice(-2)[0]:e.slice(-1)[0]}function Wo(e){let t=typeof window<"u"&&typeof window.location<"u"?window.location.origin:"unknown://unknown",n=typeof e=="string"?e:Wr(e);return new URL(n,t)}/**
 * React Router v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sr(){return Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sr.apply(this,arguments)}function uh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const dh=typeof Object.is=="function"?Object.is:uh,{useState:fh,useEffect:hh,useLayoutEffect:ph,useDebugValue:gh}=zo;function mh(e,t,n){const r=t(),[{inst:o},a]=fh({inst:{value:r,getSnapshot:t}});return ph(()=>{o.value=r,o.getSnapshot=t,po(o)&&a({inst:o})},[e,r,t]),hh(()=>(po(o)&&a({inst:o}),e(()=>{po(o)&&a({inst:o})})),[e]),gh(r),r}function po(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!dh(n,r)}catch{return!0}}function yh(e,t,n){return t()}const vh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xh=!vh,wh=xh?yh:mh,bh="useSyncExternalStore"in zo?(e=>e.useSyncExternalStore)(zo):wh,Ks=v.exports.createContext(null),Ur=v.exports.createContext(null),qn=v.exports.createContext(null),Cr=v.exports.createContext(null),jr=v.exports.createContext(null),vn=v.exports.createContext(null),gt=v.exports.createContext({outlet:null,matches:[]}),qs=v.exports.createContext(null);function Sh(e,t){let{relative:n}=t===void 0?{}:t;Rt()||re(!1);let{basename:r,navigator:o}=v.exports.useContext(jr),{hash:a,pathname:i,search:s}=el(e,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:It([r,i])),o.createHref({pathname:l,search:s,hash:a})}function Rt(){return v.exports.useContext(vn)!=null}function xn(){return Rt()||re(!1),v.exports.useContext(vn).location}function Ch(){return v.exports.useContext(vn).navigationType}function Eh(e){Rt()||re(!1);let{pathname:t}=xn();return v.exports.useMemo(()=>Lt(e,t),[t,e])}function Zs(e){return e.filter((t,n)=>n===0||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase)}function Tt(){Rt()||re(!1);let{basename:e,navigator:t}=v.exports.useContext(jr),{matches:n}=v.exports.useContext(gt),{pathname:r}=xn(),o=JSON.stringify(Zs(n).map(s=>s.pathnameBase)),a=v.exports.useRef(!1);return v.exports.useEffect(()=>{a.current=!0}),v.exports.useCallback(function(s,l){if(l===void 0&&(l={}),!a.current)return;if(typeof s=="number"){t.go(s);return}let c=Us(s,JSON.parse(o),r,l.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:It([e,c.pathname])),(l.replace?t.replace:t.push)(c,l.state,l)},[e,t,o,r])}const Js=v.exports.createContext(null);function _h(){return v.exports.useContext(Js)}function Qs(e){let t=v.exports.useContext(gt).outlet;return t&&f(Js.Provider,{value:e,children:t})}function Gt(){let{matches:e}=v.exports.useContext(gt),t=e[e.length-1];return t?t.params:{}}function el(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=v.exports.useContext(gt),{pathname:o}=xn(),a=JSON.stringify(Zs(r).map(i=>i.pathnameBase));return v.exports.useMemo(()=>Us(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function Ci(e,t){Rt()||re(!1);let n=v.exports.useContext(qn),{matches:r}=v.exports.useContext(gt),o=r[r.length-1],a=o?o.params:{};o&&o.pathname;let i=o?o.pathnameBase:"/";o&&o.route;let s=xn(),l;if(t){var c;let w=typeof t=="string"?dt(t):t;i==="/"||((c=w.pathname)==null?void 0:c.startsWith(i))||re(!1),l=w}else l=s;let u=l.pathname||"/",h=i==="/"?u:u.slice(i.length)||"/",d=Zt(e,{pathname:h}),p=tl(d&&d.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:It([i,w.pathname]),pathnameBase:w.pathnameBase==="/"?i:It([i,w.pathnameBase])})),r,n||void 0);return t?f(vn.Provider,{value:{location:Sr({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:we.Pop},children:p}):p}function Nh(){let e=nl(),t=Si(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r};return O(me,{children:[f("h2",{children:"Unhandled Thrown Error!"}),f("h3",{style:{fontStyle:"italic"},children:t}),n?f("pre",{style:o,children:n}):null,f("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),O("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",f("code",{style:a,children:"errorElement"})," props on\xA0",f("code",{style:a,children:"<Route>"})]})]})}class Ph extends v.exports.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?f(qs.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function Mh(e){let{routeContext:t,match:n,children:r}=e,o=v.exports.useContext(Ks);return o&&n.route.errorElement&&(o._deepestRenderedBoundaryId=n.route.id),f(gt.Provider,{value:t,children:r})}function tl(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,o=n==null?void 0:n.errors;if(o!=null){let a=r.findIndex(i=>i.route.id&&(o==null?void 0:o[i.route.id]));a>=0||re(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,i,s)=>{let l=i.route.id?o==null?void 0:o[i.route.id]:null,c=n?i.route.errorElement||f(Nh,{}):null,u=()=>f(Mh,{match:i,routeContext:{outlet:a,matches:t.concat(r.slice(0,s+1))},children:l?c:i.route.element!==void 0?i.route.element:a});return n&&(i.route.errorElement||s===0)?f(Ph,{location:n.location,component:c,error:l,children:u()}):u()},null)}var Uo;(function(e){e.UseRevalidator="useRevalidator"})(Uo||(Uo={}));var bt;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(bt||(bt={}));function Ih(e){let t=v.exports.useContext(Ur);return t||re(!1),t}function Xt(e){let t=v.exports.useContext(qn);return t||re(!1),t}function Dh(){return Xt(bt.UseNavigation).navigation}function Rh(){let e=Ih(Uo.UseRevalidator),t=Xt(bt.UseRevalidator);return{revalidate:e.router.revalidate,state:t.revalidation}}function Th(){let{matches:e,loaderData:t}=Xt(bt.UseMatches);return v.exports.useMemo(()=>e.map(n=>{let{pathname:r,params:o}=n;return{id:n.route.id,pathname:r,params:o,data:t[n.route.id],handle:n.route.handle}}),[e,t])}function Ah(){let e=Xt(bt.UseLoaderData),t=v.exports.useContext(gt);t||re(!1);let n=t.matches[t.matches.length-1];return n.route.id||re(!1),e.loaderData[n.route.id]}function Bh(e){return Xt(bt.UseRouteLoaderData).loaderData[e]}function $h(){let e=Xt(bt.UseActionData);return v.exports.useContext(gt)||re(!1),Object.values((e==null?void 0:e.actionData)||{})[0]}function nl(){var e;let t=v.exports.useContext(qs),n=Xt(bt.UseRouteError),r=v.exports.useContext(gt),o=r.matches[r.matches.length-1];return t||(r||re(!1),o.route.id||re(!1),(e=n.errors)==null?void 0:e[o.route.id])}function rl(){let e=v.exports.useContext(Cr);return e==null?void 0:e._data}function zh(){let e=v.exports.useContext(Cr);return e==null?void 0:e._error}function Fh(e){let{fallbackElement:t,router:n}=e,r=bh(n.subscribe,()=>n.state,()=>n.state),o=v.exports.useMemo(()=>({createHref:n.createHref,go:i=>n.navigate(i),push:(i,s,l)=>n.navigate(i,{state:s,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(i,s,l)=>n.navigate(i,{replace:!0,state:s,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[n]),a=n.basename||"/";return f(Ur.Provider,{value:{router:n,navigator:o,static:!1,basename:a},children:f(qn.Provider,{value:r,children:f(Vr,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:o,children:n.state.initialized?f(al,{}):t})})})}function Oh(e){let{basename:t,children:n,initialEntries:r,initialIndex:o}=e,a=v.exports.useRef();a.current==null&&(a.current=zs({initialEntries:r,initialIndex:o,v5Compat:!0}));let i=a.current,[s,l]=v.exports.useState({action:i.action,location:i.location});return v.exports.useLayoutEffect(()=>i.listen(l),[i]),f(Vr,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:i})}function Hh(e){let{to:t,replace:n,state:r,relative:o}=e;Rt()||re(!1);let a=v.exports.useContext(qn),i=Tt();return v.exports.useEffect(()=>{a&&a.navigation.state!=="idle"||i(t,{replace:n,state:r,relative:o})}),null}function ol(e){return Qs(e.context)}function il(e){re(!1)}function Vr(e){let{basename:t="/",children:n=null,location:r,navigationType:o=we.Pop,navigator:a,static:i=!1}=e;Rt()&&re(!1);let s=t.replace(/^\/*/,"/"),l=v.exports.useMemo(()=>({basename:s,navigator:a,static:i}),[s,a,i]);typeof r=="string"&&(r=dt(r));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:p="default"}=r,w=v.exports.useMemo(()=>{let m=Ls(c,s);return m==null?null:{pathname:m,search:u,hash:h,state:d,key:p}},[s,c,u,h,d,p]);return w==null?null:f(jr.Provider,{value:l,children:f(vn.Provider,{children:n,value:{location:w,navigationType:o}})})}function al(e){let{children:t,location:n}=e,r=v.exports.useContext(Ur),o=r&&!t?r.router.routes:On(t);return Ci(o,n)}function Lh(e){let{children:t,errorElement:n,resolve:r}=e;return f(Wh,{resolve:r,errorElement:n,children:f(Uh,{children:t})})}var Ke;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Ke||(Ke={}));const kh=new Promise(()=>{});class Wh extends v.exports.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){console.error("<Await> caught the following error during render",t,n)}render(){let{children:t,errorElement:n,resolve:r}=this.props,o=null,a=Ke.pending;if(!(r instanceof Promise))a=Ke.success,o=Promise.resolve(),Object.defineProperty(o,"_tracked",{get:()=>!0}),Object.defineProperty(o,"_data",{get:()=>r});else if(this.state.error){a=Ke.error;let i=this.state.error;o=Promise.reject().catch(()=>{}),Object.defineProperty(o,"_tracked",{get:()=>!0}),Object.defineProperty(o,"_error",{get:()=>i})}else r._tracked?(o=r,a=o._error!==void 0?Ke.error:o._data!==void 0?Ke.success:Ke.pending):(a=Ke.pending,Object.defineProperty(r,"_tracked",{get:()=>!0}),o=r.then(i=>Object.defineProperty(r,"_data",{get:()=>i}),i=>Object.defineProperty(r,"_error",{get:()=>i})));if(a===Ke.error&&o._error instanceof br)throw kh;if(a===Ke.error&&!n)throw o._error;if(a===Ke.error)return f(Cr.Provider,{value:o,children:n});if(a===Ke.success)return f(Cr.Provider,{value:o,children:t});throw o}}function Uh(e){let{children:t}=e,n=rl();return typeof t=="function"?t(n):f(me,{children:t})}function On(e,t){t===void 0&&(t=[]);let n=[];return v.exports.Children.forEach(e,(r,o)=>{if(!v.exports.isValidElement(r))return;if(r.type===v.exports.Fragment){n.push.apply(n,On(r.props.children,t));return}r.type!==il&&re(!1),!r.props.index||!r.props.children||re(!1);let a=[...t,o],i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(i.children=On(r.props.children,a)),n.push(i)}),n}function jh(e){return tl(e)}function Ei(e){return e.map(t=>{let n=Sr({},t);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=Ei(n.children)),n})}function Vh(e,t){return ih({basename:t==null?void 0:t.basename,history:zs({initialEntries:t==null?void 0:t.initialEntries,initialIndex:t==null?void 0:t.initialIndex}),hydrationData:t==null?void 0:t.hydrationData,routes:Ei(e)}).initialize()}const Gh=Object.freeze(Object.defineProperty({__proto__:null,Await:Lh,MemoryRouter:Oh,Navigate:Hh,Outlet:ol,Route:il,Router:Vr,RouterProvider:Fh,Routes:al,UNSAFE_DataRouterContext:Ur,UNSAFE_DataRouterStateContext:qn,UNSAFE_DataStaticRouterContext:Ks,UNSAFE_LocationContext:vn,UNSAFE_NavigationContext:jr,UNSAFE_RouteContext:gt,UNSAFE_enhanceManualRouteObjects:Ei,createMemoryRouter:Vh,createRoutesFromChildren:On,createRoutesFromElements:On,renderMatches:jh,useActionData:$h,useAsyncError:zh,useAsyncValue:rl,useHref:Sh,useInRouterContext:Rt,useLoaderData:Ah,useLocation:xn,useMatch:Eh,useMatches:Th,useNavigate:Tt,useNavigation:Dh,useNavigationType:Ch,useOutlet:Qs,useOutletContext:_h,useParams:Gt,useResolvedPath:el,useRevalidator:Rh,useRouteError:nl,useRouteLoaderData:Bh,useRoutes:Ci,AbortedDeferredError:br,get NavigationType(){return we},createPath:Fn,defer:nh,generatePath:Hs,isRouteErrorResponse:Si,json:Qf,matchPath:Lt,matchRoutes:Zt,parsePath:dt,redirect:rh,resolvePath:Ws},Symbol.toStringTag,{value:"Module"}));/**
 * React Router DOM v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xh(e){let{basename:t,children:n,window:r}=e,o=v.exports.useRef();o.current==null&&(o.current=Tf({window:r,v5Compat:!0}));let a=o.current,[i,s]=v.exports.useState({action:a.action,location:a.location});return v.exports.useLayoutEffect(()=>a.listen(s),[a]),f(Vr,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a})}var ha;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(ha||(ha={}));var pa;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pa||(pa={}));function un(e,t){return Hs(e,t)}var Yh=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,a=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a};function Kh(e,t){e===void 0&&(e=!1);var n=Yh(v.exports.useState(e),2),r=n[0],o=n[1],a=v.exports.useMemo(function(){var i=t===void 0?!e:t,s=function(){return o(function(d){return d===e?i:e})},l=function(d){return o(d)},c=function(){return o(e)},u=function(){return o(i)};return{toggle:s,set:l,setLeft:c,setRight:u}},[]);return[r,a]}var qh=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,a=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a};function Zh(e){e===void 0&&(e=!1);var t=qh(Kh(e),2),n=t[0],r=t[1],o=r.toggle,a=r.set,i=v.exports.useMemo(function(){var s=function(){return a(!0)},l=function(){return a(!1)};return{toggle:o,set:function(u){return a(!!u)},setTrue:s,setFalse:l}},[]);return[n,i]}function jo(e,t,n){n===void 0&&(n={});var r=Fo(t);yu(function(){var o=ps(n.target,window);if(!!(o!=null&&o.addEventListener)){var a=function(s){return r.current(s)};return o.addEventListener(e,a,{capture:n.capture,once:n.once,passive:n.passive}),function(){o.removeEventListener(e,a,{capture:n.capture})}}},[e,n.capture,n.once,n.passive],n.target)}var Vo=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Jh={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pausebreak:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftwindowkey:91,rightwindowkey:92,selectkey:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalpoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,semicolon:186,equalsign:187,comma:188,dash:189,period:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},Go={ctrl:function(t){return t.ctrlKey},shift:function(t){return t.shiftKey},alt:function(t){return t.altKey},meta:function(t){return t.metaKey}};function Qh(e){var t=Object.keys(Go).reduce(function(n,r){return Go[r](e)?n+1:n},0);return[16,17,18,91,92].includes(e.keyCode)?t:t+1}function ga(e,t,n){var r,o;if(!e.key)return!1;if(gs(t))return e.keyCode===t;var a=t.split("."),i=0;try{for(var s=Vo(a),l=s.next();!l.done;l=s.next()){var c=l.value,u=Go[c],h=Jh[c.toLowerCase()];(u&&u(e)||h&&h===e.keyCode)&&i++}}catch(d){r={error:d}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return n?i===a.length&&Qh(e)===a.length:i===a.length}function ep(e,t){return xu(e)?e:wu(e)||gs(e)?function(n){return ga(n,e,t)}:Array.isArray(e)?function(n){return e.some(function(r){return ga(n,r,t)})}:e?function(){return!0}:function(){return!1}}var tp=["keydown"];function np(e,t,n){var r=n||{},o=r.events,a=o===void 0?tp:o,i=r.target,s=r.exactMatch,l=s===void 0?!1:s,c=Fo(t),u=Fo(e);vu(function(){var h,d,p,w=ps(i,window);if(!!w){var m=function(y){var E,_=ep(u.current,l);if(_(y))return(E=c.current)===null||E===void 0?void 0:E.call(c,y)};try{for(var S=Vo(a),g=S.next();!g.done;g=S.next()){var x=g.value;(p=w==null?void 0:w.addEventListener)===null||p===void 0||p.call(w,x,m)}}catch(C){h={error:C}}finally{try{g&&!g.done&&(d=S.return)&&d.call(S)}finally{if(h)throw h.error}}return function(){var C,y,E;try{for(var _=Vo(a),P=_.next();!P.done;P=_.next()){var R=P.value;(E=w==null?void 0:w.removeEventListener)===null||E===void 0||E.call(w,R,m)}}catch($){C={error:$}}finally{try{P&&!P.done&&(y=_.return)&&y.call(_)}finally{if(C)throw C.error}}}}},[a],i)}var ot=(e=>(e.Page="Page",e.Entity="Entity",e))(ot||{});const rp=()=>f("div",{children:"ModuleManagerEntity"});var op=["fieldProps","min","proFieldProps","max"],ip=function(t,n){var r=t.fieldProps,o=t.min,a=t.proFieldProps,i=t.max,s=Or(t,op);return f(Hr,De({valueType:"digit",fieldProps:De({min:o,max:i},r),ref:n,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:a},s))};const Sn=Gn.forwardRef(ip);var ap=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],sp=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],lp=Gn.forwardRef(function(e,t){var n=e.fieldProps,r=e.children,o=e.params,a=e.proFieldProps,i=e.mode,s=e.valueEnum,l=e.request,c=e.showSearch,u=e.options,h=Or(e,ap),d=v.exports.useContext(ms);return f(Hr,De(De({valueEnum:ys(s),request:l,params:o,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:De({options:u,mode:i,showSearch:c,getPopupContainer:d.getPopupContainer},n),ref:t,proFieldProps:a},h),{},{children:r}))}),cp=Gn.forwardRef(function(e,t){var n=e.fieldProps,r=e.children,o=e.params,a=e.proFieldProps,i=e.mode,s=e.valueEnum,l=e.request,c=e.options,u=Or(e,sp),h=De({options:c,mode:i||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},n),d=v.exports.useContext(ms);return f(Hr,De(De({valueEnum:ys(s),request:l,params:o,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:De({getPopupContainer:d.getPopupContainer},h),ref:t,proFieldProps:a},u),{},{children:r}))}),up=lp,dp=cp,_i=up;_i.SearchSelect=dp;_i.displayName="ProFormComponent";const sl=_i;var fp=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],hp=Gn.forwardRef(function(e,t){var n=e.fieldProps,r=e.unCheckedChildren,o=e.checkedChildren,a=e.proFieldProps,i=Or(e,fp);return f(Hr,De({valueType:"switch",fieldProps:De({unCheckedChildren:r,checkedChildren:o},n),ref:t,valuePropName:"checked",proFieldProps:a,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},i))});const Xo=hp,He={appAtom:bu,pagesSelector:Su,pageByIdSelector:Cu,pageSelector:Eu,entitySelector:_u,entityByIdSelector:Nu,entitiesSelector:Pu,entityRelationsSelector:Mu,entityRelationsBySourceEntityNameMapSelector:Iu,entityRelationsByTargetEntityNameMapSelector:Du},pp=()=>{const e=ht(He.pagesSelector);return{addPage:v.exports.useCallback(n=>{e(at(r=>{r.push(n)}))},[e])}},gp=()=>{const e=ht(He.pageByIdSelector);return{removePage:v.exports.useCallback(n=>{e(at(r=>{Reflect.deleteProperty(r,n)}))},[e])}},mp=({searchVal:e,itemAddRef:t})=>{const{appId:n,pageId:r}=Gt(),o=Tt(),i=Ne(He.pagesSelector).filter(h=>h.name.includes(e)),[s]=Ue.useForm(),{addPage:l}=pp(),{removePage:c}=gp(),u=h=>f(ko.Item,{className:go.listItem,onClick:()=>{o(un(je.PAGE,{appId:n,pageId:h.id}))},children:O("div",{className:go.listItemContent,children:[h.id===r?f(Be.Link,{children:h.name}):f(Be.Text,{children:h.name}),f(Au,{trigger:["hover"],menu:{onClick:({key:d})=>{switch(d){case"Delete":c(h.id);break}},items:[{label:f(Be.Text,{children:"\u590D\u5236"}),key:"Copy"},{label:f(Be.Text,{type:"danger",children:"\u5220\u9664"}),key:"Delete"}]},children:f(Mf,{className:`${go.moreAction} mm_p-list_item_more_action`})},h.id)]})});return O(me,{children:[t&&vs.exports.createPortal(f(Ru,{form:s,layout:"horizontal",title:"\u521B\u5EFA\u9875\u9762",modalProps:{mask:!1},onFinish:async h=>(await s.validateFields(),console.log(h),l(xs.generateDefaultPage(h.name)),s.resetFields(),!0),trigger:f(ze,{type:"text",shape:"circle",size:"small",children:f(Tu,{})}),children:f(xt,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9875\u9762\u540D\u79F0"}],name:"name",label:"\u9875\u9762\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u9875\u9762\u540D\u79F0"})}),t),f(ko,{dataSource:i,size:"small",rowKey:"id",renderItem:u})]})},go={listItem:W({name:"19u7x2f",styles:"margin-left:-16px;margin-right:-16px;padding-left:16px;padding-right:16px;border:none!important;cursor:default;&:hover{background-color:rgba(0, 0, 0, 0.1);.mm_p-list_item_more_action{display:block!important;}}"}),listItemContent:W({name:"14rdf5a",styles:"display:flex;justify-content:space-between;align-items:center;width:100%;a{cursor:default!important;}"}),moreAction:W({name:"eivff4",styles:"display:none"})},yp=({visible:e,module:t,onClose:n})=>{const r=ws(t).with(ot.Page,()=>"\u9875\u9762").with(ot.Entity,()=>"\u6570\u636E\u6A21\u578B").otherwise(()=>"");v.exports.useEffect(()=>{a("")},[t]);const[o,a]=v.exports.useState(""),i=v.exports.useRef(null),[s,l]=v.exports.useState(!1);return v.exports.useEffect(()=>{e&&l(!0)},[e]),f("div",{className:mo.drawerWrapper,children:f(Bu,{zIndex:8,title:O("div",{children:[O("div",{className:mo.drawerTitleWrapper,children:[f("span",{children:r}),f("span",{ref:i})]}),f(Ot,{onChange:c=>a(c.target.value),value:o,allowClear:!0,placeholder:"\u641C\u7D22"})]}),headerStyle:{padding:"16px"},bodyStyle:{padding:"16px"},className:mo.drawer,placement:"left",width:220,maskClosable:!0,closable:!1,getContainer:!1,onClose:n,open:e,children:s&&O(me,{children:[t===ot.Page&&f(mp,{itemAddRef:i.current,searchVal:o}),t===ot.Entity&&f(rp,{itemAddRef:i.current,searchVal:o})]})})})},mo={drawerWrapper:W({name:"1i3648n",styles:"position:absolute;top:0;right:0;bottom:0;left:0"}),drawerTitleWrapper:W({name:"1rfcp9j",styles:"display:flex;justify-content:space-between;align-items:center;padding-bottom:16px"}),drawer:W({name:"a4hmbt",styles:"position:absolute"})},vp=()=>O(Pt.Header,{className:yo.header,children:[f("div",{className:yo.headerLogoWrapper,children:f("img",{src:"/modou.svg",alt:""})}),O("div",{className:yo.headerRight,children:[f(ze,{type:"link",href:"https://runtime.modou.ink",target:"_blank",children:"\u9884\u89C8"}),f(bs,{src:"https://joeschmoe.io/api/v1/random"})]})]}),yo={header:W({name:"wqgz8v",styles:"height:48px!important;line-height:48px!important;padding:0!important;z-index:10!important;background-color:white!important;box-shadow:rgba(0, 0, 0, 0) 0 0 0 0,rgba(0, 0, 0, 0) 0 0 0 0,rgba(0, 0, 0, 0.1) 0 4px 6px -1px,rgba(0, 0, 0, 0.1) 0px 2px 4px -2px;display:flex;justify-content:space-between;align-items:center"}),headerLogoWrapper:W({name:"fbvhi9",styles:"width:60px;display:flex;align-items:center;justify-content:center;img{height:32px;}"}),headerRight:W({name:"1syo44g",styles:"padding-right:16px;display:flex;justify-content:flex-end;align-items:center"})},xp=()=>{const e=Gt(),t=Tt(),n=Ne(He.appAtom),r=Ie.exports.isEmpty(n),o=Ie.exports.isEmpty(n.pages);return v.exports.useEffect(()=>{var a,i;r||(o?Ie.exports.isEmpty(n.entities)||t(un(je.Entity,{...e,entityId:(i=Ie.exports.head(n.entities))==null?void 0:i.id}),{replace:!0}):t(un(je.PAGE,{...e,pageId:(a=Ie.exports.head(n.pages))==null?void 0:a.id}),{replace:!0}))},[n.entities,n.pages,r,o,t,e]),f("div",{className:wp.wrapper,children:f(Fr,{size:"large"})})},wp={wrapper:W({name:"1ichkjj",styles:"height:100%;display:flex;justify-content:center;align-items:center"})},bp=[{title:"\u9875\u9762",icon:f($u,{}),key:ot.Page},{title:"\u6570\u636E\u6A21\u578B",icon:f(_f,{}),key:ot.Entity}],Sp=()=>{var d;const e=Gt(),[t,n]=v.exports.useState(""),r=Tt(),{pathname:o}=xn(),a=Lt(je.PAGE,o),i=(d=Lt(je.Entity,o))!=null?d:Lt(je.Entities,o),s=v.exports.useCallback(()=>{n(a?ot.Page:i?ot.Entity:"")},[i,a]);Ss(s);const[l,c]=v.exports.useState(!1),u=({key:p})=>{switch(p){case ot.Page:p===t?c(w=>!w):(n(p),c(!0));break;case ot.Entity:c(!1),n(p),r(un(je.Entities,{appId:e.appId}));break}};return Lt(je.APP,o)?f(xp,{}):O(Pt,{className:rr.layout,children:[f(vp,{}),O(Pt,{children:[f(Pt.Sider,{className:rr.sider,theme:"light",collapsedWidth:60,width:60,collapsible:!0,collapsed:!l,children:f(zu,{className:rr.menu,style:{width:"60px"},mode:"inline",selectedKeys:[t],onClick:u,items:bp})}),O(Pt.Content,{className:rr.layoutContent,children:[f(yp,{onClose:()=>{c(!1),s()},module:t,visible:l}),f(ol,{})]})]})]})},rr={layout:W({name:"13udsys",styles:"height:100%"}),menu:W({name:"13udsys",styles:"height:100%"}),layoutContent:W({name:"bjn8wh",styles:"position:relative"}),sider:W({name:"1fa3ne3",styles:"z-index:9!important;position:relative!important;padding:0!important;font-size:16px!important;.ant-layout-sider-trigger{display:none;}.ant-menu-item{padding-left:16px!important;padding-inline:16px;border:1px solid transparent!important;&::after{display:none!important;}}.ant-menu-item-icon{font-size:16px!important;}"})},vo={header:W({name:"104h8a1",styles:"background-color:white!important;z-index:50;box-shadow:rgba(0, 0, 0, 0) 0 0 0 0,rgba(0, 0, 0, 0) 0 0 0 0,rgba(0, 0, 0, 0.1) 0 4px 6px -1px,rgba(0, 0, 0, 0.1) 0px 2px 4px -2px;padding:0!important;height:48px!important"}),logoWrapper:W({name:"1unpx99",styles:"height:100%;width:60px;display:flex;justify-content:center;align-items:center"}),logo:W({name:"s0vnfv",styles:"height:32px"})},Cp=()=>f(Pt.Header,{className:vo.header,children:f("div",{className:vo.logoWrapper,children:f("img",{src:"/modou.svg",className:vo.logo,alt:""})})}),xo={content:W({name:"miqc5w",styles:"background-color:white;width:100%"}),cardWrapper:W({name:"xxnt60",styles:"display:flex;justify-content:center;padding:8px"}),card:W({name:"16185oo",styles:"width:100%;margin:4px;box-shadow:rgba(0, 0, 0, 0) 0 0 0 0,rgba(0, 0, 0, 0) 0 0 0 0,rgba(0, 0, 0, 0.25) 0 25px 50px -12px"})},Ep=()=>{const e=Tt();return f(Pt.Content,{className:xo.content,children:f(Vn,{gutter:[0,0],children:Array(13).fill(1).map((t,n)=>f(ln,{className:xo.cardWrapper,xs:{span:24},sm:{span:12},md:{span:8},lg:{span:6},xl:{span:4},xxl:{span:4},span:4,children:f(cn,{onClick:()=>e("/app/appId"),className:xo.card,actions:[f(Fu,{},"setting"),f(Ou,{},"edit"),f(Hu,{},"ellipsis")],children:f(cn.Meta,{avatar:f(bs,{shape:"square",src:`https://joeschmoe.io/api/v1/random?${n}`}),title:"APP NAME",description:"\u6211\u662F APP \u63CF\u8FF0"})})},n))})})},ma=()=>O(Pt,{className:W({name:"1d3w5wq",styles:"width:100%"}),children:[f(Cp,{}),f(Ep,{})]}),ll=()=>{const e=ht(He.entityByIdSelector),[t,{setFalse:n,setTrue:r}]=Zh(!1),[o]=Ue.useForm();return{setTrue:r,setFalse:n,onSubmitEntity:i=>{e(at(s=>{if(Reflect.has(s,i.id))s[i.id]={...s[i.id],...i};else{const l=xs.generateDefaultEntity(i),c=Math.max(...Object.values(s).map(u=>u.position.x));s[l.id]={...l,position:{x:c+400,y:100}}}})),n()},form:o,open:t}};var _p=function(t){return typeof t=="function"},Np=!1;const Pp=Np;function Mp(e){Pp&&(_p(e)||console.error("useMemoizedFn expected parameter is a function, got "+typeof e));var t=v.exports.useRef(e);t.current=v.exports.useMemo(function(){return e},[e]);var n=v.exports.useRef();return n.current||(n.current=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.current.apply(this,r)}),n.current}var Ip=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,a=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},Dp=function(){var t=Ip(v.exports.useState({}),2),n=t[1];return v.exports.useCallback(function(){return n({})},[])};const Rp=Dp;var pr={},Tp=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),cl="%[a-f0-9]{2}",ya=new RegExp(cl,"gi"),va=new RegExp("("+cl+")+","gi");function Yo(e,t){try{return decodeURIComponent(e.join(""))}catch{}if(e.length===1)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],Yo(n),Yo(r))}function Ap(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(ya),n=1;n<t.length;n++)e=Yo(t,n).join(""),t=e.match(ya);return e}}function Bp(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},n=va.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{var r=Ap(n[0]);r!==n[0]&&(t[n[0]]=r)}n=va.exec(e)}t["%C2"]="\uFFFD";for(var o=Object.keys(t),a=0;a<o.length;a++){var i=o[a];e=e.replace(new RegExp(i,"g"),t[i])}return e}var $p=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return Bp(e)}},zp=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const n=e.indexOf(t);return n===-1?[e]:[e.slice(0,n),e.slice(n+t.length)]},Fp=function(e,t){for(var n={},r=Object.keys(e),o=Array.isArray(t),a=0;a<r.length;a++){var i=r[a],s=e[i];(o?t.indexOf(i)!==-1:t(i,s,e))&&(n[i]=s)}return n};(function(e){const t=Tp,n=$p,r=zp,o=Fp,a=g=>g==null;function i(g){switch(g.arrayFormat){case"index":return x=>(C,y)=>{const E=C.length;return y===void 0||g.skipNull&&y===null||g.skipEmptyString&&y===""?C:y===null?[...C,[c(x,g),"[",E,"]"].join("")]:[...C,[c(x,g),"[",c(E,g),"]=",c(y,g)].join("")]};case"bracket":return x=>(C,y)=>y===void 0||g.skipNull&&y===null||g.skipEmptyString&&y===""?C:y===null?[...C,[c(x,g),"[]"].join("")]:[...C,[c(x,g),"[]=",c(y,g)].join("")];case"comma":case"separator":return x=>(C,y)=>y==null||y.length===0?C:C.length===0?[[c(x,g),"=",c(y,g)].join("")]:[[C,c(y,g)].join(g.arrayFormatSeparator)];default:return x=>(C,y)=>y===void 0||g.skipNull&&y===null||g.skipEmptyString&&y===""?C:y===null?[...C,c(x,g)]:[...C,[c(x,g),"=",c(y,g)].join("")]}}function s(g){let x;switch(g.arrayFormat){case"index":return(C,y,E)=>{if(x=/\[(\d*)\]$/.exec(C),C=C.replace(/\[\d*\]$/,""),!x){E[C]=y;return}E[C]===void 0&&(E[C]={}),E[C][x[1]]=y};case"bracket":return(C,y,E)=>{if(x=/(\[\])$/.exec(C),C=C.replace(/\[\]$/,""),!x){E[C]=y;return}if(E[C]===void 0){E[C]=[y];return}E[C]=[].concat(E[C],y)};case"comma":case"separator":return(C,y,E)=>{const _=typeof y=="string"&&y.includes(g.arrayFormatSeparator),P=typeof y=="string"&&!_&&u(y,g).includes(g.arrayFormatSeparator);y=P?u(y,g):y;const R=_||P?y.split(g.arrayFormatSeparator).map($=>u($,g)):y===null?y:u(y,g);E[C]=R};default:return(C,y,E)=>{if(E[C]===void 0){E[C]=y;return}E[C]=[].concat(E[C],y)}}}function l(g){if(typeof g!="string"||g.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function c(g,x){return x.encode?x.strict?t(g):encodeURIComponent(g):g}function u(g,x){return x.decode?n(g):g}function h(g){return Array.isArray(g)?g.sort():typeof g=="object"?h(Object.keys(g)).sort((x,C)=>Number(x)-Number(C)).map(x=>g[x]):g}function d(g){const x=g.indexOf("#");return x!==-1&&(g=g.slice(0,x)),g}function p(g){let x="";const C=g.indexOf("#");return C!==-1&&(x=g.slice(C)),x}function w(g){g=d(g);const x=g.indexOf("?");return x===-1?"":g.slice(x+1)}function m(g,x){return x.parseNumbers&&!Number.isNaN(Number(g))&&typeof g=="string"&&g.trim()!==""?g=Number(g):x.parseBooleans&&g!==null&&(g.toLowerCase()==="true"||g.toLowerCase()==="false")&&(g=g.toLowerCase()==="true"),g}function S(g,x){x=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},x),l(x.arrayFormatSeparator);const C=s(x),y=Object.create(null);if(typeof g!="string"||(g=g.trim().replace(/^[?#&]/,""),!g))return y;for(const E of g.split("&")){if(E==="")continue;let[_,P]=r(x.decode?E.replace(/\+/g," "):E,"=");P=P===void 0?null:["comma","separator"].includes(x.arrayFormat)?P:u(P,x),C(u(_,x),P,y)}for(const E of Object.keys(y)){const _=y[E];if(typeof _=="object"&&_!==null)for(const P of Object.keys(_))_[P]=m(_[P],x);else y[E]=m(_,x)}return x.sort===!1?y:(x.sort===!0?Object.keys(y).sort():Object.keys(y).sort(x.sort)).reduce((E,_)=>{const P=y[_];return Boolean(P)&&typeof P=="object"&&!Array.isArray(P)?E[_]=h(P):E[_]=P,E},Object.create(null))}e.extract=w,e.parse=S,e.stringify=(g,x)=>{if(!g)return"";x=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},x),l(x.arrayFormatSeparator);const C=P=>x.skipNull&&a(g[P])||x.skipEmptyString&&g[P]==="",y=i(x),E={};for(const P of Object.keys(g))C(P)||(E[P]=g[P]);const _=Object.keys(E);return x.sort!==!1&&_.sort(x.sort),_.map(P=>{const R=g[P];return R===void 0?"":R===null?c(P,x):Array.isArray(R)?R.reduce(y(P),[]).join("&"):c(P,x)+"="+c(R,x)}).filter(P=>P.length>0).join("&")},e.parseUrl=(g,x)=>{x=Object.assign({decode:!0},x);const[C,y]=r(g,"#");return Object.assign({url:C.split("?")[0]||"",query:S(w(g),x)},x&&x.parseFragmentIdentifier&&y?{fragmentIdentifier:u(y,x)}:{})},e.stringifyUrl=(g,x)=>{x=Object.assign({encode:!0,strict:!0},x);const C=d(g.url).split("?")[0]||"",y=e.extract(g.url),E=e.parse(y,{sort:!1}),_=Object.assign(E,g.query);let P=e.stringify(_,x);P&&(P=`?${P}`);let R=p(g.url);return g.fragmentIdentifier&&(R=`#${c(g.fragmentIdentifier,x)}`),`${C}${P}${R}`},e.pick=(g,x,C)=>{C=Object.assign({parseFragmentIdentifier:!0},C);const{url:y,query:E,fragmentIdentifier:_}=e.parseUrl(g,C);return e.stringifyUrl({url:y,query:o(E,x),fragmentIdentifier:_},C)},e.exclude=(g,x,C)=>{const y=Array.isArray(x)?E=>!x.includes(E):(E,_)=>!x(E,_);return e.pick(g,y,C)}})(pr);var Je=globalThis&&globalThis.__assign||function(){return Je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Je.apply(this,arguments)},Cn=Gh,Op={parseNumbers:!1,parseBooleans:!1},Hp={skipNull:!1,skipEmptyString:!1},ul=function(t,n){var r,o,a=n||{},i=a.navigateMode,s=i===void 0?"push":i,l=a.parseOptions,c=a.stringifyOptions,u=Je(Je({},Op),l),h=Je(Je({},Hp),c),d=Cn.useLocation(),p=(r=Cn.useHistory)===null||r===void 0?void 0:r.call(Cn),w=(o=Cn.useNavigate)===null||o===void 0?void 0:o.call(Cn),m=Rp(),S=v.exports.useRef(typeof t=="function"?t():t||{}),g=v.exports.useMemo(function(){return pr.parse(d.search,u)},[d.search]),x=v.exports.useMemo(function(){return Je(Je({},S.current),g)},[g]),C=function(E){var _=typeof E=="function"?E(x):E;m(),p&&p[s]({hash:d.hash,search:pr.stringify(Je(Je({},g),_),h)||"?"}),w&&w({hash:d.hash,search:pr.stringify(Je(Je({},g),_),h)||"?"},{replace:s==="replace"})};return[x,Mp(C)]};function Lp(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(o){o(n)}),(r=e.get("*"))&&r.slice().map(function(o){o(t,n)})}}}const Qt=Lp();function Le(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Le(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const xa=e=>{let t;const n=new Set,r=(l,c)=>{const u=typeof l=="function"?l(t):l;if(u!==t){const h=t;t=(c!=null?c:typeof u!="object")?u:Object.assign({},t,u),n.forEach(d=>d(t,h))}},o=()=>t,s={setState:r,getState:o,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>n.clear()};return t=e(r,o,s),s},kp=e=>e?xa(e):xa;var dl={exports:{}},fl={},hl={exports:{}},pl={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dn=v.exports;function Wp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Up=typeof Object.is=="function"?Object.is:Wp,jp=dn.useState,Vp=dn.useEffect,Gp=dn.useLayoutEffect,Xp=dn.useDebugValue;function Yp(e,t){var n=t(),r=jp({inst:{value:n,getSnapshot:t}}),o=r[0].inst,a=r[1];return Gp(function(){o.value=n,o.getSnapshot=t,wo(o)&&a({inst:o})},[e,n,t]),Vp(function(){return wo(o)&&a({inst:o}),e(function(){wo(o)&&a({inst:o})})},[e]),Xp(n),n}function wo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Up(e,n)}catch{return!0}}function Kp(e,t){return t()}var qp=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Kp:Yp;pl.useSyncExternalStore=dn.useSyncExternalStore!==void 0?dn.useSyncExternalStore:qp;(function(e){e.exports=pl})(hl);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=v.exports,Zp=hl.exports;function Jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qp=typeof Object.is=="function"?Object.is:Jp,eg=Zp.useSyncExternalStore,tg=Gr.useRef,ng=Gr.useEffect,rg=Gr.useMemo,og=Gr.useDebugValue;fl.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var a=tg(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=rg(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),o!==void 0&&i.hasValue){var w=i.value;if(o(w,p))return h=w}return h=p}if(w=h,Qp(u,p))return w;var m=r(p);return o!==void 0&&o(w,m)?w:(u=p,h=m)}var c=!1,u,h,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,o]);var s=eg(e,a[0],a[1]);return ng(function(){i.hasValue=!0,i.value=s},[s]),og(s),s};(function(e){e.exports=fl})(dl);const ig=Lu(dl.exports),{useSyncExternalStoreWithSelector:ag}=ig;function sg(e,t=e.getState,n){const r=ag(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return v.exports.useDebugValue(r),r}function Ge(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var lg={value:()=>{}};function Xr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new gr(n)}function gr(e){this._=e}function cg(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}gr.prototype=Xr.prototype={constructor:gr,on:function(e,t){var n=this._,r=cg(e+"",n),o,a=-1,i=r.length;if(arguments.length<2){for(;++a<i;)if((o=(e=r[a]).type)&&(o=ug(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<i;)if(o=(e=r[a]).type)n[o]=wa(n[o],e.name,t);else if(t==null)for(o in n)n[o]=wa(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new gr(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,a;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,o=a.length;r<o;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,a=r.length;o<a;++o)r[o].value.apply(t,n)}};function ug(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function wa(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=lg,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ko="http://www.w3.org/1999/xhtml";const ba={svg:"http://www.w3.org/2000/svg",xhtml:Ko,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ba.hasOwnProperty(t)?{space:ba[t],local:e}:e}function dg(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ko&&t.documentElement.namespaceURI===Ko?t.createElement(e):t.createElementNS(n,e)}}function fg(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function gl(e){var t=Yr(e);return(t.local?fg:dg)(t)}function hg(){}function Ni(e){return e==null?hg:function(){return this.querySelector(e)}}function pg(e){typeof e!="function"&&(e=Ni(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,s=r[o]=new Array(i),l,c,u=0;u<i;++u)(l=a[u])&&(c=e.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new qe(r,this._parents)}function gg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function mg(){return[]}function ml(e){return e==null?mg:function(){return this.querySelectorAll(e)}}function yg(e){return function(){return gg(e.apply(this,arguments))}}function vg(e){typeof e=="function"?e=yg(e):e=ml(e);for(var t=this._groups,n=t.length,r=[],o=[],a=0;a<n;++a)for(var i=t[a],s=i.length,l,c=0;c<s;++c)(l=i[c])&&(r.push(e.call(l,l.__data__,c,i)),o.push(l));return new qe(r,o)}function yl(e){return function(){return this.matches(e)}}function vl(e){return function(t){return t.matches(e)}}var xg=Array.prototype.find;function wg(e){return function(){return xg.call(this.children,e)}}function bg(){return this.firstElementChild}function Sg(e){return this.select(e==null?bg:wg(typeof e=="function"?e:vl(e)))}var Cg=Array.prototype.filter;function Eg(){return Array.from(this.children)}function _g(e){return function(){return Cg.call(this.children,e)}}function Ng(e){return this.selectAll(e==null?Eg:_g(typeof e=="function"?e:vl(e)))}function Pg(e){typeof e!="function"&&(e=yl(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,s=r[o]=[],l,c=0;c<i;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new qe(r,this._parents)}function xl(e){return new Array(e.length)}function Mg(){return new qe(this._enter||this._groups.map(xl),this._parents)}function Er(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Er.prototype={constructor:Er,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ig(e){return function(){return e}}function Dg(e,t,n,r,o,a){for(var i=0,s,l=t.length,c=a.length;i<c;++i)(s=t[i])?(s.__data__=a[i],r[i]=s):n[i]=new Er(e,a[i]);for(;i<l;++i)(s=t[i])&&(o[i]=s)}function Rg(e,t,n,r,o,a,i){var s,l,c=new Map,u=t.length,h=a.length,d=new Array(u),p;for(s=0;s<u;++s)(l=t[s])&&(d[s]=p=i.call(l,l.__data__,s,t)+"",c.has(p)?o[s]=l:c.set(p,l));for(s=0;s<h;++s)p=i.call(e,a[s],s,a)+"",(l=c.get(p))?(r[s]=l,l.__data__=a[s],c.delete(p)):n[s]=new Er(e,a[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(d[s])===l&&(o[s]=l)}function Tg(e){return e.__data__}function Ag(e,t){if(!arguments.length)return Array.from(this,Tg);var n=t?Rg:Dg,r=this._parents,o=this._groups;typeof e!="function"&&(e=Ig(e));for(var a=o.length,i=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],h=o[c],d=h.length,p=Bg(e.call(u,u&&u.__data__,c,r)),w=p.length,m=s[c]=new Array(w),S=i[c]=new Array(w),g=l[c]=new Array(d);n(u,h,m,S,g,p,t);for(var x=0,C=0,y,E;x<w;++x)if(y=m[x]){for(x>=C&&(C=x+1);!(E=S[C])&&++C<w;);y._next=E||null}}return i=new qe(i,r),i._enter=s,i._exit=l,i}function Bg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $g(){return new qe(this._exit||this._groups.map(xl),this._parents)}function zg(e,t,n){var r=this.enter(),o=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?a.remove():n(a),r&&o?r.merge(o).order():o}function Fg(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,a=r.length,i=Math.min(o,a),s=new Array(o),l=0;l<i;++l)for(var c=n[l],u=r[l],h=c.length,d=s[l]=new Array(h),p,w=0;w<h;++w)(p=c[w]||u[w])&&(d[w]=p);for(;l<o;++l)s[l]=n[l];return new qe(s,this._parents)}function Og(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,a=r[o],i;--o>=0;)(i=r[o])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function Hg(e){e||(e=Lg);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,o=new Array(r),a=0;a<r;++a){for(var i=n[a],s=i.length,l=o[a]=new Array(s),c,u=0;u<s;++u)(c=i[u])&&(l[u]=c);l.sort(t)}return new qe(o,this._parents).order()}function Lg(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function kg(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Wg(){return Array.from(this)}function Ug(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length;o<a;++o){var i=r[o];if(i)return i}return null}function jg(){let e=0;for(const t of this)++e;return e}function Vg(){return!this.node()}function Gg(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],a=0,i=o.length,s;a<i;++a)(s=o[a])&&e.call(s,s.__data__,a,o);return this}function Xg(e){return function(){this.removeAttribute(e)}}function Yg(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kg(e,t){return function(){this.setAttribute(e,t)}}function qg(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Zg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Jg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Qg(e,t){var n=Yr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Yg:Xg:typeof t=="function"?n.local?Jg:Zg:n.local?qg:Kg)(n,t))}function wl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function em(e){return function(){this.style.removeProperty(e)}}function tm(e,t,n){return function(){this.style.setProperty(e,t,n)}}function nm(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function rm(e,t,n){return arguments.length>1?this.each((t==null?em:typeof t=="function"?nm:tm)(e,t,n==null?"":n)):fn(this.node(),e)}function fn(e,t){return e.style.getPropertyValue(t)||wl(e).getComputedStyle(e,null).getPropertyValue(t)}function om(e){return function(){delete this[e]}}function im(e,t){return function(){this[e]=t}}function am(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function sm(e,t){return arguments.length>1?this.each((t==null?om:typeof t=="function"?am:im)(e,t)):this.node()[e]}function bl(e){return e.trim().split(/^|\s+/)}function Pi(e){return e.classList||new Sl(e)}function Sl(e){this._node=e,this._names=bl(e.getAttribute("class")||"")}Sl.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Cl(e,t){for(var n=Pi(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function El(e,t){for(var n=Pi(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function lm(e){return function(){Cl(this,e)}}function cm(e){return function(){El(this,e)}}function um(e,t){return function(){(t.apply(this,arguments)?Cl:El)(this,e)}}function dm(e,t){var n=bl(e+"");if(arguments.length<2){for(var r=Pi(this.node()),o=-1,a=n.length;++o<a;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?um:t?lm:cm)(n,t))}function fm(){this.textContent=""}function hm(e){return function(){this.textContent=e}}function pm(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function gm(e){return arguments.length?this.each(e==null?fm:(typeof e=="function"?pm:hm)(e)):this.node().textContent}function mm(){this.innerHTML=""}function ym(e){return function(){this.innerHTML=e}}function vm(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function xm(e){return arguments.length?this.each(e==null?mm:(typeof e=="function"?vm:ym)(e)):this.node().innerHTML}function wm(){this.nextSibling&&this.parentNode.appendChild(this)}function bm(){return this.each(wm)}function Sm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cm(){return this.each(Sm)}function Em(e){var t=typeof e=="function"?e:gl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function _m(){return null}function Nm(e,t){var n=typeof e=="function"?e:gl(e),r=t==null?_m:typeof t=="function"?t:Ni(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Pm(){var e=this.parentNode;e&&e.removeChild(this)}function Mm(){return this.each(Pm)}function Im(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Dm(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Rm(e){return this.select(e?Dm:Im)}function Tm(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Am(e){return function(t){e.call(this,t,this.__data__)}}function Bm(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function $m(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,o=t.length,a;n<o;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function zm(e,t,n){return function(){var r=this.__on,o,a=Am(t);if(r){for(var i=0,s=r.length;i<s;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=t;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(o):this.__on=[o]}}function Fm(e,t,n){var r=Bm(e+""),o,a=r.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(o=0,u=s[l];o<a;++o)if((i=r[o]).type===u.type&&i.name===u.name)return u.value}return}for(s=t?zm:$m,o=0;o<a;++o)this.each(s(r[o],t,n));return this}function _l(e,t,n){var r=wl(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Om(e,t){return function(){return _l(this,e,t)}}function Hm(e,t){return function(){return _l(this,e,t.apply(this,arguments))}}function Lm(e,t){return this.each((typeof t=="function"?Hm:Om)(e,t))}function*km(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length,i;o<a;++o)(i=r[o])&&(yield i)}var Nl=[null];function qe(e,t){this._groups=e,this._parents=t}function Zn(){return new qe([[document.documentElement]],Nl)}function Wm(){return this}qe.prototype=Zn.prototype={constructor:qe,select:pg,selectAll:vg,selectChild:Sg,selectChildren:Ng,filter:Pg,data:Ag,enter:Mg,exit:$g,join:zg,merge:Fg,selection:Wm,order:Og,sort:Hg,call:kg,nodes:Wg,node:Ug,size:jg,empty:Vg,each:Gg,attr:Qg,style:rm,property:sm,classed:dm,text:gm,html:xm,raise:bm,lower:Cm,append:Em,insert:Nm,remove:Mm,clone:Rm,datum:Tm,on:Fm,dispatch:Lm,[Symbol.iterator]:km};function Qe(e){return typeof e=="string"?new qe([[document.querySelector(e)]],[document.documentElement]):new qe([[e]],Nl)}function Um(e){let t;for(;t=e.sourceEvent;)e=t;return e}function nt(e,t){if(e=Um(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const jm={passive:!1},Hn={capture:!0,passive:!1};function bo(e){e.stopImmediatePropagation()}function rn(e){e.preventDefault(),e.stopImmediatePropagation()}function Pl(e){var t=e.document.documentElement,n=Qe(e).on("dragstart.drag",rn,Hn);"onselectstart"in t?n.on("selectstart.drag",rn,Hn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ml(e,t){var n=e.document.documentElement,r=Qe(e).on("dragstart.drag",null);t&&(r.on("click.drag",rn,Hn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const or=e=>()=>e;function qo(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:a,x:i,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}qo.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Vm(e){return!e.ctrlKey&&!e.button}function Gm(){return this.parentNode}function Xm(e,t){return t==null?{x:e.x,y:e.y}:t}function Ym(){return navigator.maxTouchPoints||"ontouchstart"in this}function Km(){var e=Vm,t=Gm,n=Xm,r=Ym,o={},a=Xr("start","drag","end"),i=0,s,l,c,u,h=0;function d(y){y.on("mousedown.drag",p).filter(r).on("touchstart.drag",S).on("touchmove.drag",g,jm).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(y,E){if(!(u||!e.call(this,y,E))){var _=C(this,t.call(this,y,E),y,E,"mouse");!_||(Qe(y.view).on("mousemove.drag",w,Hn).on("mouseup.drag",m,Hn),Pl(y.view),bo(y),c=!1,s=y.clientX,l=y.clientY,_("start",y))}}function w(y){if(rn(y),!c){var E=y.clientX-s,_=y.clientY-l;c=E*E+_*_>h}o.mouse("drag",y)}function m(y){Qe(y.view).on("mousemove.drag mouseup.drag",null),Ml(y.view,c),rn(y),o.mouse("end",y)}function S(y,E){if(!!e.call(this,y,E)){var _=y.changedTouches,P=t.call(this,y,E),R=_.length,$,T;for($=0;$<R;++$)(T=C(this,P,y,E,_[$].identifier,_[$]))&&(bo(y),T("start",y,_[$]))}}function g(y){var E=y.changedTouches,_=E.length,P,R;for(P=0;P<_;++P)(R=o[E[P].identifier])&&(rn(y),R("drag",y,E[P]))}function x(y){var E=y.changedTouches,_=E.length,P,R;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),P=0;P<_;++P)(R=o[E[P].identifier])&&(bo(y),R("end",y,E[P]))}function C(y,E,_,P,R,$){var T=a.copy(),k=nt($||_,E),J,q,b;if((b=n.call(y,new qo("beforestart",{sourceEvent:_,target:d,identifier:R,active:i,x:k[0],y:k[1],dx:0,dy:0,dispatch:T}),P))!=null)return J=b.x-k[0]||0,q=b.y-k[1]||0,function I(M,z,A){var L=k,H;switch(M){case"start":o[R]=I,H=i++;break;case"end":delete o[R],--i;case"drag":k=nt(A||z,E),H=i;break}T.call(M,y,new qo(M,{sourceEvent:z,subject:b,target:d,identifier:R,active:H,x:k[0]+J,y:k[1]+q,dx:k[0]-L[0],dy:k[1]-L[1],dispatch:T}),P)}}return d.filter=function(y){return arguments.length?(e=typeof y=="function"?y:or(!!y),d):e},d.container=function(y){return arguments.length?(t=typeof y=="function"?y:or(y),d):t},d.subject=function(y){return arguments.length?(n=typeof y=="function"?y:or(y),d):n},d.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:or(!!y),d):r},d.on=function(){var y=a.on.apply(a,arguments);return y===a?d:y},d.clickDistance=function(y){return arguments.length?(h=(y=+y)*y,d):Math.sqrt(h)},d}function Mi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Il(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Jn(){}var Ln=.7,_r=1/Ln,on="\\s*([+-]?\\d+)\\s*",kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qm=/^#([0-9a-f]{3,8})$/,Zm=new RegExp(`^rgb\\(${on},${on},${on}\\)$`),Jm=new RegExp(`^rgb\\(${ut},${ut},${ut}\\)$`),Qm=new RegExp(`^rgba\\(${on},${on},${on},${kn}\\)$`),e0=new RegExp(`^rgba\\(${ut},${ut},${ut},${kn}\\)$`),t0=new RegExp(`^hsl\\(${kn},${ut},${ut}\\)$`),n0=new RegExp(`^hsla\\(${kn},${ut},${ut},${kn}\\)$`),Sa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mi(Jn,Wn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ca,formatHex:Ca,formatHex8:r0,formatHsl:o0,formatRgb:Ea,toString:Ea});function Ca(){return this.rgb().formatHex()}function r0(){return this.rgb().formatHex8()}function o0(){return Dl(this).formatHsl()}function Ea(){return this.rgb().formatRgb()}function Wn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=qm.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_a(t):n===3?new Ve(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ir(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ir(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zm.exec(e))?new Ve(t[1],t[2],t[3],1):(t=Jm.exec(e))?new Ve(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Qm.exec(e))?ir(t[1],t[2],t[3],t[4]):(t=e0.exec(e))?ir(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=t0.exec(e))?Ma(t[1],t[2]/100,t[3]/100,1):(t=n0.exec(e))?Ma(t[1],t[2]/100,t[3]/100,t[4]):Sa.hasOwnProperty(e)?_a(Sa[e]):e==="transparent"?new Ve(NaN,NaN,NaN,0):null}function _a(e){return new Ve(e>>16&255,e>>8&255,e&255,1)}function ir(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ve(e,t,n,r)}function i0(e){return e instanceof Jn||(e=Wn(e)),e?(e=e.rgb(),new Ve(e.r,e.g,e.b,e.opacity)):new Ve}function Zo(e,t,n,r){return arguments.length===1?i0(e):new Ve(e,t,n,r==null?1:r)}function Ve(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Mi(Ve,Zo,Il(Jn,{brighter(e){return e=e==null?_r:Math.pow(_r,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ln:Math.pow(Ln,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ve(Ut(this.r),Ut(this.g),Ut(this.b),Nr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Na,formatHex:Na,formatHex8:a0,formatRgb:Pa,toString:Pa}));function Na(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}`}function a0(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}${Wt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pa(){const e=Nr(this.opacity);return`${e===1?"rgb(":"rgba("}${Ut(this.r)}, ${Ut(this.g)}, ${Ut(this.b)}${e===1?")":`, ${e})`}`}function Nr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ut(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wt(e){return e=Ut(e),(e<16?"0":"")+e.toString(16)}function Ma(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rt(e,t,n,r)}function Dl(e){if(e instanceof rt)return new rt(e.h,e.s,e.l,e.opacity);if(e instanceof Jn||(e=Wn(e)),!e)return new rt;if(e instanceof rt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,s=a-o,l=(a+o)/2;return s?(t===a?i=(n-r)/s+(n<r)*6:n===a?i=(r-t)/s+2:i=(t-n)/s+4,s/=l<.5?a+o:2-a-o,i*=60):s=l>0&&l<1?0:i,new rt(i,s,l,e.opacity)}function s0(e,t,n,r){return arguments.length===1?Dl(e):new rt(e,t,n,r==null?1:r)}function rt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Mi(rt,s0,Il(Jn,{brighter(e){return e=e==null?_r:Math.pow(_r,e),new rt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ln:Math.pow(Ln,e),new rt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ve(So(e>=240?e-240:e+120,o,r),So(e,o,r),So(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new rt(Ia(this.h),ar(this.s),ar(this.l),Nr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nr(this.opacity);return`${e===1?"hsl(":"hsla("}${Ia(this.h)}, ${ar(this.s)*100}%, ${ar(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ia(e){return e=(e||0)%360,e<0?e+360:e}function ar(e){return Math.max(0,Math.min(1,e||0))}function So(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Rl=e=>()=>e;function l0(e,t){return function(n){return e+n*t}}function c0(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function u0(e){return(e=+e)==1?Tl:function(t,n){return n-t?c0(t,n,e):Rl(isNaN(t)?n:t)}}function Tl(e,t){var n=t-e;return n?l0(e,n):Rl(isNaN(e)?t:e)}const Da=function e(t){var n=u0(t);function r(o,a){var i=n((o=Zo(o)).r,(a=Zo(a)).r),s=n(o.g,a.g),l=n(o.b,a.b),c=Tl(o.opacity,a.opacity);return function(u){return o.r=i(u),o.g=s(u),o.b=l(u),o.opacity=c(u),o+""}}return r.gamma=e,r}(1);function Et(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Jo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Co=new RegExp(Jo.source,"g");function d0(e){return function(){return e}}function f0(e){return function(t){return e(t)+""}}function h0(e,t){var n=Jo.lastIndex=Co.lastIndex=0,r,o,a,i=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Jo.exec(e))&&(o=Co.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),s[i]?s[i]+=a:s[++i]=a),(r=r[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,l.push({i,x:Et(r,o)})),n=Co.lastIndex;return n<t.length&&(a=t.slice(n),s[i]?s[i]+=a:s[++i]=a),s.length<2?l[0]?f0(l[0].x):d0(t):(t=l.length,function(c){for(var u=0,h;u<t;++u)s[(h=l[u]).i]=h.x(c);return s.join("")})}var Ra=180/Math.PI,Qo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Al(e,t,n,r,o,a){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*Ra,skewX:Math.atan(l)*Ra,scaleX:i,scaleY:s}}var sr;function p0(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Qo:Al(t.a,t.b,t.c,t.d,t.e,t.f)}function g0(e){return e==null||(sr||(sr=document.createElementNS("http://www.w3.org/2000/svg","g")),sr.setAttribute("transform",e),!(e=sr.transform.baseVal.consolidate()))?Qo:(e=e.matrix,Al(e.a,e.b,e.c,e.d,e.e,e.f))}function Bl(e,t,n,r){function o(c){return c.length?c.pop()+" ":""}function a(c,u,h,d,p,w){if(c!==h||u!==d){var m=p.push("translate(",null,t,null,n);w.push({i:m-4,x:Et(c,h)},{i:m-2,x:Et(u,d)})}else(h||d)&&p.push("translate("+h+t+d+n)}function i(c,u,h,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:h.push(o(h)+"rotate(",null,r)-2,x:Et(c,u)})):u&&h.push(o(h)+"rotate("+u+r)}function s(c,u,h,d){c!==u?d.push({i:h.push(o(h)+"skewX(",null,r)-2,x:Et(c,u)}):u&&h.push(o(h)+"skewX("+u+r)}function l(c,u,h,d,p,w){if(c!==h||u!==d){var m=p.push(o(p)+"scale(",null,",",null,")");w.push({i:m-4,x:Et(c,h)},{i:m-2,x:Et(u,d)})}else(h!==1||d!==1)&&p.push(o(p)+"scale("+h+","+d+")")}return function(c,u){var h=[],d=[];return c=e(c),u=e(u),a(c.translateX,c.translateY,u.translateX,u.translateY,h,d),i(c.rotate,u.rotate,h,d),s(c.skewX,u.skewX,h,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,d),c=u=null,function(p){for(var w=-1,m=d.length,S;++w<m;)h[(S=d[w]).i]=S.x(p);return h.join("")}}}var m0=Bl(p0,"px, ","px)","deg)"),y0=Bl(g0,", ",")",")"),v0=1e-12;function Ta(e){return((e=Math.exp(e))+1/e)/2}function x0(e){return((e=Math.exp(e))-1/e)/2}function w0(e){return((e=Math.exp(2*e))-1)/(e+1)}const b0=function e(t,n,r){function o(a,i){var s=a[0],l=a[1],c=a[2],u=i[0],h=i[1],d=i[2],p=u-s,w=h-l,m=p*p+w*w,S,g;if(m<v0)g=Math.log(d/c)/t,S=function(P){return[s+P*p,l+P*w,c*Math.exp(t*P*g)]};else{var x=Math.sqrt(m),C=(d*d-c*c+r*m)/(2*c*n*x),y=(d*d-c*c-r*m)/(2*d*n*x),E=Math.log(Math.sqrt(C*C+1)-C),_=Math.log(Math.sqrt(y*y+1)-y);g=(_-E)/t,S=function(P){var R=P*g,$=Ta(E),T=c/(n*x)*($*w0(t*R+E)-x0(E));return[s+T*p,l+T*w,c*$/Ta(t*R+E)]}}return S.duration=g*1e3*t/Math.SQRT2,S}return o.rho=function(a){var i=Math.max(.001,+a),s=i*i,l=s*s;return e(i,s,l)},o}(Math.SQRT2,2,4);var hn=0,Dn=0,En=0,$l=1e3,Pr,Rn,Mr=0,jt=0,Kr=0,Un=typeof performance=="object"&&performance.now?performance:Date,zl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ii(){return jt||(zl(S0),jt=Un.now()+Kr)}function S0(){jt=0}function Ir(){this._call=this._time=this._next=null}Ir.prototype=Fl.prototype={constructor:Ir,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ii():+n)+(t==null?0:+t),!this._next&&Rn!==this&&(Rn?Rn._next=this:Pr=this,Rn=this),this._call=e,this._time=n,ei()},stop:function(){this._call&&(this._call=null,this._time=1/0,ei())}};function Fl(e,t,n){var r=new Ir;return r.restart(e,t,n),r}function C0(){Ii(),++hn;for(var e=Pr,t;e;)(t=jt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--hn}function Aa(){jt=(Mr=Un.now())+Kr,hn=Dn=0;try{C0()}finally{hn=0,_0(),jt=0}}function E0(){var e=Un.now(),t=e-Mr;t>$l&&(Kr-=t,Mr=e)}function _0(){for(var e,t=Pr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Pr=n);Rn=e,ei(r)}function ei(e){if(!hn){Dn&&(Dn=clearTimeout(Dn));var t=e-jt;t>24?(e<1/0&&(Dn=setTimeout(Aa,e-Un.now()-Kr)),En&&(En=clearInterval(En))):(En||(Mr=Un.now(),En=setInterval(E0,$l)),hn=1,zl(Aa))}}function Ba(e,t,n){var r=new Ir;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var N0=Xr("start","end","cancel","interrupt"),P0=[],Ol=0,$a=1,ti=2,mr=3,za=4,ni=5,yr=6;function qr(e,t,n,r,o,a){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;M0(e,n,{name:t,index:r,group:o,on:N0,tween:P0,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ol})}function Di(e,t){var n=st(e,t);if(n.state>Ol)throw new Error("too late; already scheduled");return n}function mt(e,t){var n=st(e,t);if(n.state>mr)throw new Error("too late; already running");return n}function st(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function M0(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Fl(a,0,n.time);function a(c){n.state=$a,n.timer.restart(i,n.delay,n.time),n.delay<=c&&i(c-n.delay)}function i(c){var u,h,d,p;if(n.state!==$a)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===mr)return Ba(i);p.state===za?(p.state=yr,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[u]):+u<t&&(p.state=yr,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[u])}if(Ba(function(){n.state===mr&&(n.state=za,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=ti,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ti){for(n.state=mr,o=new Array(d=n.tween.length),u=0,h=-1;u<d;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++h]=p);o.length=h+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=ni,1),h=-1,d=o.length;++h<d;)o[h].call(e,u);n.state===ni&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=yr,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function vr(e,t){var n=e.__transition,r,o,a=!0,i;if(!!n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){a=!1;continue}o=r.state>ti&&r.state<ni,r.state=yr,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}a&&delete e.__transition}}function I0(e){return this.each(function(){vr(this,e)})}function D0(e,t){var n,r;return function(){var o=mt(this,e),a=o.tween;if(a!==n){r=n=a;for(var i=0,s=r.length;i<s;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function R0(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var a=mt(this,e),i=a.tween;if(i!==r){o=(r=i).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}a.tween=o}}function T0(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=st(this.node(),n).tween,o=0,a=r.length,i;o<a;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?D0:R0)(n,e,t))}function Ri(e,t,n){var r=e._id;return e.each(function(){var o=mt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return st(o,r).value[t]}}function Hl(e,t){var n;return(typeof t=="number"?Et:t instanceof Wn?Da:(n=Wn(t))?(t=n,Da):h0)(e,t)}function A0(e){return function(){this.removeAttribute(e)}}function B0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $0(e,t,n){var r,o=n+"",a;return function(){var i=this.getAttribute(e);return i===o?null:i===r?a:a=t(r=i,n)}}function z0(e,t,n){var r,o=n+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?a:a=t(r=i,n)}}function F0(e,t,n){var r,o,a;return function(){var i,s=n(this),l;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=s+"",i===l?null:i===r&&l===o?a:(o=l,a=t(r=i,s)))}}function O0(e,t,n){var r,o,a;return function(){var i,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=s+"",i===l?null:i===r&&l===o?a:(o=l,a=t(r=i,s)))}}function H0(e,t){var n=Yr(e),r=n==="transform"?y0:Hl;return this.attrTween(e,typeof t=="function"?(n.local?O0:F0)(n,r,Ri(this,"attr."+e,t)):t==null?(n.local?B0:A0)(n):(n.local?z0:$0)(n,r,t))}function L0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function k0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function W0(e,t){var n,r;function o(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&k0(e,a)),n}return o._value=t,o}function U0(e,t){var n,r;function o(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&L0(e,a)),n}return o._value=t,o}function j0(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Yr(e);return this.tween(n,(r.local?W0:U0)(r,t))}function V0(e,t){return function(){Di(this,e).delay=+t.apply(this,arguments)}}function G0(e,t){return t=+t,function(){Di(this,e).delay=t}}function X0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?V0:G0)(t,e)):st(this.node(),t).delay}function Y0(e,t){return function(){mt(this,e).duration=+t.apply(this,arguments)}}function K0(e,t){return t=+t,function(){mt(this,e).duration=t}}function q0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Y0:K0)(t,e)):st(this.node(),t).duration}function Z0(e,t){if(typeof t!="function")throw new Error;return function(){mt(this,e).ease=t}}function J0(e){var t=this._id;return arguments.length?this.each(Z0(t,e)):st(this.node(),t).ease}function Q0(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;mt(this,e).ease=n}}function ey(e){if(typeof e!="function")throw new Error;return this.each(Q0(this._id,e))}function ty(e){typeof e!="function"&&(e=yl(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a=t[o],i=a.length,s=r[o]=[],l,c=0;c<i;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new St(r,this._parents,this._name,this._id)}function ny(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,a=Math.min(r,o),i=new Array(r),s=0;s<a;++s)for(var l=t[s],c=n[s],u=l.length,h=i[s]=new Array(u),d,p=0;p<u;++p)(d=l[p]||c[p])&&(h[p]=d);for(;s<r;++s)i[s]=t[s];return new St(i,this._parents,this._name,this._id)}function ry(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function oy(e,t,n){var r,o,a=ry(t)?Di:mt;return function(){var i=a(this,e),s=i.on;s!==r&&(o=(r=s).copy()).on(t,n),i.on=o}}function iy(e,t){var n=this._id;return arguments.length<2?st(this.node(),n).on.on(e):this.each(oy(n,e,t))}function ay(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function sy(){return this.on("end.remove",ay(this._id))}function ly(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ni(e));for(var r=this._groups,o=r.length,a=new Array(o),i=0;i<o;++i)for(var s=r[i],l=s.length,c=a[i]=new Array(l),u,h,d=0;d<l;++d)(u=s[d])&&(h=e.call(u,u.__data__,d,s))&&("__data__"in u&&(h.__data__=u.__data__),c[d]=h,qr(c[d],t,n,d,c,st(u,n)));return new St(a,this._parents,t,n)}function cy(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ml(e));for(var r=this._groups,o=r.length,a=[],i=[],s=0;s<o;++s)for(var l=r[s],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var d=e.call(u,u.__data__,h,l),p,w=st(u,n),m=0,S=d.length;m<S;++m)(p=d[m])&&qr(p,t,n,m,d,w);a.push(d),i.push(u)}return new St(a,i,t,n)}var uy=Zn.prototype.constructor;function dy(){return new uy(this._groups,this._parents)}function fy(e,t){var n,r,o;return function(){var a=fn(this,e),i=(this.style.removeProperty(e),fn(this,e));return a===i?null:a===n&&i===r?o:o=t(n=a,r=i)}}function Ll(e){return function(){this.style.removeProperty(e)}}function hy(e,t,n){var r,o=n+"",a;return function(){var i=fn(this,e);return i===o?null:i===r?a:a=t(r=i,n)}}function py(e,t,n){var r,o,a;return function(){var i=fn(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),fn(this,e))),i===l?null:i===r&&l===o?a:(o=l,a=t(r=i,s))}}function gy(e,t){var n,r,o,a="style."+t,i="end."+a,s;return function(){var l=mt(this,e),c=l.on,u=l.value[a]==null?s||(s=Ll(t)):void 0;(c!==n||o!==u)&&(r=(n=c).copy()).on(i,o=u),l.on=r}}function my(e,t,n){var r=(e+="")=="transform"?m0:Hl;return t==null?this.styleTween(e,fy(e,r)).on("end.style."+e,Ll(e)):typeof t=="function"?this.styleTween(e,py(e,r,Ri(this,"style."+e,t))).each(gy(this._id,e)):this.styleTween(e,hy(e,r,t),n).on("end.style."+e,null)}function yy(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function vy(e,t,n){var r,o;function a(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&yy(e,i,n)),r}return a._value=t,a}function xy(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,vy(e,t,n==null?"":n))}function wy(e){return function(){this.textContent=e}}function by(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Sy(e){return this.tween("text",typeof e=="function"?by(Ri(this,"text",e)):wy(e==null?"":e+""))}function Cy(e){return function(t){this.textContent=e.call(this,t)}}function Ey(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Cy(o)),t}return r._value=e,r}function _y(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ey(e))}function Ny(){for(var e=this._name,t=this._id,n=kl(),r=this._groups,o=r.length,a=0;a<o;++a)for(var i=r[a],s=i.length,l,c=0;c<s;++c)if(l=i[c]){var u=st(l,t);qr(l,e,n,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new St(r,this._parents,e,n)}function Py(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(a,i){var s={value:i},l={value:function(){--o===0&&a()}};n.each(function(){var c=mt(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),o===0&&a()})}var My=0;function St(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function kl(){return++My}var yt=Zn.prototype;St.prototype={constructor:St,select:ly,selectAll:cy,selectChild:yt.selectChild,selectChildren:yt.selectChildren,filter:ty,merge:ny,selection:dy,transition:Ny,call:yt.call,nodes:yt.nodes,node:yt.node,size:yt.size,empty:yt.empty,each:yt.each,on:iy,attr:H0,attrTween:j0,style:my,styleTween:xy,text:Sy,textTween:_y,remove:sy,tween:T0,delay:X0,duration:q0,ease:J0,easeVarying:ey,end:Py,[Symbol.iterator]:yt[Symbol.iterator]};function Iy(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Dy={time:null,delay:0,duration:250,ease:Iy};function Ry(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ty(e){var t,n;e instanceof St?(t=e._id,e=e._name):(t=kl(),(n=Dy).time=Ii(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,a=0;a<o;++a)for(var i=r[a],s=i.length,l,c=0;c<s;++c)(l=i[c])&&qr(l,e,t,c,i,n||Ry(l,t));return new St(r,this._parents,e,t)}Zn.prototype.interrupt=I0;Zn.prototype.transition=Ty;const lr=e=>()=>e;function Ay(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function wt(e,t,n){this.k=e,this.x=t,this.y=n}wt.prototype={constructor:wt,scale:function(e){return e===1?this:new wt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new wt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dt=new wt(1,0,0);wt.prototype;function Eo(e){e.stopImmediatePropagation()}function _n(e){e.preventDefault(),e.stopImmediatePropagation()}function By(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function $y(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Fa(){return this.__zoom||Dt}function zy(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Fy(){return navigator.maxTouchPoints||"ontouchstart"in this}function Oy(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function Wl(){var e=By,t=$y,n=Oy,r=zy,o=Fy,a=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],s=250,l=b0,c=Xr("start","zoom","end"),u,h,d,p=500,w=150,m=0,S=10;function g(b){b.property("__zoom",Fa).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",T).filter(o).on("touchstart.zoom",k).on("touchmove.zoom",J).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(b,I,M,z){var A=b.selection?b.selection():b;A.property("__zoom",Fa),b!==A?E(b,I,M,z):A.interrupt().each(function(){_(this,arguments).event(z).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},g.scaleBy=function(b,I,M,z){g.scaleTo(b,function(){var A=this.__zoom.k,L=typeof I=="function"?I.apply(this,arguments):I;return A*L},M,z)},g.scaleTo=function(b,I,M,z){g.transform(b,function(){var A=t.apply(this,arguments),L=this.__zoom,H=M==null?y(A):typeof M=="function"?M.apply(this,arguments):M,U=L.invert(H),ee=typeof I=="function"?I.apply(this,arguments):I;return n(C(x(L,ee),H,U),A,i)},M,z)},g.translateBy=function(b,I,M,z){g.transform(b,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),i)},null,z)},g.translateTo=function(b,I,M,z,A){g.transform(b,function(){var L=t.apply(this,arguments),H=this.__zoom,U=z==null?y(L):typeof z=="function"?z.apply(this,arguments):z;return n(Dt.translate(U[0],U[1]).scale(H.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof M=="function"?-M.apply(this,arguments):-M),L,i)},z,A)};function x(b,I){return I=Math.max(a[0],Math.min(a[1],I)),I===b.k?b:new wt(I,b.x,b.y)}function C(b,I,M){var z=I[0]-M[0]*b.k,A=I[1]-M[1]*b.k;return z===b.x&&A===b.y?b:new wt(b.k,z,A)}function y(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function E(b,I,M,z){b.on("start.zoom",function(){_(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(z).end()}).tween("zoom",function(){var A=this,L=arguments,H=_(A,L).event(z),U=t.apply(A,L),ee=M==null?y(U):typeof M=="function"?M.apply(A,L):M,ce=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),oe=A.__zoom,Y=typeof I=="function"?I.apply(A,L):I,ie=l(oe.invert(ee).concat(ce/oe.k),Y.invert(ee).concat(ce/Y.k));return function(ae){if(ae===1)ae=Y;else{var de=ie(ae),Z=ce/de[2];ae=new wt(Z,ee[0]-de[0]*Z,ee[1]-de[1]*Z)}H.zoom(null,ae)}})}function _(b,I,M){return!M&&b.__zooming||new P(b,I)}function P(b,I){this.that=b,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,I),this.taps=0}P.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,I){return this.mouse&&b!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var I=Qe(this.that).datum();c.call(b,this.that,new Ay(b,{sourceEvent:this.sourceEvent,target:g,type:b,transform:this.that.__zoom,dispatch:c}),I)}};function R(b,...I){if(!e.apply(this,arguments))return;var M=_(this,I).event(b),z=this.__zoom,A=Math.max(a[0],Math.min(a[1],z.k*Math.pow(2,r.apply(this,arguments)))),L=nt(b);if(M.wheel)(M.mouse[0][0]!==L[0]||M.mouse[0][1]!==L[1])&&(M.mouse[1]=z.invert(M.mouse[0]=L)),clearTimeout(M.wheel);else{if(z.k===A)return;M.mouse=[L,z.invert(L)],vr(this),M.start()}_n(b),M.wheel=setTimeout(H,w),M.zoom("mouse",n(C(x(z,A),M.mouse[0],M.mouse[1]),M.extent,i));function H(){M.wheel=null,M.end()}}function $(b,...I){if(d||!e.apply(this,arguments))return;var M=b.currentTarget,z=_(this,I,!0).event(b),A=Qe(b.view).on("mousemove.zoom",ee,!0).on("mouseup.zoom",ce,!0),L=nt(b,M),H=b.clientX,U=b.clientY;Pl(b.view),Eo(b),z.mouse=[L,this.__zoom.invert(L)],vr(this),z.start();function ee(oe){if(_n(oe),!z.moved){var Y=oe.clientX-H,ie=oe.clientY-U;z.moved=Y*Y+ie*ie>m}z.event(oe).zoom("mouse",n(C(z.that.__zoom,z.mouse[0]=nt(oe,M),z.mouse[1]),z.extent,i))}function ce(oe){A.on("mousemove.zoom mouseup.zoom",null),Ml(oe.view,z.moved),_n(oe),z.event(oe).end()}}function T(b,...I){if(!!e.apply(this,arguments)){var M=this.__zoom,z=nt(b.changedTouches?b.changedTouches[0]:b,this),A=M.invert(z),L=M.k*(b.shiftKey?.5:2),H=n(C(x(M,L),z,A),t.apply(this,I),i);_n(b),s>0?Qe(this).transition().duration(s).call(E,H,z,b):Qe(this).call(g.transform,H,z,b)}}function k(b,...I){if(!!e.apply(this,arguments)){var M=b.touches,z=M.length,A=_(this,I,b.changedTouches.length===z).event(b),L,H,U,ee;for(Eo(b),H=0;H<z;++H)U=M[H],ee=nt(U,this),ee=[ee,this.__zoom.invert(ee),U.identifier],A.touch0?!A.touch1&&A.touch0[2]!==ee[2]&&(A.touch1=ee,A.taps=0):(A.touch0=ee,L=!0,A.taps=1+!!u);u&&(u=clearTimeout(u)),L&&(A.taps<2&&(h=ee[0],u=setTimeout(function(){u=null},p)),vr(this),A.start())}}function J(b,...I){if(!!this.__zooming){var M=_(this,I).event(b),z=b.changedTouches,A=z.length,L,H,U,ee;for(_n(b),L=0;L<A;++L)H=z[L],U=nt(H,this),M.touch0&&M.touch0[2]===H.identifier?M.touch0[0]=U:M.touch1&&M.touch1[2]===H.identifier&&(M.touch1[0]=U);if(H=M.that.__zoom,M.touch1){var ce=M.touch0[0],oe=M.touch0[1],Y=M.touch1[0],ie=M.touch1[1],ae=(ae=Y[0]-ce[0])*ae+(ae=Y[1]-ce[1])*ae,de=(de=ie[0]-oe[0])*de+(de=ie[1]-oe[1])*de;H=x(H,Math.sqrt(ae/de)),U=[(ce[0]+Y[0])/2,(ce[1]+Y[1])/2],ee=[(oe[0]+ie[0])/2,(oe[1]+ie[1])/2]}else if(M.touch0)U=M.touch0[0],ee=M.touch0[1];else return;M.zoom("touch",n(C(H,U,ee),M.extent,i))}}function q(b,...I){if(!!this.__zooming){var M=_(this,I).event(b),z=b.changedTouches,A=z.length,L,H;for(Eo(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),L=0;L<A;++L)H=z[L],M.touch0&&M.touch0[2]===H.identifier?delete M.touch0:M.touch1&&M.touch1[2]===H.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(H=nt(H,this),Math.hypot(h[0]-H[0],h[1]-H[1])<S)){var U=Qe(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return g.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:lr(+b),g):r},g.filter=function(b){return arguments.length?(e=typeof b=="function"?b:lr(!!b),g):e},g.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:lr(!!b),g):o},g.extent=function(b){return arguments.length?(t=typeof b=="function"?b:lr([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),g):t},g.scaleExtent=function(b){return arguments.length?(a[0]=+b[0],a[1]=+b[1],g):[a[0],a[1]]},g.translateExtent=function(b){return arguments.length?(i[0][0]=+b[0][0],i[1][0]=+b[1][0],i[0][1]=+b[0][1],i[1][1]=+b[1][1],g):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},g.constrain=function(b){return arguments.length?(n=b,g):n},g.duration=function(b){return arguments.length?(s=+b,g):s},g.interpolate=function(b){return arguments.length?(l=b,g):l},g.on=function(){var b=c.on.apply(c,arguments);return b===c?g:b},g.clickDistance=function(b){return arguments.length?(m=(b=+b)*b,g):Math.sqrt(m)},g.tapDistance=function(b){return arguments.length?(S=+b,g):S},g}const Ti=v.exports.createContext(null),Hy=Ti.Provider,Ul="[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#100";function Ee(e,t){const n=v.exports.useContext(Ti);if(n===null)throw new Error(Ul);return sg(n,e,t)}const Te=()=>{const e=v.exports.useContext(Ti);if(e===null)throw new Error(Ul);return v.exports.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Ly=e=>e.userSelectionActive?"none":"all";function Ai({position:e,children:t,className:n,style:r,...o}){const a=Ee(Ly),i=`${e}`.split("-");return f("div",{className:Le(["react-flow__panel",n,...i]),style:{...r,pointerEvents:a},...o,children:t})}function ky({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:f(Ai,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:f("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Wy=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:a={},labelBgPadding:i=[2,4],labelBgBorderRadius:s=2,children:l,className:c,...u})=>{const h=v.exports.useRef(null),[d,p]=v.exports.useState({x:0,y:0,width:0,height:0}),w=Le(["react-flow__edge-textwrapper",c]);return v.exports.useEffect(()=>{if(h.current){const m=h.current.getBBox();p({x:m.x,y:m.y,width:m.width,height:m.height})}},[n]),typeof n>"u"||!n?null:O("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:w,visibility:d.width?"visible":"hidden",...u,children:[o&&f("rect",{width:d.width+2*i[0],x:-i[0],y:-i[1],height:d.height+2*i[1],className:"react-flow__edge-textbg",style:a,rx:s,ry:s}),f("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:h,style:r,children:n}),l]})};var Uy=v.exports.memo(Wy);const Qn=({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:i,labelBgPadding:s,labelBgBorderRadius:l,style:c,markerEnd:u,markerStart:h,interactionWidth:d=20})=>O(me,{children:[f("path",{style:c,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:u,markerStart:h}),d&&f("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r?f(Uy,{x:t,y:n,label:r,labelStyle:o,labelShowBg:a,labelBgStyle:i,labelBgPadding:s,labelBgBorderRadius:l}):null]});Qn.displayName="BaseEdge";function Nn(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(a=>a.id===e);o&&n(r,{...o})}}function jl({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,a=n<e?n+o:n-o,i=Math.abs(r-t)/2,s=r<t?r+i:r-i;return[a,s,o,i]}function Vl({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:a,targetControlX:i,targetControlY:s}){const l=e*.125+o*.375+i*.375+n*.125,c=t*.125+a*.375+s*.375+r*.125,u=Math.abs(l-e),h=Math.abs(c-t);return[l,c,u,h]}var pn;(function(e){e.Strict="strict",e.Loose="loose"})(pn||(pn={}));var an;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(an||(an={}));const Bi=e=>({width:e.offsetWidth,height:e.offsetHeight}),sn=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),$i=(e={x:0,y:0},t)=>({x:sn(e.x,t[0][0],t[1][0]),y:sn(e.y,t[0][1],t[1][1])}),Gl=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Xl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Dr=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Yl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Oa=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),jy=(e,t)=>Yl(Xl(Dr(e),Dr(t))),ri=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Vy=e=>!!e.width&&!!e.height&&!!e.x&&!!e.y,Kl=e=>!isNaN(e)&&isFinite(e),$e=Symbol.for("internals"),ql=["Enter"," ","Escape"],Gy=e=>{};var Nt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Nt||(Nt={}));var Rr;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Rr||(Rr={}));var X;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(X||(X={}));function Ha({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===X.Left||e===X.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Zl({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:o,targetPosition:a=X.Top}){const[i,s]=Ha({pos:n,x1:e,y1:t,x2:r,y2:o}),[l,c]=Ha({pos:a,x1:r,y1:o,x2:e,y2:t}),[u,h,d,p]=Vl({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${i},${s} ${l},${c} ${r},${o}`,u,h,d,p]}const zi=v.exports.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=X.Bottom,targetPosition:a=X.Top,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:h,style:d,markerEnd:p,markerStart:w,interactionWidth:m})=>{const[S,g,x]=Zl({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:a});return f(Qn,{path:S,labelX:g,labelY:x,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:h,style:d,markerEnd:p,markerStart:w,interactionWidth:m})});zi.displayName="SimpleBezierEdge";const La={[X.Left]:{x:-1,y:0},[X.Right]:{x:1,y:0},[X.Top]:{x:0,y:-1},[X.Bottom]:{x:0,y:1}},Xy=({source:e,sourcePosition:t=X.Bottom,target:n})=>t===X.Left||t===X.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},ka=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Yy({source:e,sourcePosition:t=X.Bottom,target:n,targetPosition:r=X.Top,center:o,offset:a}){const i=La[t],s=La[r],l={x:e.x+i.x*a,y:e.y+i.y*a},c={x:n.x+s.x*a,y:n.y+s.y*a},u=Xy({source:l,sourcePosition:t,target:c}),h=u.x!==0?"x":"y",d=u[h];let p=[],w,m;const[S,g,x,C]=jl({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[h]*s[h]===-1){w=o.x||S,m=o.y||g;const E=[{x:w,y:l.y},{x:w,y:c.y}],_=[{x:l.x,y:m},{x:c.x,y:m}];i[h]===d?p=h==="x"?E:_:p=h==="x"?_:E}else{const E=[{x:l.x,y:c.y}],_=[{x:c.x,y:l.y}];if(h==="x"?p=i.x===d?_:E:p=i.y===d?E:_,t!==r){const P=h==="x"?"y":"x",R=i[h]===s[P],$=l[P]>c[P],T=l[P]<c[P];(i[h]===1&&(!R&&$||R&&T)||i[h]!==1&&(!R&&T||R&&$))&&(p=h==="x"?E:_)}w=p[0].x,m=p[0].y}return[[e,l,...p,c,n],w,m,x,C]}function Ky(e,t,n,r){const o=Math.min(ka(e,t)/2,ka(t,n)/2,r),{x:a,y:i}=t;if(e.x===a&&a===n.x||e.y===i&&i===n.y)return`L${a} ${i}`;if(e.y===i){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${a+o*c},${i}Q ${a},${i} ${a},${i+o*u}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${a},${i+o*l}Q ${a},${i} ${a+o*s},${i}`}function oi({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:o,targetPosition:a=X.Top,borderRadius:i=5,centerX:s,centerY:l,offset:c=20}){const[u,h,d,p,w]=Yy({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:a,center:{x:s,y:l},offset:c});return[u.reduce((S,g,x)=>{let C="";return x>0&&x<u.length-1?C=Ky(u[x-1],g,u[x+1],i):C=`${x===0?"M":"L"}${g.x} ${g.y}`,S+=C,S},""),h,d,p,w]}const Zr=v.exports.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:h=X.Bottom,targetPosition:d=X.Top,markerEnd:p,markerStart:w,pathOptions:m,interactionWidth:S})=>{const[g,x,C]=oi({sourceX:e,sourceY:t,sourcePosition:h,targetX:n,targetY:r,targetPosition:d,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset});return f(Qn,{path:g,labelX:x,labelY:C,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:p,markerStart:w,interactionWidth:S})});Zr.displayName="SmoothStepEdge";const Fi=v.exports.memo(e=>{var t;return f(Zr,{...e,pathOptions:v.exports.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Fi.displayName="StepEdge";function qy({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,a,i,s]=jl({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,a,i,s]}const Oi=v.exports.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:h,markerStart:d,interactionWidth:p})=>{const[w,m,S]=qy({sourceX:e,sourceY:t,targetX:n,targetY:r});return f(Qn,{path:w,labelX:m,labelY:S,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:h,markerStart:d,interactionWidth:p})});Oi.displayName="StraightEdge";function cr(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Wa({pos:e,x1:t,y1:n,x2:r,y2:o,c:a}){switch(e){case X.Left:return[t-cr(t-r,a),n];case X.Right:return[t+cr(r-t,a),n];case X.Top:return[t,n-cr(n-o,a)];case X.Bottom:return[t,n+cr(o-n,a)]}}function Jl({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:o,targetPosition:a=X.Top,curvature:i=.25}){const[s,l]=Wa({pos:n,x1:e,y1:t,x2:r,y2:o,c:i}),[c,u]=Wa({pos:a,x1:r,y1:o,x2:e,y2:t,c:i}),[h,d,p,w]=Vl({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${r},${o}`,h,d,p,w]}const Tr=v.exports.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=X.Bottom,targetPosition:a=X.Top,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:h,style:d,markerEnd:p,markerStart:w,pathOptions:m,interactionWidth:S})=>{const[g,x,C]=Jl({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:a,curvature:m==null?void 0:m.curvature});return f(Qn,{path:g,labelX:x,labelY:C,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:h,style:d,markerEnd:p,markerStart:w,interactionWidth:S})});Tr.displayName="BezierEdge";const Hi=v.exports.createContext(null),Zy=Hi.Provider;Hi.Consumer;function ii(e,t,n,r,o,a,i){const s=i.elementFromPoint(e.clientX,e.clientY),l=(s==null?void 0:s.classList.contains("target"))||!1,c=(s==null?void 0:s.classList.contains("source"))||!1,u={elementBelow:s,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(s&&(l||c)){u.isHoveringHandle=!0;const h=s.getAttribute("data-nodeid"),d=s.getAttribute("data-handleid"),p=n?{source:h,sourceHandle:d,target:r,targetHandle:o}:{source:r,sourceHandle:o,target:h,targetHandle:d};u.connection=p,(t===pn.Strict?n&&c||!n&&l:!0)&&(u.isValid=a(p))}return u}function _o(e){e==null||e.classList.remove("react-flow__handle-valid"),e==null||e.classList.remove("react-flow__handle-connecting")}function Ql({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:a,setState:i,isValidConnection:s,elementEdgeUpdaterType:l,onEdgeUpdateEnd:c}){const u=e.target.closest(".react-flow"),h=Gl(e.target);if(!h)return;const d=h.elementFromPoint(e.clientX,e.clientY),p=d==null?void 0:d.classList.contains("target"),w=d==null?void 0:d.classList.contains("source");if(!u||!p&&!w&&!l)return;const{onConnectStart:m,connectionMode:S}=a(),g=l||(p?"target":"source"),x=u.getBoundingClientRect();let C;i({connectionPosition:{x:e.clientX-x.left,y:e.clientY-x.top},connectionNodeId:n,connectionHandleId:t,connectionHandleType:g}),m==null||m(e,{nodeId:n,handleId:t,handleType:g});function y(_){i({connectionPosition:{x:_.clientX-x.left,y:_.clientY-x.top}});const{connection:P,elementBelow:R,isValid:$,isHoveringHandle:T}=ii(_,S,o,n,t,s,h);if(!T)return _o(C);P.source!==P.target&&R&&(_o(C),C=R,R.classList.add("react-flow__handle-connecting"),R.classList.toggle("react-flow__handle-valid",$))}function E(_){var $,T;const{connection:P,isValid:R}=ii(_,S,o,n,t,s,h);R&&(r==null||r(P)),(T=($=a()).onConnectEnd)==null||T.call($,_),l&&c&&c(_),_o(C),i({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),h.removeEventListener("mousemove",y),h.removeEventListener("mouseup",E)}h.addEventListener("mousemove",y),h.addEventListener("mouseup",E)}const Jy=e=>"id"in e&&"source"in e&&"target"in e,Qy=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,ai=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,ev=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),ec=(e,t)=>{if(!e.source||!e.target)return t;let n;return Jy(e)?n={...e}:n={...e,id:Qy(e)},ev(n,t)?t:t.concat(n)},tv=({x:e,y:t},[n,r,o],a,[i,s])=>{const l={x:(e-n)/o,y:(t-r)/o};return a?{x:i*Math.round(l.x/i),y:s*Math.round(l.y/s)}:l},Jr=e=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const t=e.reduce((n,{positionAbsolute:r,position:o,width:a,height:i})=>Xl(n,Dr({x:r?r.x:o.x,y:r?r.y:o.y,width:a||0,height:i||0})),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Yl(t)},tc=(e,t,[n,r,o]=[0,0,1],a=!1,i=!1)=>{const s={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},l=[];return e.forEach(c=>{const{positionAbsolute:u={x:0,y:0},width:h,height:d,selectable:p=!0}=c;if(i&&!p)return!1;const w={...u,width:h||0,height:d||0},m=ri(s,w),S=typeof h>"u"||typeof d>"u"||h===null||d===null,g=a&&m>0,x=(h||0)*(d||0);(S||g||m>=x||c.dragging)&&l.push(c)}),l},nc=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},rc=(e,t,n,r,o,a=.1)=>{const i=t/(e.width*(1+a)),s=n/(e.height*(1+a)),l=Math.min(i,s),c=sn(l,r,o),u=e.x+e.width/2,h=e.y+e.height/2,d=t/2-u*c,p=n/2-h*c;return[d,p,c]},zt=(e,t=0)=>e.transition().duration(t),nv=()=>!0,rv=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),oc=v.exports.forwardRef(({type:e="source",position:t=X.Top,isValidConnection:n=nv,isConnectable:r=!0,id:o,onConnect:a,children:i,className:s,onMouseDown:l,...c},u)=>{const h=Te(),d=v.exports.useContext(Hi),{connectionStartHandle:p,connectOnClick:w,noPanClassName:m}=Ee(rv,Ge),S=o||null,g=e==="target",x=E=>{const{defaultEdgeOptions:_,onConnect:P,hasDefaultEdges:R}=h.getState(),$={..._,...E};if(R){const{edges:T}=h.getState();h.setState({edges:ec($,T)})}P==null||P($),a==null||a($)},C=E=>{E.button===0&&Ql({event:E,handleId:S,nodeId:d,onConnect:x,isTarget:g,getState:h.getState,setState:h.setState,isValidConnection:n}),l==null||l(E)},y=E=>{const{onClickConnectStart:_,onClickConnectEnd:P,connectionMode:R}=h.getState();if(!p){_==null||_(E,{nodeId:d,handleId:S,handleType:e}),h.setState({connectionStartHandle:{nodeId:d,type:e,handleId:S}});return}const $=Gl(E.target),{connection:T,isValid:k}=ii(E,R,p.type==="target",p.nodeId,p.handleId||null,n,$);k&&x(T),P==null||P(E),h.setState({connectionStartHandle:null})};return f("div",{"data-handleid":S,"data-nodeid":d,"data-handlepos":t,className:Le(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",m,s,{source:!g,target:g,connectable:r,connecting:(p==null?void 0:p.nodeId)===d&&(p==null?void 0:p.handleId)===S&&(p==null?void 0:p.type)===e}]),onMouseDown:C,onClick:w?y:void 0,ref:u,...c,children:i})});oc.displayName="Handle";var jn=v.exports.memo(oc);const ic=({data:e,isConnectable:t,targetPosition:n=X.Top,sourcePosition:r=X.Bottom})=>O(me,{children:[f(jn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,f(jn,{type:"source",position:r,isConnectable:t})]});ic.displayName="DefaultNode";var si=v.exports.memo(ic);const ac=({data:e,isConnectable:t,sourcePosition:n=X.Bottom})=>O(me,{children:[e==null?void 0:e.label,f(jn,{type:"source",position:n,isConnectable:t})]});ac.displayName="InputNode";var sc=v.exports.memo(ac);const lc=({data:e,isConnectable:t,targetPosition:n=X.Top})=>O(me,{children:[f(jn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]});lc.displayName="OutputNode";var cc=v.exports.memo(lc);const Li=()=>null;Li.displayName="GroupNode";const ov=e=>({selectedNodes:Array.from(e.nodeInternals.values()).filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),ur=e=>e.id;function iv(e,t){return Ge(e.selectedNodes.map(ur),t.selectedNodes.map(ur))&&Ge(e.selectedEdges.map(ur),t.selectedEdges.map(ur))}const uc=v.exports.memo(({onSelectionChange:e})=>{const t=Te(),{selectedNodes:n,selectedEdges:r}=Ee(ov,iv);return v.exports.useEffect(()=>{var a,i;const o={nodes:n,edges:r};e==null||e(o),(i=(a=t.getState()).onSelectionChange)==null||i.call(a,o)},[n,r,e]),null});uc.displayName="SelectionListener";const av=e=>!!e.onSelectionChange;function sv({onSelectionChange:e}){const t=Ee(av);return e||t?f(uc,{onSelectionChange:e}):null}const lv=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Kt(e,t){v.exports.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function pe(e,t,n){v.exports.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const cv=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:a,onConnectEnd:i,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:h,edgesFocusable:d,minZoom:p,maxZoom:w,nodeExtent:m,onNodesChange:S,onEdgesChange:g,elementsSelectable:x,connectionMode:C,snapGrid:y,snapToGrid:E,translateExtent:_,connectOnClick:P,defaultEdgeOptions:R,fitView:$,fitViewOptions:T,onNodesDelete:k,onEdgesDelete:J,onNodeDrag:q,onNodeDragStart:b,onNodeDragStop:I,onSelectionDrag:M,onSelectionDragStart:z,onSelectionDragStop:A,noPanClassName:L,nodeOrigin:H,rfId:U})=>{const{setNodes:ee,setEdges:ce,setDefaultNodesAndEdges:oe,setMinZoom:Y,setMaxZoom:ie,setTranslateExtent:ae,setNodeExtent:de,reset:Z}=Ee(lv,Ge),G=Te();return v.exports.useEffect(()=>{const be=r==null?void 0:r.map(Se=>({...Se,...R}));return oe(n,be),()=>{Z()}},[]),pe("defaultEdgeOptions",R,G.setState),pe("connectionMode",C,G.setState),pe("onConnect",o,G.setState),pe("onConnectStart",a,G.setState),pe("onConnectEnd",i,G.setState),pe("onClickConnectStart",s,G.setState),pe("onClickConnectEnd",l,G.setState),pe("nodesDraggable",c,G.setState),pe("nodesConnectable",u,G.setState),pe("nodesFocusable",h,G.setState),pe("edgesFocusable",d,G.setState),pe("elementsSelectable",x,G.setState),pe("snapToGrid",E,G.setState),pe("snapGrid",y,G.setState),pe("onNodesChange",S,G.setState),pe("onEdgesChange",g,G.setState),pe("connectOnClick",P,G.setState),pe("fitViewOnInit",$,G.setState),pe("fitViewOnInitOptions",T,G.setState),pe("onNodesDelete",k,G.setState),pe("onEdgesDelete",J,G.setState),pe("onNodeDrag",q,G.setState),pe("onNodeDragStart",b,G.setState),pe("onNodeDragStop",I,G.setState),pe("onSelectionDrag",M,G.setState),pe("onSelectionDragStart",z,G.setState),pe("onSelectionDragStop",A,G.setState),pe("noPanClassName",L,G.setState),pe("nodeOrigin",H,G.setState),pe("rfId",U,G.setState),Kt(e,ee),Kt(t,ce),Kt(p,Y),Kt(w,ie),Kt(_,ae),Kt(m,de),null},Ua={display:"none"},uv={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},dc="react-flow__node-desc",fc="react-flow__edge-desc",dv="react-flow__aria-live",fv=e=>e.ariaLiveMessage;function hv({rfId:e}){const t=Ee(fv);return f("div",{id:`${dv}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:uv,children:t})}function pv({rfId:e,disableKeyboardA11y:t}){return O(me,{children:[O("div",{id:`${dc}-${e}`,style:Ua,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),f("div",{id:`${fc}-${e}`,style:Ua,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&f(hv,{rfId:e})]})}const gv=(e,t,n)=>n===X.Left?e-t:n===X.Right?e+t:e,mv=(e,t,n)=>n===X.Top?e-t:n===X.Bottom?e+t:e,ja="react-flow__edgeupdater",Va=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:a,onMouseOut:i,type:s})=>f("circle",{onMouseDown:o,onMouseEnter:a,onMouseOut:i,className:Le([ja,`${ja}-${s}`]),cx:gv(t,r,e),cy:mv(n,r,e),r,stroke:"transparent",fill:"transparent"});var qt=e=>{const t=({id:n,className:r,type:o,data:a,onClick:i,onEdgeDoubleClick:s,selected:l,animated:c,label:u,labelStyle:h,labelShowBg:d,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:m,style:S,source:g,target:x,sourceX:C,sourceY:y,targetX:E,targetY:_,sourcePosition:P,targetPosition:R,elementsSelectable:$,hidden:T,sourceHandleId:k,targetHandleId:J,onContextMenu:q,onMouseEnter:b,onMouseMove:I,onMouseLeave:M,edgeUpdaterRadius:z,onEdgeUpdate:A,onEdgeUpdateStart:L,onEdgeUpdateEnd:H,markerEnd:U,markerStart:ee,rfId:ce,ariaLabel:oe,isFocusable:Y,pathOptions:ie,interactionWidth:ae})=>{const de=v.exports.useRef(null),[Z,G]=v.exports.useState(!1),[be,Se]=v.exports.useState(!1),he=Te(),ge=v.exports.useMemo(()=>`url(#${ai(ee,ce)})`,[ee,ce]),le=v.exports.useMemo(()=>`url(#${ai(U,ce)})`,[U,ce]);if(T)return null;const ye=Q=>{const{edges:ue,addSelectedEdges:Pe}=he.getState();if($&&(he.setState({nodesSelectionActive:!1}),Pe([n])),i){const We=ue.find(Fe=>Fe.id===n);i(Q,We)}},Ae=Nn(n,he.getState,s),D=Nn(n,he.getState,q),B=Nn(n,he.getState,b),F=Nn(n,he.getState,I),j=Nn(n,he.getState,M),K=(Q,ue)=>{const Pe=ue?x:g,We=(ue?J:k)||null,Fe=ue?"target":"source",Ct=()=>!0,_e=ue,Me=he.getState().edges.find(lt=>lt.id===n);Se(!0),L==null||L(Q,Me,Fe);const Ze=lt=>{Se(!1),H==null||H(lt,Me,Fe)};Ql({event:Q,handleId:We,nodeId:Pe,onConnect:lt=>A==null?void 0:A(Me,lt),isTarget:_e,getState:he.getState,setState:he.setState,isValidConnection:Ct,elementEdgeUpdaterType:Fe,onEdgeUpdateEnd:Ze})},fe=Q=>K(Q,!0),te=Q=>K(Q,!1),ne=()=>G(!0),se=()=>G(!1),ve=!$&&!i,xe=typeof A<"u",ke=Q=>{var ue;if(ql.includes(Q.key)&&$){const{unselectNodesAndEdges:Pe,addSelectedEdges:We,edges:Fe}=he.getState();Q.key==="Escape"?((ue=de.current)==null||ue.blur(),Pe({edges:[Fe.find(_e=>_e.id===n)]})):We([n])}};return O("g",{className:Le(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:l,animated:c,inactive:ve,updating:Z}]),onClick:ye,onDoubleClick:Ae,onContextMenu:D,onMouseEnter:B,onMouseMove:F,onMouseLeave:j,onKeyDown:Y?ke:void 0,tabIndex:Y?0:void 0,role:Y?"button":void 0,"data-testid":`rf__edge-${n}`,"aria-label":oe===null?void 0:oe||`Edge from ${g} to ${x}`,"aria-describedby":Y?`${fc}-${ce}`:void 0,ref:de,children:[!be&&f(e,{id:n,source:g,target:x,selected:l,animated:c,label:u,labelStyle:h,labelShowBg:d,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:m,data:a,style:S,sourceX:C,sourceY:y,targetX:E,targetY:_,sourcePosition:P,targetPosition:R,sourceHandleId:k,targetHandleId:J,markerStart:ge,markerEnd:le,pathOptions:ie,interactionWidth:ae}),xe&&O(me,{children:[f(Va,{position:P,centerX:C,centerY:y,radius:z,onMouseDown:fe,onMouseEnter:ne,onMouseOut:se,type:"source"}),f(Va,{position:R,centerX:E,centerY:_,radius:z,onMouseDown:te,onMouseEnter:ne,onMouseOut:se,type:"target"})]})]})};return t.displayName="EdgeWrapper",v.exports.memo(t)};function yv(e){const t={default:qt(e.default||Tr),straight:qt(e.bezier||Oi),step:qt(e.step||Fi),smoothstep:qt(e.step||Zr),simplebezier:qt(e.simplebezier||zi)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,a)=>(o[a]=qt(e[a]||Tr),o),n);return{...t,...r}}function Ga(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,a=(n==null?void 0:n.width)||t.width,i=(n==null?void 0:n.height)||t.height;switch(e){case X.Top:return{x:r+a/2,y:o};case X.Right:return{x:r+a,y:o+i/2};case X.Bottom:return{x:r+a/2,y:o+i};case X.Left:return{x:r,y:o+i/2}}}function Xa(e,t){if(!e)return null;let n=null;return e.length===1||!t?n=e[0]:t&&(n=e.find(r=>r.id===t)),typeof n>"u"?null:n}const vv=(e,t,n,r,o,a)=>{const i=Ga(n,e,t),s=Ga(a,r,o);return{sourceX:i.x,sourceY:i.y,targetX:s.x,targetY:s.y}};function xv({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:a,width:i,height:s,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+a)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=Dr({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:i/l[2],height:s/l[2]}),h=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),d=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(h*d)>0}function Ya(e){var r,o,a,i,s;const t=((r=e==null?void 0:e[$e])==null?void 0:r.handleBounds)||null,n=!e||!t||!e.width||!e.height||typeof((o=e.positionAbsolute)==null?void 0:o.x)>"u"||typeof((a=e.positionAbsolute)==null?void 0:a.y)>"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!n]}function hc(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:hc(n,t):!1}function Ka(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function wv(e,t,n){return Array.from(e.values()).filter(r=>(r.selected||r.id===n)&&(!r.parentNode||!hc(r,e))).map(r=>{var o,a,i,s;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:t.x-((a=(o=r.positionAbsolute)==null?void 0:o.x)!=null?a:0),y:t.y-((s=(i=r.positionAbsolute)==null?void 0:i.y)!=null?s:0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode,width:r.width,height:r.height}})}function pc(e,t,n,r){var s,l,c,u,h,d,p,w;let o=e.extent||r;if(e.extent==="parent")if(e.parentNode&&e.width&&e.height){const m=n.get(e.parentNode);o=(m==null?void 0:m.positionAbsolute)&&(m==null?void 0:m.width)&&(m==null?void 0:m.height)?[[m.positionAbsolute.x,m.positionAbsolute.y],[m.positionAbsolute.x+m.width-e.width,m.positionAbsolute.y+m.height-e.height]]:o}else o=r;else if(e.extent&&e.parentNode){const m=n.get(e.parentNode),S=(l=(s=m==null?void 0:m.positionAbsolute)==null?void 0:s.x)!=null?l:0,g=(u=(c=m==null?void 0:m.positionAbsolute)==null?void 0:c.y)!=null?u:0;o=[[e.extent[0][0]+S,e.extent[0][1]+g],[e.extent[1][0]+S,e.extent[1][1]+g]]}let a={x:0,y:0};if(e.parentNode){const m=n.get(e.parentNode);a={x:(d=(h=m==null?void 0:m.positionAbsolute)==null?void 0:h.x)!=null?d:0,y:(w=(p=m==null?void 0:m.positionAbsolute)==null?void 0:p.y)!=null?w:0}}const i=o?$i(t,o):t;return{position:{x:i.x-a.x,y:i.y-a.y},positionAbsolute:i}}function No({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const qa=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const a=Array.from(o),i=t.getBoundingClientRect(),s={x:i.width*r[0],y:i.height*r[1]};return a.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-i.left-s.x)/n,y:(c.top-i.top-s.y)/n,...Bi(l)}})};function Pn(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);n(r,{...o})}}function li({id:e,store:t,unselect:n=!1}){const{addSelectedNodes:r,unselectNodesAndEdges:o,multiSelectionActive:a,nodeInternals:i}=t.getState(),s=i.get(e);t.setState({nodesSelectionActive:!1}),s.selected?(n||s.selected&&a)&&o({nodes:[s]}):r([e])}function Po(e){return(t,n,r)=>e==null?void 0:e(t,r)}function gc({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:a,selectNodesOnDrag:i}){const[s,l]=v.exports.useState(!1),c=Te(),u=v.exports.useRef(),h=v.exports.useRef({x:null,y:null}),d=v.exports.useCallback(({sourceEvent:p})=>{const{transform:w,snapGrid:m,snapToGrid:S}=c.getState(),g=p.touches?p.touches[0].clientX:p.clientX,x=p.touches?p.touches[0].clientY:p.clientY,C={x:(g-w[0])/w[2],y:(x-w[1])/w[2]};return{xSnapped:S?m[0]*Math.round(C.x/m[0]):C.x,ySnapped:S?m[1]*Math.round(C.y/m[1]):C.y,...C}},[]);return v.exports.useEffect(()=>{if(e!=null&&e.current){const p=Qe(e.current);if(t)p.on(".drag",null);else{const w=Km().on("start",m=>{var P;const{nodeInternals:S,multiSelectionActive:g,unselectNodesAndEdges:x,onNodeDragStart:C,onSelectionDragStart:y}=c.getState(),E=o?C:Po(y);!i&&!g&&o&&((P=S.get(o))!=null&&P.selected||x()),o&&a&&i&&li({id:o,store:c});const _=d(m);if(h.current=_,u.current=wv(S,_,o),E&&u.current){const[R,$]=No({nodeId:o,dragItems:u.current,nodeInternals:S});E(m.sourceEvent,R,$)}}).on("drag",m=>{const{updateNodePositions:S,nodeInternals:g,nodeExtent:x,onNodeDrag:C,onSelectionDrag:y,snapGrid:E,snapToGrid:_}=c.getState(),P=d(m);if((h.current.x!==P.xSnapped||h.current.y!==P.ySnapped)&&u.current){h.current={x:P.xSnapped,y:P.ySnapped},u.current=u.current.map($=>{const T={x:P.x-$.distance.x,y:P.y-$.distance.y};_&&(T.x=E[0]*Math.round(T.x/E[0]),T.y=E[1]*Math.round(T.y/E[1]));const k=pc($,T,g,x);return $.position=k.position,$.positionAbsolute=k.positionAbsolute,$});const R=o?C:Po(y);if(S(u.current,!0,!0),l(!0),R){const[$,T]=No({nodeId:o,dragItems:u.current,nodeInternals:g});R(m.sourceEvent,$,T)}}}).on("end",m=>{if(l(!1),u.current){const{updateNodePositions:S,nodeInternals:g,onNodeDragStop:x,onSelectionDragStop:C}=c.getState(),y=o?x:Po(C);if(S(u.current,!1,!1),y){const[E,_]=No({nodeId:o,dragItems:u.current,nodeInternals:g});y(m.sourceEvent,E,_)}}}).filter(m=>{const S=m.target;return!m.button&&(!n||!Ka(S,`.${n}`,e))&&(!r||Ka(S,r,e))});return p.call(w),()=>{p.on(".drag",null)}}}},[e,t,n,r,a,c,o,i,d]),s}function mc(){const e=Te();return v.exports.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:a,snapToGrid:i,snapGrid:s}=e.getState(),c=Array.from(r.values()).filter(u=>u.selected).map(u=>{if(u.positionAbsolute){const h={x:u.positionAbsolute.x+n.x,y:u.positionAbsolute.y+n.y};i&&(h.x=s[0]*Math.round(h.x/s[0]),h.y=s[1]*Math.round(h.y/s[1]));const d=pc(u,h,r,o);u.position=d.position,u.positionAbsolute=d.positionAbsolute}return u});a(c,!0,!0)},[])}const Bn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Mn=e=>{const t=({id:n,type:r,data:o,xPos:a,yPos:i,xPosOrigin:s,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:h,onMouseMove:d,onMouseLeave:p,onContextMenu:w,onDoubleClick:m,style:S,className:g,isDraggable:x,isSelectable:C,isConnectable:y,isFocusable:E,selectNodesOnDrag:_,sourcePosition:P,targetPosition:R,hidden:$,resizeObserver:T,dragHandle:k,zIndex:J,isParent:q,noDragClassName:b,noPanClassName:I,initialized:M,disableKeyboardA11y:z,ariaLabel:A,rfId:L})=>{const H=Te(),U=v.exports.useRef(null),ee=v.exports.useRef(P),ce=v.exports.useRef(R),oe=v.exports.useRef(r),Y=C||x||u||h||d||p,ie=mc(),ae=Pn(n,H.getState,h),de=Pn(n,H.getState,d),Z=Pn(n,H.getState,p),G=Pn(n,H.getState,w),be=Pn(n,H.getState,m),Se=le=>{if(C&&(!_||!x)&&li({id:n,store:H}),u){const ye=H.getState().nodeInternals.get(n);u(le,{...ye})}},he=le=>{var D;const{snapGrid:ye,snapToGrid:Ae}=H.getState();if(ql.includes(le.key)&&C){const B=le.key==="Escape";B&&((D=U.current)==null||D.blur()),li({id:n,store:H,unselect:B})}else if(!z&&x&&c&&Object.prototype.hasOwnProperty.call(Bn,le.key)){H.setState({ariaLiveMessage:`Moved selected node ${le.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~i}`});const B=Ae?ye[0]:5,F=Ae?ye[1]:5,j=le.shiftKey?4:1;ie({x:Bn[le.key].x*B*j,y:Bn[le.key].y*F*j})}};v.exports.useEffect(()=>{if(U.current&&!$){const le=U.current;return T==null||T.observe(le),()=>T==null?void 0:T.unobserve(le)}},[$]),v.exports.useEffect(()=>{const le=oe.current!==r,ye=ee.current!==P,Ae=ce.current!==R;U.current&&(le||ye||Ae)&&(le&&(oe.current=r),ye&&(ee.current=P),Ae&&(ce.current=R),H.getState().updateNodeDimensions([{id:n,nodeElement:U.current,forceUpdate:!0}]))},[n,r,P,R]);const ge=gc({nodeRef:U,disabled:$||!x,noDragClassName:b,handleSelector:k,nodeId:n,isSelectable:C,selectNodesOnDrag:_});return $?null:f("div",{className:Le(["react-flow__node",`react-flow__node-${r}`,{[I]:x},g,{selected:c,selectable:C,parent:q,dragging:ge}]),ref:U,style:{zIndex:J,transform:`translate(${s}px,${l}px)`,pointerEvents:Y?"all":"none",visibility:M?"visible":"hidden",...S},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ae,onMouseMove:de,onMouseLeave:Z,onContextMenu:G,onClick:Se,onDoubleClick:be,onKeyDown:E?he:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":z?void 0:`${dc}-${L}`,"aria-label":A,children:f(Zy,{value:n,children:f(e,{id:n,data:o,type:r,xPos:a,yPos:i,selected:c,isConnectable:y,sourcePosition:P,targetPosition:R,dragging:ge,dragHandle:k,zIndex:J})})})};return t.displayName="NodeWrapper",v.exports.memo(t)};function bv(e){const t={input:Mn(e.input||sc),default:Mn(e.default||si),output:Mn(e.output||cc),group:Mn(e.group||Li)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,a)=>(o[a]=Mn(e[a]||si),o),n);return{...t,...r}}const Sv=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},Cv=typeof document<"u"?document:null;var Ar=(e=null,t={target:Cv})=>{const[n,r]=v.exports.useState(!1),o=v.exports.useRef(new Set([])),[a,i]=v.exports.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(u=>typeof u=="string").map(u=>u.split("+")),c=l.reduce((u,h)=>u.concat(...h),[]);return[l,c]}return[[],[]]},[e]);return v.exports.useEffect(()=>{var s,l;if(e!==null){const c=d=>{if(Qa(d))return!1;const p=Ja(d.code,i);o.current.add(d[p]),Za(a,o.current,!1)&&(d.preventDefault(),r(!0))},u=d=>{if(Qa(d))return!1;const p=Ja(d.code,i);Za(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(d[p])},h=()=>{o.current.clear(),r(!1)};return(s=t==null?void 0:t.target)==null||s.addEventListener("keydown",c),(l=t==null?void 0:t.target)==null||l.addEventListener("keyup",u),window.addEventListener("blur",h),()=>{var d,p;(d=t==null?void 0:t.target)==null||d.removeEventListener("keydown",c),(p=t==null?void 0:t.target)==null||p.removeEventListener("keyup",u),window.removeEventListener("blur",h)}}},[e,r]),n};function Za(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Ja(e,t){return t.includes(e)?"code":"key"}function Qa(e){var n;const t=((n=e.composedPath)==null?void 0:n.call(e)[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(t==null?void 0:t.nodeName)||(t==null?void 0:t.hasAttribute("contenteditable"))||!!(t!=null&&t.closest(".nokey"))}function yc(e,t,n,r){var a,i,s,l,c,u,h,d,p,w,m,S;if(!e.parentNode)return r;const o=t.get(e.parentNode);return yc(o,t,n,{x:((a=r.x)!=null?a:0)+((s=(i=o.position)==null?void 0:i.x)!=null?s:0),y:((l=r.y)!=null?l:0)+((u=(c=o.position)==null?void 0:c.y)!=null?u:0),z:((d=(h=o[$e])==null?void 0:h.z)!=null?d:0)>((p=r.z)!=null?p:0)?(m=(w=o[$e])==null?void 0:w.z)!=null?m:0:(S=r.z)!=null?S:0})}function Mo(e,t){const n=new Map,r={};return e.forEach(o=>{var l;const a=Kl(o.zIndex)?o.zIndex:o.selected?1e3:0,i=t.get(o.id),s={width:i==null?void 0:i.width,height:i==null?void 0:i.height,...o,positionAbsolute:{x:o.position.x,y:o.position.y}};o.parentNode&&(s.parentNode=o.parentNode,r[o.parentNode]=!0),Object.defineProperty(s,$e,{enumerable:!1,value:{handleBounds:(l=i==null?void 0:i[$e])==null?void 0:l.handleBounds,z:a}}),n.set(o.id,s)}),n.forEach(o=>{var a,i;if(o.parentNode&&!n.has(o.parentNode))throw new Error(`Parent node ${o.parentNode} not found`);if(o.parentNode||r[o.id]){const{x:s,y:l,z:c}=yc(o,n,r,{...o.position,z:(i=(a=o[$e])==null?void 0:a.z)!=null?i:0});o.positionAbsolute={x:s,y:l},o[$e].z=c,r[o.id]&&(o[$e].isParent=!0)}}),n}function vc(e,t={}){var h,d,p;const{nodeInternals:n,width:r,height:o,minZoom:a,maxZoom:i,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u}=e();if((t.initial&&!c&&u||!t.initial)&&s&&l){const w=Array.from(n.values()).filter(S=>t.includeHiddenNodes?S.width&&S.height:!S.hidden),m=w.every(S=>S.width&&S.height);if(w.length>0&&m){const S=Jr(w),[g,x,C]=rc(S,r,o,(h=t.minZoom)!=null?h:a,(d=t.maxZoom)!=null?d:i,(p=t.padding)!=null?p:.1),y=Dt.translate(g,x).scale(C);return typeof t.duration=="number"&&t.duration>0?s.transform(zt(l,t.duration),y):s.transform(l,y),!0}}return!1}function Ev(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[$e]:r[$e],selected:n.selected})}),new Map(t)}function _v(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function dr({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:a,onNodesChange:i,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:c}=n();e!=null&&e.length&&(l&&r({nodeInternals:Ev(e,o)}),i==null||i(e)),t!=null&&t.length&&(c&&r({edges:_v(t,a)}),s==null||s(t))}const Bt=()=>{},Nv={zoomIn:Bt,zoomOut:Bt,zoomTo:Bt,getZoom:()=>1,setViewport:Bt,getViewport:()=>({x:0,y:0,zoom:1}),fitView:Bt,setCenter:Bt,fitBounds:Bt,project:e=>e,viewportInitialized:!1},Pv=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Mv=()=>{const e=Te(),{d3Zoom:t,d3Selection:n}=Ee(Pv,Ge);return v.exports.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(zt(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(zt(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,a)=>t.scaleTo(zt(n,a==null?void 0:a.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,a)=>{var u,h,d;const[i,s,l]=e.getState().transform,c=Dt.translate((u=o.x)!=null?u:i,(h=o.y)!=null?h:s).scale((d=o.zoom)!=null?d:l);t.transform(zt(n,a==null?void 0:a.duration),c)},getViewport:()=>{const[o,a,i]=e.getState().transform;return{x:o,y:a,zoom:i}},fitView:o=>vc(e.getState,o),setCenter:(o,a,i)=>{const{width:s,height:l,maxZoom:c}=e.getState(),u=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:c,h=s/2-o*u,d=l/2-a*u,p=Dt.translate(h,d).scale(u);t.transform(zt(n,i==null?void 0:i.duration),p)},fitBounds:(o,a)=>{var w;const{width:i,height:s,minZoom:l,maxZoom:c}=e.getState(),[u,h,d]=rc(o,i,s,l,c,(w=a==null?void 0:a.padding)!=null?w:.1),p=Dt.translate(u,h).scale(d);t.transform(zt(n,a==null?void 0:a.duration),p)},project:o=>{const{transform:a,snapToGrid:i,snapGrid:s}=e.getState();return tv(o,a,i,s)},viewportInitialized:!0}:Nv,[t,n])};function Qr(){const e=Mv(),t=Te(),n=v.exports.useCallback(()=>{const{nodeInternals:m}=t.getState();return Array.from(m.values()).map(g=>({...g}))},[]),r=v.exports.useCallback(m=>{const{nodeInternals:S}=t.getState();return S.get(m)},[]),o=v.exports.useCallback(()=>{const{edges:m=[]}=t.getState();return m.map(S=>({...S}))},[]),a=v.exports.useCallback(m=>{const{edges:S=[]}=t.getState();return S.find(g=>g.id===m)},[]),i=v.exports.useCallback(m=>{const{nodeInternals:S,setNodes:g,hasDefaultNodes:x,onNodesChange:C}=t.getState(),y=Array.from(S.values()),E=typeof m=="function"?m(y):m;if(x)g(E);else if(C){const _=E.length===0?y.map(P=>({type:"remove",id:P.id})):E.map(P=>({item:P,type:"reset"}));C(_)}},[]),s=v.exports.useCallback(m=>{const{edges:S=[],setEdges:g,hasDefaultEdges:x,onEdgesChange:C}=t.getState(),y=typeof m=="function"?m(S):m;if(x)g(y);else if(C){const E=y.length===0?S.map(_=>({type:"remove",id:_.id})):y.map(_=>({item:_,type:"reset"}));C(E)}},[]),l=v.exports.useCallback(m=>{const S=Array.isArray(m)?m:[m],{nodeInternals:g,setNodes:x,hasDefaultNodes:C,onNodesChange:y}=t.getState();if(C){const _=[...Array.from(g.values()),...S];x(_)}else if(y){const E=S.map(_=>({item:_,type:"add"}));y(E)}},[]),c=v.exports.useCallback(m=>{const S=Array.isArray(m)?m:[m],{edges:g=[],setEdges:x,hasDefaultEdges:C,onEdgesChange:y}=t.getState();if(C)x([...g,...S]);else if(y){const E=S.map(_=>({item:_,type:"add"}));y(E)}},[]),u=v.exports.useCallback(()=>{const{nodeInternals:m,edges:S=[],transform:g}=t.getState(),x=Array.from(m.values()),[C,y,E]=g;return{nodes:x.map(_=>({..._})),edges:S.map(_=>({..._})),viewport:{x:C,y,zoom:E}}},[]),h=v.exports.useCallback(({nodes:m,edges:S})=>{const{nodeInternals:g,edges:x,hasDefaultNodes:C,hasDefaultEdges:y,onNodesDelete:E,onEdgesDelete:_,onNodesChange:P,onEdgesChange:R}=t.getState(),$=Array.from(g.values()),T=(m||[]).map(I=>I.id),k=(S||[]).map(I=>I.id),J=$.reduce((I,M)=>{const z=!T.includes(M.id)&&M.parentNode&&I.find(L=>L.id===M.parentNode);return(typeof M.deletable=="boolean"?M.deletable:!0)&&(T.includes(M.id)||z)&&I.push(M),I},[]),q=x.filter(I=>typeof I.deletable=="boolean"?I.deletable:!0),b=q.filter(I=>k.includes(I.id));if(J||b){const I=nc(J,q),M=[...b,...I],z=M.reduce((A,L)=>(A.includes(L.id)||A.push(L.id),A),[]);if((y||C)&&(y&&t.setState({edges:x.filter(A=>!z.includes(A.id))}),C&&(J.forEach(A=>{g.delete(A.id)}),t.setState({nodeInternals:new Map(g)}))),z.length>0&&(_==null||_(M),R&&R(z.map(A=>({id:A,type:"remove"})))),J.length>0&&(E==null||E(J),P)){const A=J.map(L=>({id:L.id,type:"remove"}));P(A)}}},[]),d=v.exports.useCallback(m=>{const S=Vy(m),g=S?null:t.getState().nodeInternals.get(m.id);return[S?m:Oa(g),g,S]},[]),p=v.exports.useCallback((m,S=!0,g)=>{const[x,C,y]=d(m);return x?(g||Array.from(t.getState().nodeInternals.values())).filter(E=>{if(!y&&(E.id===C.id||!E.positionAbsolute))return!1;const _=Oa(E),P=ri(_,x);return S&&P>0||P>=m.width*m.height}):[]},[]),w=v.exports.useCallback((m,S,g=!0)=>{const[x]=d(m);if(!x)return!1;const C=ri(x,S);return g&&C>0||C>=m.width*m.height},[]);return v.exports.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:a,setNodes:i,setEdges:s,addNodes:l,addEdges:c,toObject:u,deleteElements:h,getIntersectingNodes:p,isNodeIntersecting:w}),[e,n,r,o,a,i,s,l,c,u,h,p,w])}var Iv=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Te(),{deleteElements:r}=Qr(),o=Ar(e),a=Ar(t);v.exports.useEffect(()=>{if(o){const{nodeInternals:i,edges:s}=n.getState(),c=Array.from(i.values()).filter(h=>h.selected),u=s.filter(h=>h.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[o]),v.exports.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function Dv(e){const t=Te();v.exports.useEffect(()=>{let n;const r=()=>{if(!e.current)return;const o=Bi(e.current);o.height===0||o.width,t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const ki={position:"absolute",width:"100%",height:"100%",top:0,left:0},Rv=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Io=e=>({x:e.x,y:e.y,zoom:e.k}),fr=(e,t)=>e.target.closest(`.${t}`),Tv=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler}),Av=({onMove:e,onMoveStart:t,onMoveEnd:n,zoomOnScroll:r=!0,zoomOnPinch:o=!0,panOnScroll:a=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=an.Free,zoomOnDoubleClick:l=!0,selectionKeyPressed:c,elementsSelectable:u,panOnDrag:h=!0,defaultViewport:d,translateExtent:p,minZoom:w,maxZoom:m,zoomActivationKeyCode:S,preventScrolling:g=!0,children:x,noWheelClassName:C,noPanClassName:y})=>{const E=v.exports.useRef(),_=Te(),P=v.exports.useRef(!1),R=v.exports.useRef(null),$=v.exports.useRef({x:0,y:0,zoom:0}),{d3Zoom:T,d3Selection:k,d3ZoomHandler:J}=Ee(Tv,Ge),q=Ar(S);return Dv(R),v.exports.useEffect(()=>{if(R.current){const b=Wl().scaleExtent([w,m]).translateExtent(p),I=Qe(R.current).call(b),M=sn(d.x,p[0][0],p[1][0]),z=sn(d.y,p[0][1],p[1][1]),A=sn(d.zoom,w,m),L=Dt.translate(M,z).scale(A);b.transform(I,L),_.setState({d3Zoom:b,d3Selection:I,d3ZoomHandler:I.on("wheel.zoom"),transform:[M,z,A],domNode:R.current.closest(".react-flow")})}},[]),v.exports.useEffect(()=>{k&&T&&(a&&!q?k.on("wheel.zoom",b=>{if(fr(b,C))return!1;b.preventDefault(),b.stopImmediatePropagation();const I=k.property("__zoom").k||1;if(b.ctrlKey&&o){const L=nt(b),H=-b.deltaY*(b.deltaMode===1?.05:b.deltaMode?1:.002)*10,U=I*Math.pow(2,H);T.scaleTo(k,U,L);return}const M=b.deltaMode===1?20:1,z=s===an.Vertical?0:b.deltaX*M,A=s===an.Horizontal?0:b.deltaY*M;T.translateBy(k,-(z/I)*i,-(A/I)*i)}):typeof J<"u"&&k.on("wheel.zoom",function(b,I){if(!g||fr(b,C))return null;b.preventDefault(),J.call(this,b,I)}))},[a,s,k,T,J,q,o,g,C]),v.exports.useEffect(()=>{T&&(c&&!P.current?T.on("zoom",null):c||T.on("zoom",b=>{const{onViewportChange:I}=_.getState();if(_.setState({transform:[b.transform.x,b.transform.y,b.transform.k]}),e||I){const M=Io(b.transform);I==null||I(M),e==null||e(b.sourceEvent,M)}}))},[c,T,e]),v.exports.useEffect(()=>{T&&T.on("start",b=>{var M;if(!b.sourceEvent)return null;const{onViewportChangeStart:I}=_.getState();if(P.current=!0,((M=b.sourceEvent)==null?void 0:M.type)==="mousedown"&&_.setState({paneDragging:!0}),t||I){const z=Io(b.transform);$.current=z,I==null||I(z),t==null||t(b.sourceEvent,z)}})},[T,t]),v.exports.useEffect(()=>{T&&T.on("end",b=>{if(!b.sourceEvent)return null;const{onViewportChangeEnd:I}=_.getState();if(P.current=!1,_.setState({paneDragging:!1}),(n||I)&&Rv($.current,b.transform)){const M=Io(b.transform);$.current=M,clearTimeout(E.current),E.current=setTimeout(()=>{I==null||I(M),n==null||n(b.sourceEvent,M)},a?150:0)}})},[T,n,a]),v.exports.useEffect(()=>{T&&T.filter(b=>{const I=q||r,M=o&&b.ctrlKey;return b.button===1&&b.type==="mousedown"&&b.target.closest(".react-flow__node")?!0:!h&&!I&&!a&&!l&&!o||c||!l&&b.type==="dblclick"||fr(b,C)&&b.type==="wheel"||fr(b,y)&&b.type!=="wheel"||!o&&b.ctrlKey&&b.type==="wheel"||!I&&!a&&!M&&b.type==="wheel"||!h&&(b.type==="mousedown"||b.type==="touchstart")?!1:(!b.ctrlKey||b.type==="wheel")&&(!b.button||b.button<=1)})},[T,r,o,a,l,h,c,u,q]),f("div",{className:"react-flow__renderer",ref:R,style:ki,children:x})};function es(e,t){var r,o;const n=e.find(a=>a.id===t.parentNode);if(n){const a=t.position.x+t.width-n.width,i=t.position.y+t.height-n.height;if(a>0||i>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=(r=n.style.width)!=null?r:n.width,n.style.height=(o=n.style.height)!=null?o:n.height,a>0&&(n.style.width+=a),i>0&&(n.style.height+=i),t.position.x<0){const s=Math.abs(t.position.x);n.position.x=n.position.x-s,n.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);n.position.y=n.position.y-s,n.style.height+=s,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function xc(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const a=e.find(i=>i.id===o.id);if(a)switch(a.type){case"select":return r.push({...o,selected:a.selected}),r;case"position":{const i={...o};return typeof a.position<"u"&&(i.position=a.position),typeof a.positionAbsolute<"u"&&(i.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(i.dragging=a.dragging),i.expandParent&&es(r,i),r.push(i),r}case"dimensions":{const i={...o};return typeof a.dimensions<"u"&&(i.width=a.dimensions.width,i.height=a.dimensions.height),i.expandParent&&es(r,i),r.push(i),r}case"remove":return r}return r.push(o),r},n)}function Wi(e,t){return xc(e,t)}function Bv(e,t){return xc(e,t)}const _t=(e,t)=>({id:e,type:"select",selected:t});function en(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(_t(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(_t(r.id,!1))),n},[])}function ts(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const $v=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable}),ns={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},wc=v.exports.memo(({selectionKeyPressed:e})=>{const t=Te(),n=v.exports.useRef(0),r=v.exports.useRef(0),o=v.exports.useRef(),[a,i]=v.exports.useState(ns),{userSelectionActive:s,elementsSelectable:l}=Ee($v,Ge);if(!l||!(s||e))return null;const u=()=>{i(ns),t.setState({userSelectionActive:!1}),n.current=0,r.current=0};return f("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:m=>{const S=m.target.closest(".react-flow");o.current=S.getBoundingClientRect();const g=ts(m,o.current);i({width:0,height:0,startX:g.x,startY:g.y,x:g.x,y:g.y,draw:!0}),t.setState({userSelectionActive:!0,nodesSelectionActive:!1})},onMouseMove:m=>{var q,b;if(!e||!a.draw||!o.current)return;const S=ts(m,o.current),g=(q=a.startX)!=null?q:0,x=(b=a.startY)!=null?b:0,C={...a,x:S.x<g?S.x:g,y:S.y<x?S.y:x,width:Math.abs(S.x-g),height:Math.abs(S.y-x)},{nodeInternals:y,edges:E,transform:_,onNodesChange:P,onEdgesChange:R}=t.getState(),$=Array.from(y.values()),T=tc(y,C,_,!1,!0),k=nc(T,E).map(I=>I.id),J=T.map(I=>I.id);if(n.current!==J.length){n.current=J.length;const I=en($,J);I.length&&(P==null||P(I))}if(r.current!==k.length){r.current=k.length;const I=en(E,k);I.length&&(R==null||R(I))}i(C)},onMouseUp:()=>{t.setState({nodesSelectionActive:n.current>0}),u()},onMouseLeave:()=>{t.setState({nodesSelectionActive:!1}),u()},children:a.draw&&f("div",{className:"react-flow__selection react-flow__container",style:{width:a.width,height:a.height,transform:`translate(${a.x}px, ${a.y}px)`}})})});wc.displayName="UserSelection";const zv=e=>({transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive,...Jr(Array.from(e.nodeInternals.values()).filter(t=>t.selected))}),Fv=e=>{const t=Array.from(e.nodeInternals.values()).filter(n=>n.selected);return Jr(t)};function Ov({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Te(),{transformString:o,userSelectionActive:a}=Ee(zv,Ge),{width:i,height:s,x:l,y:c}=Ee(Fv,Ge),u=mc(),h=v.exports.useRef(null);if(v.exports.useEffect(()=>{var w;n||(w=h.current)==null||w.focus()},[n]),gc({nodeRef:h}),a||!i||!s)return null;const d=e?w=>{const m=Array.from(r.getState().nodeInternals.values()).filter(S=>S.selected);e(w,m)}:void 0,p=w=>{Object.prototype.hasOwnProperty.call(Bn,w.key)&&u(Bn[w.key])};return f("div",{className:Le(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:f("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:s,top:c,left:l}})})}var Hv=v.exports.memo(Ov);const Lv=e=>e.paneDragging;function kv({onClick:e,onMouseEnter:t,onMouseMove:n,onMouseLeave:r,onContextMenu:o,onWheel:a}){const i=Ee(Lv);return f("div",{className:Le(["react-flow__pane",{dragging:i}]),onClick:e,onMouseEnter:t,onMouseMove:n,onMouseLeave:r,onContextMenu:o,onWheel:a,style:ki})}const Wv=e=>e.nodesSelectionActive,bc=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:i,deleteKeyCode:s,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:h,multiSelectionKeyCode:d,zoomActivationKeyCode:p,elementsSelectable:w,zoomOnScroll:m,zoomOnPinch:S,panOnScroll:g,panOnScrollSpeed:x,panOnScrollMode:C,zoomOnDoubleClick:y,panOnDrag:E,defaultViewport:_,translateExtent:P,minZoom:R,maxZoom:$,preventScrolling:T,onSelectionContextMenu:k,noWheelClassName:J,noPanClassName:q,disableKeyboardA11y:b})=>{const I=Te(),M=Ee(Wv),z=Ar(h);Iv({deleteKeyCode:s,multiSelectionKeyCode:d});const A=U=>{t==null||t(U),I.getState().resetSelectedElements(),I.setState({nodesSelectionActive:!1})},L=a?U=>a(U):void 0,H=i?U=>i(U):void 0;return O(Av,{onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyPressed:z,elementsSelectable:w,zoomOnScroll:m,zoomOnPinch:S,panOnScroll:g,panOnScrollSpeed:x,panOnScrollMode:C,zoomOnDoubleClick:y,panOnDrag:E,defaultViewport:_,translateExtent:P,minZoom:R,maxZoom:$,zoomActivationKeyCode:p,preventScrolling:T,noWheelClassName:J,noPanClassName:q,children:[e,f(wc,{selectionKeyPressed:z}),M&&f(Hv,{onSelectionContextMenu:k,noPanClassName:q,disableKeyboardA11y:b}),f(kv,{onClick:A,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:L,onWheel:H})]})};bc.displayName="FlowRenderer";var Uv=v.exports.memo(bc);function jv(e){return Ee(v.exports.useCallback(n=>e?tc(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):Array.from(n.nodeInternals.values()),[e]))}const Vv=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions}),Sc=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:a}=Ee(Vv,Ge),i=jv(e.onlyRenderVisibleElements),s=v.exports.useRef(),l=v.exports.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(u=>{const h=u.map(d=>({id:d.target.getAttribute("data-id"),nodeElement:d.target,forceUpdate:!0}));a(h)});return s.current=c,c},[]);return v.exports.useEffect(()=>()=>{var c;(c=s==null?void 0:s.current)==null||c.disconnect()},[]),f("div",{className:"react-flow__nodes",style:ki,children:i.map(c=>{var y,E,_,P,R,$,T;let u=c.type||"default";e.nodeTypes[u]||(u="default");const h=e.nodeTypes[u]||e.nodeTypes.default,d=!!(c.draggable||t&&typeof c.draggable>"u"),p=!!(c.selectable||o&&typeof c.selectable>"u"),w=!!(c.connectable||n&&typeof c.connectable>"u"),m=!!(c.focusable||r&&typeof c.focusable>"u"),S=e.nodeExtent?$i(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,g=(y=S==null?void 0:S.x)!=null?y:0,x=(E=S==null?void 0:S.y)!=null?E:0,C=Sv({x:g,y:x,width:(_=c.width)!=null?_:0,height:(P=c.height)!=null?P:0,origin:e.nodeOrigin});return f(h,{id:c.id,className:c.className,style:c.style,type:u,data:c.data,sourcePosition:c.sourcePosition||X.Bottom,targetPosition:c.targetPosition||X.Top,hidden:c.hidden,xPos:g,yPos:x,xPosOrigin:C.x,yPosOrigin:C.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:d,isSelectable:p,isConnectable:w,isFocusable:m,resizeObserver:l,dragHandle:c.dragHandle,zIndex:($=(R=c[$e])==null?void 0:R.z)!=null?$:0,isParent:!!((T=c[$e])!=null&&T.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel},c.id)})})};Sc.displayName="NodeRenderer";var Gv=v.exports.memo(Sc);const Xv=[{level:0,isMaxLevel:!0,edges:[]}];function Yv(e,t,n=!1){let r=-1;const o=e.reduce((i,s)=>{var u,h,d,p;const l=Kl(s.zIndex);let c=l?s.zIndex:0;return n&&(c=l?s.zIndex:Math.max(((h=(u=t.get(s.source))==null?void 0:u[$e])==null?void 0:h.z)||0,((p=(d=t.get(s.target))==null?void 0:d[$e])==null?void 0:p.z)||0)),i[c]?i[c].push(s):i[c]=[s],r=c>r?c:r,i},{}),a=Object.entries(o).map(([i,s])=>{const l=+i;return{edges:s,level:l,isMaxLevel:l===r}});return a.length===0?Xv:a}function Kv(e,t,n){const r=Ee(v.exports.useCallback(o=>e?o.edges.filter(a=>{const i=t.get(a.source),s=t.get(a.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&xv({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:s.width,targetHeight:s.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return Yv(r,t,n)}const qv={[X.Left]:X.Right,[X.Right]:X.Left,[X.Top]:X.Bottom,[X.Bottom]:X.Top},Cc=({connectionNodeId:e,connectionHandleType:t,connectionLineStyle:n,connectionLineType:r=Nt.Bezier,isConnectable:o,CustomConnectionLineComponent:a})=>{var E,_,P,R,$;const{fromNode:i,handleId:s,toX:l,toY:c}=Ee(v.exports.useCallback(T=>({fromNode:T.nodeInternals.get(e),handleId:T.connectionHandleId,toX:(T.connectionPosition.x-T.transform[0])/T.transform[2],toY:(T.connectionPosition.y-T.transform[1])/T.transform[2]}),[e]),Ge),u=(E=i==null?void 0:i[$e])==null?void 0:E.handleBounds;if(!i||!o||!(u!=null&&u[t]))return null;const h=u[t],d=s?h.find(T=>T.id===s):h[0],p=d?d.x+d.width/2:((_=i==null?void 0:i.width)!=null?_:0)/2,w=d?d.y+d.height/2:(P=i==null?void 0:i.height)!=null?P:0,m=(((R=i==null?void 0:i.positionAbsolute)==null?void 0:R.x)||0)+p,S=((($=i==null?void 0:i.positionAbsolute)==null?void 0:$.y)||0)+w,g=d==null?void 0:d.position;if(!g)return null;const x=qv[g];if(a)return f("g",{className:"react-flow__connection",children:f(a,{connectionLineType:r,connectionLineStyle:n,fromNode:i,fromHandle:d,fromX:m,fromY:S,toX:l,toY:c,fromPosition:g,toPosition:x})});let C="";const y={sourceX:m,sourceY:S,sourcePosition:g,targetX:l,targetY:c,targetPosition:x};return r===Nt.Bezier?[C]=Jl(y):r===Nt.Step?[C]=oi({...y,borderRadius:0}):r===Nt.SmoothStep?[C]=oi(y):r===Nt.SimpleBezier?[C]=Zl(y):C=`M${m},${S} ${l},${c}`,f("g",{className:"react-flow__connection",children:f("path",{d:C,fill:"none",className:"react-flow__connection-path",style:n})})};Cc.displayName="ConnectionLine";const Zv=({color:e="none",strokeWidth:t=1})=>f("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:"none",points:"-5,-4 0,0 -5,4"}),Jv=({color:e="none",strokeWidth:t=1})=>f("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:e,points:"-5,-4 0,0 -5,4 -5,-4"}),rs={[Rr.Arrow]:Zv,[Rr.ArrowClosed]:Jv};function Qv(e){return v.exports.useMemo(()=>Object.prototype.hasOwnProperty.call(rs,e)?rs[e]:null,[e])}const ex=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:a="strokeWidth",strokeWidth:i,orient:s="auto-start-reverse"})=>{const l=Qv(t);return l?f("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:s,refX:"0",refY:"0",children:f(l,{color:n,strokeWidth:i})}):null},tx=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,a)=>([a.markerStart,a.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const s=ai(i,t);r.includes(s)||(o.push({id:s,color:i.color||e,...i}),r.push(s))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))},Ec=({defaultColor:e,rfId:t})=>{const n=Ee(v.exports.useCallback(tx({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((a,i)=>a.id!==o[i].id)));return f("defs",{children:n.map(r=>f(ex,{id:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient},r.id))})};Ec.displayName="MarkerDefinitions";var nx=v.exports.memo(Ec);const rx=e=>({connectionNodeId:e.connectionNodeId,connectionHandleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals}),_c=e=>{const{connectionNodeId:t,connectionHandleType:n,nodesConnectable:r,edgesFocusable:o,elementsSelectable:a,width:i,height:s,connectionMode:l,nodeInternals:c}=Ee(rx,Ge),u=Kv(e.onlyRenderVisibleElements,c,e.elevateEdgesOnSelect);if(!i)return null;const{connectionLineType:h,defaultMarkerColor:d,connectionLineStyle:p,connectionLineComponent:w,connectionLineContainerStyle:m}=e,S=t&&n;return O(me,{children:[u.map(({level:g,edges:x,isMaxLevel:C})=>O("svg",{style:{zIndex:g},width:i,height:s,className:"react-flow__edges react-flow__container",children:[C&&f(nx,{defaultColor:d,rfId:e.rfId}),f("g",{children:x.map(y=>{const[E,_,P]=Ya(c.get(y.source)),[R,$,T]=Ya(c.get(y.target));if(!P||!T)return null;let k=y.type||"default";e.edgeTypes[k]||(k="default");const J=e.edgeTypes[k]||e.edgeTypes.default,q=l===pn.Strict?$.target:$.target||$.source,b=Xa(_.source,y.sourceHandle||null),I=Xa(q,y.targetHandle||null),M=(b==null?void 0:b.position)||X.Bottom,z=(I==null?void 0:I.position)||X.Top,A=!!(y.focusable||o&&typeof y.focusable>"u");if(!b||!I)return Gy(`Couldn't create edge for ${b?"target":"source"} handle id: ${b?y.targetHandle:y.sourceHandle}; edge id: ${y.id}. Help: https://reactflow.dev/error#800`),null;const{sourceX:L,sourceY:H,targetX:U,targetY:ee}=vv(E,b,M,R,I,z);return f(J,{id:y.id,className:Le([y.className,e.noPanClassName]),type:k,data:y.data,selected:!!y.selected,animated:!!y.animated,hidden:!!y.hidden,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,style:y.style,source:y.source,target:y.target,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerEnd:y.markerEnd,markerStart:y.markerStart,sourceX:L,sourceY:H,targetX:U,targetY:ee,sourcePosition:M,targetPosition:z,elementsSelectable:a,onEdgeUpdate:e.onEdgeUpdate,onContextMenu:e.onEdgeContextMenu,onMouseEnter:e.onEdgeMouseEnter,onMouseMove:e.onEdgeMouseMove,onMouseLeave:e.onEdgeMouseLeave,onClick:e.onEdgeClick,edgeUpdaterRadius:e.edgeUpdaterRadius,onEdgeDoubleClick:e.onEdgeDoubleClick,onEdgeUpdateStart:e.onEdgeUpdateStart,onEdgeUpdateEnd:e.onEdgeUpdateEnd,rfId:e.rfId,ariaLabel:y.ariaLabel,isFocusable:A,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth},y.id)})})]},g)),S&&f("svg",{style:m,width:i,height:s,className:"react-flow__edges react-flow__connectionline react-flow__container",children:f(Cc,{connectionNodeId:t,connectionHandleType:n,connectionLineStyle:p,connectionLineType:h,isConnectable:r,CustomConnectionLineComponent:w})})]})};_c.displayName="EdgeRenderer";var ox=v.exports.memo(_c);const ix=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function ax({children:e}){const t=Ee(ix);return f("div",{className:"react-flow__viewport react-flow__container",style:{transform:t},children:e})}function sx(e){const t=Qr(),n=v.exports.useRef(!1);v.exports.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Nc=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:a,onNodeClick:i,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:h,onNodeMouseLeave:d,onNodeContextMenu:p,onSelectionContextMenu:w,connectionLineType:m,connectionLineStyle:S,connectionLineComponent:g,connectionLineContainerStyle:x,selectionKeyCode:C,multiSelectionKeyCode:y,zoomActivationKeyCode:E,deleteKeyCode:_,onlyRenderVisibleElements:P,elementsSelectable:R,selectNodesOnDrag:$,defaultViewport:T,translateExtent:k,minZoom:J,maxZoom:q,preventScrolling:b,defaultMarkerColor:I,zoomOnScroll:M,zoomOnPinch:z,panOnScroll:A,panOnScrollSpeed:L,panOnScrollMode:H,zoomOnDoubleClick:U,panOnDrag:ee,onPaneClick:ce,onPaneMouseEnter:oe,onPaneMouseMove:Y,onPaneMouseLeave:ie,onPaneScroll:ae,onPaneContextMenu:de,onEdgeUpdate:Z,onEdgeContextMenu:G,onEdgeMouseEnter:be,onEdgeMouseMove:Se,onEdgeMouseLeave:he,edgeUpdaterRadius:ge,onEdgeUpdateStart:le,onEdgeUpdateEnd:ye,noDragClassName:Ae,noWheelClassName:D,noPanClassName:B,elevateEdgesOnSelect:F,disableKeyboardA11y:j,nodeOrigin:K,nodeExtent:fe,rfId:te})=>(sx(a),f(Uv,{onPaneClick:ce,onPaneMouseEnter:oe,onPaneMouseMove:Y,onPaneMouseLeave:ie,onPaneContextMenu:de,onPaneScroll:ae,deleteKeyCode:_,selectionKeyCode:C,multiSelectionKeyCode:y,zoomActivationKeyCode:E,elementsSelectable:R,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:M,zoomOnPinch:z,zoomOnDoubleClick:U,panOnScroll:A,panOnScrollSpeed:L,panOnScrollMode:H,panOnDrag:ee,defaultViewport:T,translateExtent:k,minZoom:J,maxZoom:q,onSelectionContextMenu:w,preventScrolling:b,noDragClassName:Ae,noWheelClassName:D,noPanClassName:B,disableKeyboardA11y:j,children:O(ax,{children:[f(ox,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:c,connectionLineType:m,connectionLineStyle:S,connectionLineComponent:g,connectionLineContainerStyle:x,onEdgeUpdate:Z,onlyRenderVisibleElements:P,onEdgeContextMenu:G,onEdgeMouseEnter:be,onEdgeMouseMove:Se,onEdgeMouseLeave:he,onEdgeUpdateStart:le,onEdgeUpdateEnd:ye,edgeUpdaterRadius:ge,defaultMarkerColor:I,noPanClassName:B,elevateEdgesOnSelect:!!F,disableKeyboardA11y:j,rfId:te}),f("div",{className:"react-flow__edgelabel-renderer",id:"edgelabel-portal"}),f(Gv,{nodeTypes:e,onNodeClick:i,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:h,onNodeMouseLeave:d,onNodeContextMenu:p,selectNodesOnDrag:$,onlyRenderVisibleElements:P,noPanClassName:B,noDragClassName:Ae,disableKeyboardA11y:j,nodeOrigin:K,nodeExtent:fe,rfId:te})]})}));Nc.displayName="GraphView";var lx=v.exports.memo(Nc);const ci=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],hr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:ci,nodeExtent:ci,nodesSelectionActive:!1,userSelectionActive:!1,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:pn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,elementsSelectable:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectOnClick:!0,ariaLiveMessage:""},cx=()=>kp((e,t)=>({...hr,setNodes:n=>{e({nodeInternals:Mo(n,t().nodeInternals)})},setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",a=typeof r<"u",i=o?Mo(n,new Map):new Map;e({nodeInternals:i,edges:a?r:[],hasDefaultNodes:o,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:a,fitViewOnInitDone:i,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const h=window.getComputedStyle(u),{m22:d}=new window.DOMMatrixReadOnly(h.transform),p=n.reduce((m,S)=>{const g=o.get(S.id);if(g){const x=Bi(S.nodeElement);!!(x.width&&x.height&&(g.width!==x.width||g.height!==x.height||S.forceUpdate))&&(o.set(g.id,{...g,[$e]:{...g[$e],handleBounds:{source:qa(".source",S.nodeElement,d,c),target:qa(".target",S.nodeElement,d,c)}},...x}),m.push({id:g.id,type:"dimensions",dimensions:x}))}return m},[]),w=i||a&&!i&&vc(t,{initial:!0,...s});e({nodeInternals:new Map(o),fitViewOnInitDone:w}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,o=!1)=>{const{onNodesChange:a,nodeInternals:i,hasDefaultNodes:s}=t();if(s||a){const l=n.map(c=>{const u={id:c.id,type:"position",dragging:o};return r&&(u.positionAbsolute=c.positionAbsolute,u.position=c.position),u});if(l!=null&&l.length){if(s){const c=Wi(l,Array.from(i.values())),u=Mo(c,i);e({nodeInternals:u})}a==null||a(l)}}},addSelectedNodes:n=>{const{multiSelectionActive:r,nodeInternals:o,edges:a}=t();let i,s=null;r?i=n.map(l=>_t(l,!0)):(i=en(Array.from(o.values()),n),s=en(a,[])),dr({changedNodes:i,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,nodeInternals:a}=t();let i,s=null;r?i=n.map(l=>_t(l,!0)):(i=en(o,n),s=en(Array.from(a.values()),[])),dr({changedNodes:s,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{nodeInternals:o,edges:a}=t(),i=n||Array.from(o.values()),s=r||a,l=i.map(u=>(u.selected=!1,_t(u.id,!1))),c=s.map(u=>_t(u.id,!1));dr({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{const{d3Zoom:r}=t();r==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{nodeInternals:n,edges:r}=t(),a=Array.from(n.values()).filter(s=>s.selected).map(s=>_t(s.id,!1)),i=r.filter(s=>s.selected).map(s=>_t(s.id,!1));dr({changedNodes:a,changedEdges:i,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=$i(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},cancelConnection:()=>e({connectionNodeId:hr.connectionNodeId,connectionHandleId:hr.connectionHandleId}),reset:()=>e({...hr})})),Pc=({children:e})=>{const t=v.exports.useRef(null);return t.current||(t.current=cx()),f(Hy,{value:t.current,children:e})};Pc.displayName="ReactFlowProvider";const Mc=({children:e})=>{let t=!0;try{Te()}catch{t=!1}return t?f(me,{children:e}):f(Pc,{children:e})};Mc.displayName="ReactFlowWrapper";function os(e,t){return v.exports.useRef(null),v.exports.useMemo(()=>t(e),[e])}const ux={input:sc,default:si,output:cc,group:Li},dx={default:Tr,straight:Oi,step:Fi,smoothstep:Zr,simplebezier:zi},fx=[0,0],hx=[15,15],px={x:0,y:0,zoom:1},gx={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Ic=v.exports.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:a=ux,edgeTypes:i=dx,onNodeClick:s,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:h,onMoveEnd:d,onConnect:p,onConnectStart:w,onConnectEnd:m,onClickConnectStart:S,onClickConnectEnd:g,onNodeMouseEnter:x,onNodeMouseMove:C,onNodeMouseLeave:y,onNodeContextMenu:E,onNodeDoubleClick:_,onNodeDragStart:P,onNodeDrag:R,onNodeDragStop:$,onNodesDelete:T,onEdgesDelete:k,onSelectionChange:J,onSelectionDragStart:q,onSelectionDrag:b,onSelectionDragStop:I,onSelectionContextMenu:M,connectionMode:z=pn.Strict,connectionLineType:A=Nt.Bezier,connectionLineStyle:L,connectionLineComponent:H,connectionLineContainerStyle:U,deleteKeyCode:ee="Backspace",selectionKeyCode:ce="Shift",multiSelectionKeyCode:oe="Meta",zoomActivationKeyCode:Y="Meta",snapToGrid:ie=!1,snapGrid:ae=hx,onlyRenderVisibleElements:de=!1,selectNodesOnDrag:Z=!0,nodesDraggable:G,nodesConnectable:be,nodesFocusable:Se,nodeOrigin:he=fx,edgesFocusable:ge,elementsSelectable:le,defaultViewport:ye=px,minZoom:Ae=.5,maxZoom:D=2,translateExtent:B=ci,preventScrolling:F=!0,nodeExtent:j,defaultMarkerColor:K="#b1b1b7",zoomOnScroll:fe=!0,zoomOnPinch:te=!0,panOnScroll:ne=!1,panOnScrollSpeed:se=.5,panOnScrollMode:ve=an.Free,zoomOnDoubleClick:xe=!0,panOnDrag:ke=!0,onPaneClick:Q,onPaneMouseEnter:ue,onPaneMouseMove:Pe,onPaneMouseLeave:We,onPaneScroll:Fe,onPaneContextMenu:Ct,children:_e,onEdgeUpdate:Me,onEdgeContextMenu:Ze,onEdgeDoubleClick:At,onEdgeMouseEnter:lt,onEdgeMouseMove:eo,onEdgeMouseLeave:to,onEdgeUpdateStart:Xe,onEdgeUpdateEnd:tt,edgeUpdaterRadius:er=10,onNodesChange:no,onEdgesChange:jc,noDragClassName:Vc="nodrag",noWheelClassName:Gc="nowheel",noPanClassName:Vi="nopan",fitView:Xc=!1,fitViewOptions:Yc,connectOnClick:Kc=!0,attributionPosition:qc,proOptions:Zc,defaultEdgeOptions:Jc,elevateEdgesOnSelect:Qc=!1,disableKeyboardA11y:Gi=!1,style:eu,id:Xi,...tu},nu)=>{const ru=os(a,bv),ou=os(i,yv),ro=Xi||"1";return f("div",{...tu,style:{...eu,...gx},ref:nu,className:Le(["react-flow",o]),"data-testid":"rf__wrapper",id:Xi,children:O(Mc,{children:[f(lx,{onInit:c,onMove:u,onMoveStart:h,onMoveEnd:d,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:C,onNodeMouseLeave:y,onNodeContextMenu:E,onNodeDoubleClick:_,nodeTypes:ru,edgeTypes:ou,connectionLineType:A,connectionLineStyle:L,connectionLineComponent:H,connectionLineContainerStyle:U,selectionKeyCode:ce,deleteKeyCode:ee,multiSelectionKeyCode:oe,zoomActivationKeyCode:Y,onlyRenderVisibleElements:de,selectNodesOnDrag:Z,defaultViewport:ye,translateExtent:B,minZoom:Ae,maxZoom:D,preventScrolling:F,zoomOnScroll:fe,zoomOnPinch:te,zoomOnDoubleClick:xe,panOnScroll:ne,panOnScrollSpeed:se,panOnScrollMode:ve,panOnDrag:ke,onPaneClick:Q,onPaneMouseEnter:ue,onPaneMouseMove:Pe,onPaneMouseLeave:We,onPaneScroll:Fe,onPaneContextMenu:Ct,onSelectionContextMenu:M,onEdgeUpdate:Me,onEdgeContextMenu:Ze,onEdgeDoubleClick:At,onEdgeMouseEnter:lt,onEdgeMouseMove:eo,onEdgeMouseLeave:to,onEdgeUpdateStart:Xe,onEdgeUpdateEnd:tt,edgeUpdaterRadius:er,defaultMarkerColor:K,noDragClassName:Vc,noWheelClassName:Gc,noPanClassName:Vi,elevateEdgesOnSelect:Qc,rfId:ro,disableKeyboardA11y:Gi,nodeOrigin:he,nodeExtent:j}),f(cv,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:w,onConnectEnd:m,onClickConnectStart:S,onClickConnectEnd:g,nodesDraggable:G,nodesConnectable:be,nodesFocusable:Se,edgesFocusable:ge,elementsSelectable:le,minZoom:Ae,maxZoom:D,nodeExtent:j,onNodesChange:no,onEdgesChange:jc,snapToGrid:ie,snapGrid:ae,connectionMode:z,translateExtent:B,connectOnClick:Kc,defaultEdgeOptions:Jc,fitView:Xc,fitViewOptions:Yc,onNodesDelete:T,onEdgesDelete:k,onNodeDragStart:P,onNodeDrag:R,onNodeDragStop:$,onSelectionDrag:b,onSelectionDragStart:q,onSelectionDragStop:I,noPanClassName:Vi,nodeOrigin:he,rfId:ro}),f(sv,{onSelectionChange:J}),_e,f(ky,{proOptions:Zc,position:qc}),f(pv,{rfId:ro,disableKeyboardA11y:Gi})]})})});Ic.displayName="ReactFlow";function mx(){const e=Te();return v.exports.useCallback(t=>{const{domNode:n,updateNodeDimensions:r}=e.getState(),o=n==null?void 0:n.querySelector(`.react-flow__node[data-id="${t}"]`);o&&requestAnimationFrame(()=>r([{id:t,nodeElement:o,forceUpdate:!0}]))},[])}function Dc(e){return t=>{const[n,r]=v.exports.useState(t),o=v.exports.useCallback(a=>r(i=>e(a,i)),[]);return[n,r,o]}}const yx=Dc(Wi),vx=Dc(Bv),Rc=({id:e,x:t,y:n,width:r,height:o,style:a,color:i,strokeColor:s,strokeWidth:l,className:c,borderRadius:u,shapeRendering:h,onClick:d})=>{const{background:p,backgroundColor:w}=a||{},m=i||p||w;return f("rect",{className:Le(["react-flow__minimap-node",c]),x:t,y:n,rx:u,ry:u,width:r,height:o,fill:m,stroke:s,strokeWidth:l,shapeRendering:h,onClick:d?S=>d(S,e):void 0})};Rc.displayName="MiniMapNode";var xx=v.exports.memo(Rc);const wx=200,bx=150,Sx=e=>{const t=Array.from(e.nodeInternals.values()),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{nodes:t.filter(r=>!r.hidden&&r.width&&r.height),viewBB:n,boundingRect:t.length>0?jy(Jr(t),n):n,rfId:e.rfId}},Do=e=>e instanceof Function?e:()=>e,Cx="react-flow__minimap-desc";function Tc({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:a=5,nodeStrokeWidth:i=2,maskColor:s="rgb(240, 240, 240, 0.6)",position:l="bottom-right",onClick:c,onNodeClick:u,pannable:h=!1,zoomable:d=!1}){var ce,oe;const p=Te(),w=v.exports.useRef(null),{boundingRect:m,viewBB:S,nodes:g,rfId:x}=Ee(Sx,Ge),C=(ce=e==null?void 0:e.width)!=null?ce:wx,y=(oe=e==null?void 0:e.height)!=null?oe:bx,E=Do(r),_=Do(n),P=Do(o),R=m.width/C,$=m.height/y,T=Math.max(R,$),k=T*C,J=T*y,q=5*T,b=m.x-(k-m.width)/2-q,I=m.y-(J-m.height)/2-q,M=k+q*2,z=J+q*2,A=typeof window>"u"||!!window.chrome?"crispEdges":"geometricPrecision",L=`${Cx}-${x}`,H=v.exports.useRef(0);H.current=T,v.exports.useEffect(()=>{if(w.current){const Y=Qe(w.current),ie=Z=>{const{transform:G,d3Selection:be,d3Zoom:Se}=p.getState();if(Z.sourceEvent.type!=="wheel"||!be||!Se)return;const he=-Z.sourceEvent.deltaY*(Z.sourceEvent.deltaMode===1?.05:Z.sourceEvent.deltaMode?1:.002)*10,ge=G[2]*Math.pow(2,he);Se.scaleTo(be,ge)},ae=Z=>{const{transform:G,d3Selection:be,d3Zoom:Se}=p.getState();if(Z.sourceEvent.type!=="mousemove"||!be||!Se)return;const he={x:G[0]-Z.sourceEvent.movementX*H.current*Math.max(1,G[2]),y:G[1]-Z.sourceEvent.movementY*H.current*Math.max(1,G[2])},ge=Dt.translate(he.x,he.y).scale(G[2]);Se.transform(be,ge)},de=Wl().on("zoom",h?ae:null).on("zoom.wheel",d?ie:null);return Y.call(de),()=>{Y.on("zoom",null)}}},[h,d]);const U=c?Y=>{const ie=nt(Y);c(Y,{x:ie[0],y:ie[1]})}:void 0,ee=u?(Y,ie)=>{const ae=p.getState().nodeInternals.get(ie);u(Y,ae)}:void 0;return f(Ai,{position:l,style:e,className:Le(["react-flow__minimap",t]),children:O("svg",{width:C,height:y,viewBox:`${b} ${I} ${M} ${z}`,role:"img","aria-labelledby":L,ref:w,onClick:U,children:[f("title",{id:L,children:"React Flow mini map"}),g.map(Y=>{var ie,ae,de,Z;return f(xx,{x:(ae=(ie=Y.positionAbsolute)==null?void 0:ie.x)!=null?ae:0,y:(Z=(de=Y.positionAbsolute)==null?void 0:de.y)!=null?Z:0,width:Y.width,height:Y.height,style:Y.style,className:P(Y),color:E(Y),borderRadius:a,strokeColor:_(Y),strokeWidth:i,shapeRendering:A,onClick:ee,id:Y.id},Y.id)}),f("path",{className:"react-flow__minimap-mask",d:`M${b-q},${I-q}h${M+q*2}v${z+q*2}h${-M-q*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fill:s,fillRule:"evenodd"})]})})}Tc.displayName="MiniMap";var Ex=v.exports.memo(Tc);function _x(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:f("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Nx(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:f("path",{d:"M0 0h32v4.2H0z"})})}function Px(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:f("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Mx(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Ix(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}const Tn=({children:e,className:t,...n})=>f("button",{type:"button",className:Le(["react-flow__controls-button",t]),...n,children:e});Tn.displayName="ControlButton";const Dx=e=>e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable,Ac=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:a,onZoomOut:i,onFitView:s,onInteractiveChange:l,className:c,children:u,position:h="bottom-left"})=>{const d=Te(),[p,w]=v.exports.useState(!1),m=Ee(Dx),{zoomIn:S,zoomOut:g,fitView:x}=Qr();if(v.exports.useEffect(()=>{w(!0)},[]),!p)return null;const C=()=>{S(),a==null||a()},y=()=>{g(),i==null||i()},E=()=>{x(o),s==null||s()},_=()=>{d.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),l==null||l(!m)};return O(Ai,{className:Le(["react-flow__controls",c]),position:h,style:e,children:[t&&O(me,{children:[f(Tn,{onClick:C,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",children:f(_x,{})}),f(Tn,{onClick:y,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",children:f(Nx,{})})]}),n&&f(Tn,{className:"react-flow__controls-fitview",onClick:E,title:"fit view","aria-label":"fit view",children:f(Px,{})}),r&&f(Tn,{className:"react-flow__controls-interactive",onClick:_,title:"toggle interactivity","aria-label":"toggle interactivity",children:m?f(Ix,{}):f(Mx,{})}),u]})};Ac.displayName="Controls";var Rx=v.exports.memo(Ac),et;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(et||(et={}));function Tx({color:e,dimensions:t,lineWidth:n}){return f("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function Ax({color:e,radius:t}){return f("circle",{cx:t,cy:t,r:t,fill:e})}const Bx={[et.Dots]:"#91919a",[et.Lines]:"#eee",[et.Cross]:"#e2e2e2"},$x={[et.Dots]:1,[et.Lines]:1,[et.Cross]:6},zx=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Bc({variant:e=et.Dots,gap:t=20,size:n,lineWidth:r=1,color:o,style:a,className:i}){const s=v.exports.useRef(null),{transform:l,patternId:c}=Ee(zx,Ge),u=o||Bx[e],h=n||$x[e],d=e===et.Dots,p=e===et.Cross,w=Array.isArray(t)?t:[t,t],m=[w[0]*l[2]||1,w[1]*l[2]||1],S=h*l[2],g=p?[S,S]:m,x=d?[S/2,S/2]:[g[0]/2,g[1]/2];return O("svg",{className:Le(["react-flow__background",i]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:s,children:[f("pattern",{id:c,x:l[0]%m[0],y:l[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${x[0]},-${x[1]})`,children:d?f(Ax,{color:u,radius:S/2}):f(Tx,{dimensions:g,color:u,lineWidth:r})}),f("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${c})`})]})}Bc.displayName="Background";var Fx=v.exports.memo(Bc);const ui=e=>`${e.sourceEntity}_${e.name}`,Ox=e=>`${e.targetEntity}_${e.targetName}`,Ui=e=>`entity_er_node_id_${e.id}`,di=(e,t)=>`${Ui(e)}_${t.id}`,$c=e=>e.type===Cs.Lookup&&e.relationType===In.ManyToOne,zc=e=>e.type===Cs.Lookup?"green":"red",Hx=22,$n=18,Lx=40,kx=({entity:e,relation:t,passive:n})=>{const r=Qr(),o=mx(),[a,i]=v.exports.useState(Number.MAX_SAFE_INTEGER);return v.exports.useEffect(()=>{var s,l,c,u;if(n&&$c(t))i(Lx/2-$n/2);else{const h=(s=document.getElementById(Ui(e)))==null?void 0:s.getClientRects()[0],d=(l=document.getElementById(di(e,t)))==null?void 0:l.getClientRects()[0],p=((c=d==null?void 0:d.top)!=null?c:0)-((u=h==null?void 0:h.top)!=null?u:0);i(p)}setTimeout(()=>o(e.name))},[e,n,r,t,o]),{top:a,left:n?-$n:"auto",right:n?"auto":-$n}},Wx=({relation:e,passive:t})=>{const[n,r]=v.exports.useState("relation-one-many");return v.exports.useEffect(()=>{if(t)switch(e.relationType){case In.ManyToMany:r("relation-one-many");break;case In.ManyToOne:case tr.ManyToOne:case tr.OneToOne:r("relation-one-one");break}else switch(e.relationType){case In.ManyToMany:case In.ManyToOne:case tr.ManyToOne:r("relation-one-many");break;case tr.OneToOne:r("relation-one-one");break}},[t,e.relationType]),{icon:n,color:zc(e)}},is=({data:{entity:e,entity:{relations:t}},relation:n,passive:r})=>{const o=r?Ox(n):ui(n),{top:a,left:i,right:s}=kx({entity:e,relation:n,passive:r}),{icon:l,color:c}=Wx({relation:n,passive:r});return f(jn,{className:Ux.wrapper,id:o,type:r?"target":"source",position:r?X.Left:X.Right,style:{left:i,right:s,top:a+Hx/2},onConnect:u=>console.log("handle onConnect",u),isConnectable:!1,children:f("span",{style:{color:c,transform:r?"rotateY(0deg)":"rotateY(180deg)"},children:f(Rf,{type:l})})},n.id)},Ux={wrapper:W("height:",$n,"px!important;width:",$n,"px!important;display:flex;justify-content:center;align-items:center;border-radius:0;background-color:transparent!important;","")},jx=e=>{const{data:{entity:{relations:t},passiveEntityRelations:n}}=e;return O(me,{children:[t.map(r=>f(is,{...e,passive:!1,relation:r},r.id)),n.map(r=>f(is,{...e,passive:!0,relation:r},r.id))]})},Vx=({data:{entity:e}})=>O("div",{className:Ht(it.section),children:[f(Be.Title,{className:Ht(it.sectionTitle),level:5,children:"\u5B57\u6BB5"}),Ie.exports.isEmpty(e.fields)?f(ku,{description:"\u6682\u65E0\u5B57\u6BB5"}):e.fields.map(t=>O("div",{className:Ht(it.sectionItem),children:[O(zn,{size:"small",children:[O(Be.Text,{children:[t.description,"(",t.name,")"]}),t.required&&f(Be.Text,{type:"danger",children:"*"})]}),f(Be.Text,{children:t.type})]},t.name))]}),Gx=({data:{entity:e,entity:{relations:t},passiveEntityRelations:n}})=>{const r=n.filter(a=>!$c(a)),o=[...t,...r];return Ie.exports.isEmpty(o)?null:O("div",{className:Ht(it.section),children:[f(Be.Title,{className:Ht(it.sectionTitle),level:5,children:"\u5173\u7CFB"}),t.map(a=>O("div",{className:Ht(it.sectionItem),id:di(e,a),children:[f(zn,{size:"small",children:O(Be.Text,{children:[a.description,"(",a.name,")"]})}),f(Be.Text,{children:a.type})]},a.name)),r.map(a=>O("div",{className:Ht(it.sectionItem),id:di(e,a),children:[f(zn,{size:"small",children:O(Be.Text,{disabled:!0,children:[a.targetDescription,"(",a.targetName,")"]})}),f(Be.Text,{disabled:!0,children:a.type})]},a.targetName))]})},Xx=e=>{const{data:{entity:t}}=e,n=Xn();return O(me,{children:[f(jx,{...e}),O("div",{id:Ui(t),style:{"--header-bg-color":n.colorPrimary},className:it.wrapper,children:[f("div",{className:it.header,children:f(Be.Title,{level:5,children:t.title})}),O("div",{className:it.body,children:[f(Vx,{...e}),f(Gx,{...e})]}),O(Vn,{className:it.footer,children:[f(ln,{span:12,children:f(ze,{block:!0,type:"link",onClick:()=>Qt.emit("onChange",t),children:"\u7F16\u8F91"})}),f(ln,{span:12,children:f(ze,{block:!0,type:"text",danger:!0,onClick:()=>Qt.emit("onDelete",t.id),children:"\u5220\u9664"})})]})]})]})},it={wrapper:W({name:"zo47d5",styles:"width:300px;border-radius:10px;background-color:white;overflow:hidden;border:solid rgba(0,0,0,.1)"}),header:W({name:"szrp7z",styles:"background-color:var(--header-bg-color);padding:8px 16px;.ant-typography{color:white;margin:0;}"}),body:W({name:"1jb4mpp",styles:"padding:4px 0"}),section:W("",""),sectionTitle:W({name:"1dhy8e2",styles:"color:var(--header-bg-color)!important;padding:0 16px;font-size:14px!important;font-weight:normal!important;margin-bottom:0!important"}),sectionItem:W({name:"1r7zpal",styles:"padding:0 16px;display:flex;justify-content:space-between;align-items:center;.ant-typography{font-size:12px;}"}),footer:W({name:"covnv5",styles:"border-top:solid rgba(0,0,0,.1)"})},Yx={EntityNode:v.exports.memo(Xx)},Kx=()=>{const[e,t]=Vt(He.entitiesSelector),n=Ne(He.entityRelationsByTargetEntityNameMapSelector),[r,o,a]=yx(e.map(s=>({id:s.name,type:"EntityNode",data:{entity:s,passiveEntityRelations:n[s.name]||[]},position:s.position}))),i=v.exports.useCallback(s=>{a(s);const l=Wi(s,r),c=Ie.exports.keyBy(s.filter(h=>h.type==="position"),"id"),u=Ie.exports.keyBy(l,h=>h.id);t(h=>h.map(d=>{var p,w;return Reflect.has(c,d.name)?{...d,position:(w=(p=u[d.name])==null?void 0:p.positionAbsolute)!=null?w:d.position}:d}))},[r,a,t]);return v.exports.useEffect(()=>{o(s=>{const l=Ie.exports.keyBy(s,c=>c.id);return e.map(c=>l[c.name]?{...l[c.name],data:{entity:c,passiveEntityRelations:n[c.name]||[]},position:c.position}:{id:c.name,type:"EntityNode",data:{entity:c,passiveEntityRelations:n[c.name]||[]},position:c.position})})},[e,n,o]),{nodes:r,onNodesChange:i}},qx=({onChangeEntity:e,onDeleteEntity:t})=>{const n=Xn(),r=Ne(He.entityRelationsSelector),{nodes:o,onNodesChange:a}=Kx(),[i,s,l]=vx(r.map(u=>({id:u.id,source:u.sourceEntity,target:u.targetEntity,sourceHandle:ui(u),targetHandle:ui(u),style:{stroke:zc(u),zIndex:999999}}))),c=v.exports.useCallback(u=>s(h=>ec({...u,animated:!0,style:{stroke:"green"}},h)),[s]);return v.exports.useEffect(()=>(Qt.on("onDelete",t),Qt.on("onChange",e),()=>{Qt.off("onDelete",t),Qt.off("onChange",e)}),[e,t]),f("div",{className:Zx.wrapper,children:O(Ic,{nodes:o,edges:i,onNodesChange:a,onEdgesChange:l,onConnect:c,style:{background:"#fff"},nodeTypes:Yx,connectionLineStyle:{stroke:n.colorPrimary,zIndex:999999},snapToGrid:!0,snapGrid:[20,20],attributionPosition:"bottom-left",children:[f(Fx,{variant:et.Cross,gap:10,size:2}),f(Rx,{}),f(Ex,{pannable:!0,zoomable:!0})]})})},Zx={wrapper:W({name:"mfs71j",styles:"height:100%;.react-flow__attribution{display:none;}.react-flow__node{border:none;}.react-flow__handle{z-index:9;}.react-flow__edges{z-index:999999!important;}"})},Jx=({onChangeEntity:e,onDeleteEntity:t})=>{const n=Ne(He.entitiesSelector),r=[{title:"\u540D\u79F0",dataIndex:"title",key:"title"},{title:"\u6807\u8BC6",dataIndex:"name",key:"name"},{title:"\u63CF\u8FF0",dataIndex:"description",key:"description"},{title:"\u64CD\u4F5C",dataIndex:"operation",key:"operation",width:100,align:"center",fixed:"right",render:(o,a)=>O(zn,{size:"small",children:[f(ze,{size:"small",type:"link",onClick:()=>e(a),children:"\u7F16\u8F91"}),f(ze,{size:"small",danger:!0,type:"text",onClick:()=>t(a.id),children:"\u5220\u9664"})]})}];return f("div",{className:Qx.wrapper,children:f(Es,{rowKey:"id",size:"small",columns:r,dataSource:n})})},Qx={wrapper:W("","")},Fc=({onOk:e,onCancel:t,open:n,mode:r,form:o})=>f(me,{children:f(Wu,{title:r==="create"?"\u521B\u5EFA\u6570\u636E\u6A21\u578B":"\u7F16\u8F91\u6570\u636E\u6A21\u578B",onCancel:()=>{t(),o.resetFields()},onOk:async()=>{await o.validateFields(),e(o.getFieldsValue()),o.resetFields()},open:n,destroyOnClose:!0,children:O(Ue,{form:o,labelCol:{style:{width:"50px"}},children:[f(Ue.Item,{label:"ID",name:"id",hidden:!0,children:f(Ot,{})}),f(Ue.Item,{label:"\u540D\u79F0",name:"title",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6570\u636E\u6A21\u578B\u540D\u79F0"}],children:f(Ot,{})}),f(Ue.Item,{label:"\u6807\u8BC6",name:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6570\u636E\u6A21\u578B\u6807\u8BC6"},{pattern:/^[a-zA-Z]\w+$/,message:"\u53EA\u80FD\u7531\u82F1\u6587\u3001\u6570\u5B57\u3001\u4E0B\u5212\u7EBF\u7EC4\u6210\uFF0C\u4E14\u5FC5\u987B\u82F1\u6587\u5F00\u5934"}],children:f(Ot,{disabled:r==="edit"})}),f(Ue.Item,{label:"\u63CF\u8FF0",name:"description",children:f(Ot,{})})]})})}),Oc=xr(),Hc=({children:e})=>{const[t,n]=v.exports.useState(null);return Ss(()=>{setTimeout(()=>{n(document.getElementById(Oc))})}),t?vs.exports.createPortal(e,t):null},ew=()=>f("span",{id:Oc}),tw=({entity:e,onEditEntity:t})=>O(me,{children:[f(Hc,{children:f(ze,{type:"link",onClick:()=>t(e),children:"\u7F16\u8F91"})}),f("div",{className:nw.wrapper,children:O(Oo,{readonly:!0,layout:"horizontal",grid:!0,colProps:{span:12},submitter:!1,children:[f(xt,{label:"\u540D\u79F0",fieldProps:{value:e.title}}),f(xt,{label:"\u6807\u8BC6",fieldProps:{value:e.name}}),f(xt,{label:"\u63CF\u8FF0",fieldProps:{value:e.description}})]})})]}),nw={wrapper:W({name:"10rtstj",styles:"padding:16px"})},rw=e=>{switch(e){case Ye.Text:case Ye.LongText:return O(me,{children:[f(Sn,{name:["config","max"],label:"\u6700\u5927\u957F\u5EA6",max:255,fieldProps:{precision:0}}),f(Sn,{name:["config","min"],label:"\u6700\u5C0F\u957F\u5EA6",min:0,fieldProps:{precision:0}})]});case Ye.Enum:return O(me,{children:[f(sl,{name:["config","enumCode"],label:"\u679A\u4E3E\u7C7B\u578B",placeholder:"\u8BF7\u9009\u62E9\u679A\u4E3E\u7C7B\u578B",options:Lc,allowClear:!1,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u679A\u4E3E\u7C7B\u578B"}]}),f(Xo,{name:["config","multiple"],label:"\u591A\u9009"})]});case Ye.Number:return O(me,{children:[f(Sn,{name:["config","max"],label:"\u6700\u5927\u503C",max:255,fieldProps:{precision:0}}),f(Sn,{name:["config","min"],label:"\u6700\u5C0F\u503C",min:0,fieldProps:{precision:0}}),f(Sn,{name:["config","precision"],label:"\u5C0F\u6570\u4F4D\u6570",min:0,fieldProps:{precision:0}})]});case Ye.AutoNumber:return f(me,{children:f(xt,{name:["config","format"],label:"\u663E\u793A\u683C\u5F0F",placeholder:"\u8BF7\u8F93\u5165\u663E\u793A\u683C\u5F0F"})});case Ye.Image:return f(me,{children:f(Xo,{name:["config","multiple"],label:"\u591A\u9009"})});case Ye.PhoneNumber:case Ye.URL:case Ye.Email:case Ye.Date:case Ye.DateTime:default:return null}},Lc=Object.values(Ye).map(e=>({label:Uu(e),value:e})),ow=(e,t)=>{const[n]=Oo.useForm(),r=Oo.useWatch("type",n),[o,a]=v.exports.useState(""),[i,s]=v.exports.useState(""),[l,c]=v.exports.useState("detail"),u=ht(He.entitySelector(o)),[h,d]=v.exports.useState(!1),p=_s(({snapshot:w})=>({entityId:m,fieldId:S})=>w.getLoadable(He.entitySelector(m)).getValue().fields.find(g=>g.id===S),[]);return v.exports.useImperativeHandle(t,()=>({create:({entityId:w})=>{a(w),s(""),c("create"),d(!0)},edit:({entityId:w,fieldId:m})=>{a(w),s(m),c("edit"),n.setFieldsValue(p({entityId:w,fieldId:m})),d(!0)},showDetail:({entityId:w,fieldId:m})=>{a(w),s(m),c("detail"),n.setFieldsValue(p({entityId:w,fieldId:m})),d(!0)}}),[n,p]),O(ju,{readonly:l==="detail",title:"\u65B0\u5EFA\u5B57\u6BB5",width:500,form:n,size:"small",layout:"horizontal",labelCol:{style:{width:"80px"}},drawerProps:{destroyOnClose:!0},open:h,onOpenChange:d,onFinish:async w=>{switch(l){case"create":u(at(m=>{m.fields.push({...w,id:xr()})}));break;case"edit":u(at(m=>{m.fields=m.fields.map(S=>S.id===i?{...w}:S)}));break}return!0},children:[f(xt,{hidden:!0,name:"id",label:"\u5B57\u6BB5id"}),f(sl,{name:"type",label:"\u5B57\u6BB5\u7C7B\u578B",placeholder:"\u8BF7\u9009\u62E9\u5B57\u6BB5\u7C7B\u578B",options:Lc,allowClear:!1,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5B57\u6BB5\u7C7B\u578B"}]}),f(xt,{name:"title",label:"\u5B57\u6BB5\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u540D\u79F0"}]}),f(xt,{name:"name",label:"\u5B57\u6BB5\u6807\u8BC6",placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u6807\u8BC6",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u6807\u8BC6"}]}),f(xt,{name:"description",label:"\u5B57\u6BB5\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u63CF\u8FF0"}),r!==Ye.AutoNumber&&f(Xo,{name:"required",label:"\u5FC5\u586B"}),rw(r)]})},iw=v.exports.forwardRef(ow),Ro=({entityId:e})=>{const t=v.exports.useRef(null),[n,r]=Vt(He.entitySelector(e)),o=[{title:"\u540D\u79F0",dataIndex:"title",key:"title"},{title:"\u6807\u8BC6",dataIndex:"name",key:"name"},{title:"\u63CF\u8FF0",dataIndex:"description",key:"description"},{title:"\u64CD\u4F5C",dataIndex:"operation",key:"operation",width:100,align:"center",fixed:"right",render:(a,i)=>O(zn,{size:"small",children:[f(ze,{size:"small",type:"link",onClick:()=>{var s;(s=t.current)==null||s.edit({entityId:n.id,fieldId:i.id})},children:"\u7F16\u8F91"}),f(ze,{size:"small",type:"link",onClick:()=>{var s;(s=t.current)==null||s.showDetail({entityId:n.id,fieldId:i.id})},children:"\u8BE6\u60C5"}),f(ze,{size:"small",danger:!0,type:"text",onClick:()=>{r(at(s=>{s.fields=s.fields.filter(l=>l.id!==i.id)}))},children:"\u5220\u9664"})]})}];return O(me,{children:[f(iw,{ref:t}),f(Hc,{children:f(ze,{type:"link",onClick:()=>{var a;(a=t.current)==null||a.create({entityId:n.id})},children:"\u6DFB\u52A0\u5B57\u6BB5"})}),f("div",{children:f(Es,{size:"small",dataSource:n.fields,rowKey:"id",columns:o,pagination:!1})})]})},aw=[{key:"List",tab:"\u5217\u8868"},{key:"ER",tab:"ER\u56FE"}],sw=()=>{const[e,t]=ul({activeTabKey:"List"}),n=ht(He.entityByIdSelector),[r,o]=v.exports.useState("edit"),a=m=>{n(at(S=>{Reflect.deleteProperty(S,m)}))},{open:i,setFalse:s,setTrue:l,onSubmitEntity:c,form:u}=ll(),h=Tt(),d=Gt(),p=m=>{h(un(je.Entity,{entityId:m.id,appId:d.appId}))},w=()=>{o("create"),l()};return O(me,{children:[f(Fc,{onOk:c,onCancel:s,open:i,mode:r,form:u}),f("div",{className:as.wrapper,children:f(cn,{size:"small",tabProps:{size:"small"},className:as.card,title:f("span",{children:"\u6570\u636E\u6A21\u578B"}),tabList:aw,tabBarExtraContent:f(ze,{type:"link",onClick:w,children:"\u6DFB\u52A0\u6A21\u578B"}),activeTabKey:e.activeTabKey,onTabChange:m=>t({activeTabKey:m}),children:e.activeTabKey==="List"?f(Jx,{onDeleteEntity:a,onChangeEntity:p}):f(qx,{onDeleteEntity:a,onChangeEntity:p})})})]})},as={wrapper:W({name:"13udsys",styles:"height:100%"}),card:W({name:"tpenv9",styles:"height:100%;display:flex;flex-direction:column;.ant-card-body{flex:1;padding:0;}"})},lw=[{key:"Base",tab:"\u57FA\u7840\u4FE1\u606F"},{key:"Field",tab:"\u5B57\u6BB5\u548C\u5173\u7CFB"},{key:"Method",tab:"\u65B9\u6CD5"},{key:"View",tab:"\u89C6\u56FE"}],cw=()=>{const[e,t]=ul({activeTabKey:"Base"}),{entityId:n}=Gt(),r=Ne(He.entitySelector(n)),{open:o,setFalse:a,setTrue:i,onSubmitEntity:s,form:l}=ll(),c=u=>{switch(u){case"Base":return f(tw,{entity:r,onEditEntity:()=>{l.setFieldsValue(r),i()}});case"Field":return f(Ro,{entityId:r.id});case"Method":return f(Ro,{entityId:r.id});case"View":return f(Ro,{entityId:r.id});default:return f("div",{children:"\u672A\u77E5\u6A21\u5757"})}};return O(me,{children:[f(me,{children:f(Fc,{onOk:s,onCancel:a,open:o,mode:"edit",form:l})}),f("div",{className:ss.wrapper,children:f(cn,{size:"small",tabProps:{size:"small"},title:`${r.title}(${r.name})`,tabList:lw,tabBarExtraContent:f(ew,{}),className:ss.card,activeTabKey:e.activeTabKey,onTabChange:u=>t({activeTabKey:u}),children:c(e.activeTabKey)})})]})},ss={wrapper:W({name:"13udsys",styles:"height:100%"}),card:W({name:"tpenv9",styles:"height:100%;display:flex;flex-direction:column;.ant-card-body{flex:1;padding:0;}"})};function uw(e){return v.exports.useMemo(()=>e.hooks.dragSource(),[e])}function dw(e){return v.exports.useMemo(()=>e.hooks.dragPreview(),[e])}let To=!1,Ao=!1;class fw{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){wr(!To,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return To=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{To=!1}}isDragging(){if(!this.sourceId)return!1;wr(!Ao,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ao=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Ao=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}class hw{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ki(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ki(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Vu({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,qi(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,qi(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}function pw(e,t){const n=pi(),r=v.exports.useMemo(()=>new hw(n.getBackend()),[n]);return Ho(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),Ho(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function gw(){const e=pi();return v.exports.useMemo(()=>new fw(e),[e])}class mw{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r!=null?r:null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,o=this.monitor,{isDragging:a}=r;return a?a(o):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:o}=t;o&&o(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function yw(e,t,n){const r=v.exports.useMemo(()=>new mw(e,t,n),[t,n]);return v.exports.useEffect(()=>{r.spec=e},[e]),r}function vw(e){return v.exports.useMemo(()=>{const t=e.type;return wr(t!=null,"spec.type must be defined"),t},[e])}function xw(e,t,n){const r=pi(),o=yw(e,t,n),a=vw(e);Ho(function(){if(a!=null){const[s,l]=Gu(a,o,r);return t.receiveHandlerId(s),n.receiveHandlerId(s),l}},[r,t,n,o,a])}function ji(e,t){const n=Xu(e,t);wr(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=gw(),o=pw(n.options,n.previewOptions);return xw(n,r,o),[Yu(n.collect,r,o),uw(o),dw(o)]}const ww=e=>{var i,s,l,c;const[t,n]=v.exports.useState({x:0,y:0,width:0,height:0}),[r,o]=v.exports.useState(!1);return jo("mousemove",()=>{o(!1)},{target:document.body,capture:!0,passive:!0}),jo("mousemove",u=>{const h=Ku(u.target,e.current);if(h){const d=h.getClientRects()[0];n({x:d.x,y:d.y,width:d.width,height:d.height}),o(!0)}else n({x:0,y:0,width:0,height:0}),o(!1)},{target:e,passive:!0}),{style:{width:`${(i=t.width)!=null?i:0}px`,height:`${(s=t.height)!=null?s:0}px`,left:`${(l=t.x)!=null?l:0}px`,top:`${(c=t.y)!=null?c:0}px`,display:r?"block":"none"}}},kc=()=>{const e=ht(Ns);return{removeWidget:v.exports.useCallback((n,r=!0)=>{e(at(o=>{o.forEach(s=>{Ie.exports.isObject(s.slots)&&Object.keys(s.slots).forEach(l=>{const c=s.slots[l].findIndex(u=>u===n);c!==-1&&s.slots[l].splice(c,1)})});const a=[n],i=[o.find(s=>s.id===n)];for(;!Ie.exports.isEmpty(i);){const s=i.shift();Ie.exports.isObject(s.slots)&&Object.values(s.slots).forEach(l=>{l.forEach(c=>{a.push(c),i.push(o.find(u=>u.id===c))})})}a.forEach(s=>{const l=o.findIndex(c=>c.id===s);l!==-1&&o.splice(l,1)})}))},[e])}},bw=()=>{const[e,t]=Vt(pt),{removeWidget:n}=kc();return np("delete",()=>{e&&(n(e),t(""))}),null},Sw=({canvasRef:e})=>{const t=Xn(),{style:n}=ww(e);return f("div",{className:Cw.wrapper,style:{...n,"--border-color":t.colorPrimary}})},Cw={wrapper:W({name:"1vyoufo",styles:"border:1px dashed var(--border-color);position:absolute;z-index:999999"})},Ew=e=>{const t=ht(pt);jo("click",n=>{const r=qu(n.target,e.current),o=Zu(r);t(o)},{target:e})},_w=()=>{const e=Ne(pt),t=v.exports.useRef(null),n=Ne(gi(e)),r=Ne(Ps),[{isDragging:o},a,i]=ji(()=>({type:n.widgetType,item:()=>({type:mi.Move,widget:n}),collect:u=>({isDragging:u.isDragging()}),options:{dropEffect:"copy"}}),[n]);v.exports.useEffect(()=>{},[o]);const s=o?"0.4":"1",l=v.exports.useContext(yi);v.exports.useEffect(()=>{const u=Lo(e,l.document);u&&i(u)},[s,i,e,l.document,o]);const c=Xn();return o||!r[e].parent?null:f("div",{ref:t,style:{"--border-color":c.colorPrimary},className:$t.box,children:O(ze.Group,{className:$t.button,size:"small",children:[f(ze,{ref:a,className:`${$t.button} ${$t.dragButton}`,type:"primary",icon:f(Ju,{className:$t.button})}),f(ze,{className:$t.button,type:"primary",children:"2"}),f(ze,{className:$t.button,type:"primary",children:"3"})]})})},$t={button:W({name:"k1v6xs",styles:"height:16px!important;line-height:16px!important;font-size:12px!important;display:flex!important;justify-content:center!important;align-items:center!important"}),dragButton:W({name:"wa1o5r",styles:"cursor:move!important"}),box:W({name:"172hvwc",styles:"transform:translateY(-100%);margin-top:-2px;border-radius:3px;height:16px;display:flex;align-items:center;left:0;pointer-events:auto"})},Nw=()=>{var S,g,x,C;const e=Ne(pt),[t,n]=v.exports.useState({x:0,y:0,width:0,height:0}),r=Ne(Ns),[o,a]=v.exports.useState(!1),[i,s]=v.exports.useState(0);v.exports.useEffect(()=>{setTimeout(()=>{s(y=>y+1)})},[r]);const l=v.exports.useContext(yi);v.exports.useEffect(()=>{if(!e){a(!1);return}const y=Lo(e,l.document);if(y){const E=y.getClientRects()[0];n({x:E.x,y:E.y,width:E.width,height:E.height}),a(!0)}else n({x:0,y:0,width:0,height:0}),a(!1)},[e,l.document,i]);const c={width:`${(S=t.width)!=null?S:0}px`,height:`${(g=t.height)!=null?g:0}px`,left:`${(x=t.x)!=null?x:0}px`,top:`${(C=t.y)!=null?C:0}px`,display:o?"block":"none"},u=Ne(gi(e)),[{isDragging:h},d,p]=ji(()=>({type:u.widgetType,item:()=>({type:mi.Move,widget:u}),collect:y=>({isDragging:y.isDragging()}),options:{dropEffect:"copy"}}),[u]),w=h?"0.4":"1";v.exports.useEffect(()=>{const y=Lo(e,l.document);y&&(y.style.opacity=w,p(y))},[w,p,e,l.document]);const m=Xn();return f("div",{ref:d,className:Mw.wrapper,style:{...c,"--border-color":m.colorPrimary},children:f(_w,{})})},Pw=({canvasRef:e})=>(Ew(e),Ne(pt)?f(Nw,{}):null),Mw={wrapper:W({name:"1h9weiq",styles:"border:1px dashed var(--border-color);position:absolute;z-index:50"})},Iw=({canvasRef:e,style:t})=>O("div",{className:Dw.wrapper,style:t,children:[f(Sw,{canvasRef:e}),f(Pw,{canvasRef:e}),f(Qu,{})]}),Dw={wrapper:W({name:"1nt356n",styles:"position:fixed;left:0;right:0;bottom:0;top:0;pointer-events:none;z-index:999"})},Rw=({children:e})=>{var u,h;const{widgets:t,rootWidgetId:n}=Ne(vi),r=v.exports.useRef(null),[o,a]=v.exports.useState(!1);v.exports.useEffect(()=>{var d,p,w,m;!o||((p=(d=r.current)==null?void 0:d.contentWindow)==null||p.reactRenderHost.updateWidgets(t),(m=(w=r.current)==null?void 0:w.contentWindow)==null||m.reactRenderHost.updateRootWidgetId(n))},[t,n,o]);const i=v.exports.useRef(null),[s,l]=v.exports.useState({top:0,right:0,bottom:0,left:0}),c=v.exports.useCallback(()=>{setTimeout(()=>{var w;const d=r.current;i.current=(w=d.contentWindow)==null?void 0:w.document;const p=d.getClientRects()[0];l({top:p.top,right:p.right,bottom:p.bottom,left:p.left}),a(!0)})},[]);return O("div",{className:ls.wrapper,children:[v.exports.cloneElement(e,{ref:r,onLoad:c}),o&&f(me,{children:O(yi.Provider,{value:{document:(h=(u=r.current)==null?void 0:u.contentWindow)==null?void 0:h.document},children:[f(Iw,{canvasRef:i,style:s}),f(bw,{})]})}),!o&&f("div",{className:ls.spinWrapper,children:f(Fr,{size:"large"})})]})},ls={wrapper:W({name:"122qsqq",styles:"position:relative;padding:16px;height:100%"}),spinWrapper:W({name:"1yfx3f8",styles:"height:100%;width:100%;display:flex;justify-content:center;align-items:center"})},Tw=()=>{var s,l,c,u,h,d;const e=Ne(vi),t=Ne(xi),n=t[e.rootWidgetId],r=v.exports.useContext(Yn),o=[{key:e.id,title:e.name,page:e,nodeType:"page",children:[]}],a=Ie.exports.head(o),i=[{_type:"widget",...n}];for(;i.length!==0;){const p=i.pop();if(p._type==="widget"){const w={nodeType:"widget",key:(s=p==null?void 0:p.id)!=null?s:"",title:(l=p==null?void 0:p.widgetName)!=null?l:"",widget:p,children:[]},m=o.pop();m==null||m.children.unshift(w);const S=r.widgetByType[p.widgetType];Ie.exports.isEmpty(S.metadata.slots)||Object.entries(S.metadata.slots).forEach(([g,x])=>{i.push({_type:"slot",path:g,widgetId:p.id,...x}),o.push(w)})}else if(p._type==="slot"){const w={nodeType:"slot",key:(c=`${p.widgetId}_${p==null?void 0:p.path}`)!=null?c:"",title:(u=p==null?void 0:p.name)!=null?u:"",slot:p,children:[],selectable:!1,className:"outline-node-slot",switcherIcon:f(Sf,{})},m=o.pop();m==null||m.children.unshift(w);const S=(d=(h=t[p.widgetId])==null?void 0:h.slots)==null?void 0:d[p.path];Ie.exports.isEmpty(S)||S.forEach(g=>{i.push({_type:"widget",...t[g]}),o.push(w)})}}return{treeData:a}},Aw=()=>{const{treeData:e}=Tw(),[t,n]=Vt(pt),r=[t||e.key],o=Ne(Ps),a=Ne(xi),{moveWidget:i}=ed(),s=([h])=>{const d=h===e.key?"":h;n(d)},l=({dropNode:h,dropPosition:d,dragNode:p})=>p.nodeType==="slot"||p.nodeType==="page"||h.nodeType==="page"?!1:h.nodeType==="slot"?d===0:h.nodeType==="widget"?d!==0:!1,c=({dragNode:h,node:d,node:{pos:p},dropPosition:w})=>{const m=p.split("-"),S=w-Number(m[m.length-1]),g=h.widget;if(d.nodeType!=="slot"&&d.nodeType!=="widget")return;const[x,C]=ws(d.nodeType).with("slot",()=>[a[d.slot.widgetId],d.slot.path]).with("widget",()=>[o[d.widget.id].parent.props,o[d.widget.id].slotPath]).exhaustive();switch(S){case-1:x&&C&&i({sourceWidgetId:g.id,targetWidgetId:x.id,targetSlotPath:C,targetPosition:x.slots[C].findIndex(y=>d.widget.id===y)});break;case 1:parent&&C&&i({sourceWidgetId:g.id,targetWidgetId:x.id,targetSlotPath:C,targetPosition:x.slots[C].findIndex(y=>d.widget.id===y)});break;case 0:i({sourceWidgetId:g.id,targetWidgetId:x.id,targetSlotPath:C,targetPosition:0});break}},u=v.exports.useRef();return f("div",{className:Bw.treeWrapper,children:f(td,{ref:u,multiple:!1,icon:!1,allowDrop:l,switcherIcon:f(nd,{}),selectedKeys:r,onSelect:s,defaultExpandAll:!0,draggable:{icon:!1,nodeDraggable:h=>{var d,p;return h.nodeType==="widget"&&h.widget.id!==((p=(d=Ie.exports.head(e.children||[]))==null?void 0:d.widget)==null?void 0:p.id)}},blockNode:!0,onDrop:c,treeData:[e]})})},Bw={treeWrapper:W({name:"mzd4v3",styles:"padding:8px 4px;.ant-tree{line-height:20px!important;&-indent-unit{width:5px;}&-node-content-wrapper{line-height:20px!important;min-height:20px!important;}&-title{cursor:not-allowed;font-size:12px!important;}&-switcher{height:20px;width:20px;}}.outline-node-slot{color:grey;.ant-tree-title{cursor:not-allowed;}}"})},$w=()=>{const e=Ne(xi),[t,n]=Vt(pt),r=e[t],o=ht(gi(t)),a=Ne(rd(t)),i=v.exports.useContext(Yn),s=v.exports.useMemo(()=>i.widgetByType[r.widgetType].metadata,[i.widgetByType,r.widgetType]),{removeWidget:l}=kc(),c=Object.entries(s.jsonPropsSchema.properties.props.properties).filter(([,u])=>Reflect.has(u,Zi)).map(([u,h])=>{const d=Reflect.get(h,Zi),p=i.setterByType[d.type];return f(Ue.Item,{tooltip:d.description,label:d.label,children:f(p,{options:d,value:r.props[u],onChange:w=>{o(at(m=>{m.props[u]=w}))}})},u)});return O(Ue,{className:Wc.panel,labelWrap:!0,size:"small",children:[f(Ue.Item,{label:"\u7EC4\u4EF6ID",children:f(Be.Text,{type:"danger",children:t})}),f(Ue.Item,{label:"\u7EC4\u4EF6\u7C7B\u578B",children:f(Be.Text,{children:s.widgetName})}),f(Ue.Item,{label:"\u7EC4\u4EF6\u540D\u79F0",children:f(Ot,{value:r.widgetName,onChange:u=>{o(at(h=>{h.widgetName=u.target.value}))},placeholder:"\u8BF7\u8F93\u5165\u7EC4\u4EF6\u540D\u79F0"})}),f(od,{style:{margin:"8px 0"}}),c,!a&&f(Ue.Item,{wrapperCol:{span:24},children:f(ze,{type:"primary",block:!0,danger:!0,onClick:()=>{l(t),n("")},children:"\u5220\u9664"})})]})},zw=()=>{const[e,t]=Vt(vi);return f(Ue,{className:Wc.panel,labelWrap:!0,size:"small",children:f(Ue.Item,{label:"\u9875\u9762\u540D\u79F0",children:f(Ot,{onChange:n=>{t(at(r=>{r.name=n.target.value}))},value:e.name})})})},Fw=()=>{const e=Ne(pt);return f("div",{style:{padding:"16px"},children:e?f($w,{}):f(zw,{})})},Wc={panel:W({name:"15fpo44",styles:"& .ant-form-item{margin-bottom:12px!important;&-control-input-content{justify-content:flex-end!important;.ant-input-number{flex:1!important;}}}"})},Ow=({metadata:e})=>{const t=v.exports.useContext(Yn),[{isDragging:n},r,o]=ji(()=>({type:e.widgetType,item:()=>{const s=id.mrSchemeToDefaultJson(t.widgetByType[e.widgetType].metadata.jsonPropsSchema),l={...s,id:xr(),widgetName:`${s.widgetName}-${xr(4)}`};return{type:mi.Add,widget:l}},end:(s,l)=>{const c=l.getDropResult();console.log("drag_end",s,c)},collect:s=>({isDragging:s.isDragging(),handlerId:s.getHandlerId()}),options:{dropEffect:"copy"}})),a=v.exports.useRef(null);v.exports.useEffect(()=>{o(a,{offsetX:0,offsetY:0})},[o]);const i=n?.3:1;return O(ln,{className:Ft.widgetWrapper,style:{opacity:i},span:12,children:[O(cn,{ref:a,size:"small",className:`${Ft.widget} ${Ft.previewWidget}`,style:{fontSize:"12px"},bodyStyle:{padding:"4px",width:"80px",backgroundColor:"rgba(0,0,0,.04)"},children:[f("div",{className:Ft.previewWidgetIcon,children:e.icon}),f("div",{children:e.widgetName})]}),O(cn,{ref:r,size:"small",className:Ft.widget,bodyStyle:{padding:"8px 0",backgroundColor:"rgba(0,0,0,.04)"},children:[f("div",{className:Ft.widgetIcon,children:e.icon}),f("div",{children:e.widgetName})]})]})},Hw=()=>{const e=v.exports.useContext(Yn),t=v.exports.useMemo(()=>Object.values(e.widgetByType).reduce((n,r)=>(Ie.exports.isEmpty(n[r.group])?n[r.group]={name:nr(r.group),widgets:[r]}:n[r.group].widgets.push(r),n),{[Yt.Container]:{name:nr(Yt.Container),widgets:[]},[Yt.Input]:{name:nr(Yt.Input),widgets:[]},[Yt.Button]:{name:nr(Yt.Button),widgets:[]}}),[e.widgetByType]);return f("div",{children:Object.entries(t).map(([n,{name:r,widgets:o}])=>O("div",{className:Ft.widgetsPanel,children:[f(Be.Title,{level:5,children:r}),f(Vn,{gutter:[8,8],children:o.map(({metadata:a})=>f(Ow,{metadata:a},a.widgetType))})]},n))})},Ft={widgetWrapper:W({name:"1qesdsb",styles:"background-color:white"}),widget:W({name:"w77w2u",styles:"text-align:center;cursor:move;user-select:none;overflow:hidden"}),previewWidget:W({name:"1ms3iv6",styles:"position:absolute;z-index:0"}),previewWidgetIcon:W({name:"ytult0",styles:"font-size:14px;line-height:14px"}),widgetIcon:W({name:"h9twb6",styles:"font-size:24px;line-height:24px"}),widgetsPanel:W({name:"10rtstj",styles:"padding:16px"}),widgetGroup:W({name:"10rtstj",styles:"padding:16px"})},Lw=({children:e,page:t,onPageChange:n})=>{const r=ht(pt),[o,a]=v.exports.useState("");return f(ad,{storeKey:sd,listen:({updateItem:i})=>{t.id!==o&&(r(""),a(t.id)),Ji.canUpdate&&i(oo,t),Ji.canUpdate=!0},read:i=>{if(i===oo)return t},write:({diff:i})=>{for(const[s,l]of i)s===oo&&n(l)},children:e})},kw=({page:e,onPageChange:t,children:n})=>{const r=ht(pt);return f(Ms,{children:f(Lw,{page:e,onPageChange:t,children:f(ld,{backend:cd,children:O("div",{className:vt.wrapper,children:[f("div",{className:`${vt.section} ${vt.sectionLeft}`,children:f($o,{className:vt.designerPanelTabs,type:"card",tabBarGutter:0,items:[{key:"CanvasDesignerOutlineTree",label:"\u5927\u7EB2\u6811",children:f(Aw,{})}]})}),f("div",{className:`${vt.section} ${vt.canvasWrapper}`,onClick:()=>r(""),children:f(Rw,{children:n})}),f("div",{className:`${vt.section} ${vt.sectionRight}`,children:f($o,{className:vt.designerPanelTabs,type:"card",tabBarGutter:0,items:[{key:"CanvasDesignerPropsPanel",label:"\u5C5E\u6027",children:f(Fw,{})},{key:"CanvasDesignerWidgetStencil",label:"\u7EC4\u4EF6\u5217\u8868",children:f(Hw,{})}]})})]})})})})},vt={wrapper:W({name:"1l991oj",styles:"height:100%;display:flex;justify-content:space-between"}),section:W({name:"1t18v70",styles:"height:100%;background-color:white"}),sectionLeft:W({name:"1v1nmsf",styles:"width:220px"}),sectionRight:W({name:"16s5rj8",styles:"width:280px"}),canvasWrapper:W({name:"jtiazy",styles:"position:relative;flex:1;border:1px solid rgba(0,0,0,.05);border-top:none;border-bottom:0"}),designerPanelTabs:W({name:"j9szf6",styles:"&>.ant-tabs-nav{margin-bottom:0;}& .ant-tabs-nav-list{display:flex;width:100%;& .ant-tabs-tab{flex:1;border-radius:0!important;display:flex;justify-content:center;align-items:center;&.ant-tabs-tab-active{border-bottom-color:rgba(5, 5, 5, 0.13)!important;}}}"})},Uc=v.exports.forwardRef(({onLoad:e,src:t},n)=>f("iframe",{ref:n,className:Ww.iframe,src:t,onLoad:e}));Uc.displayName="SimulatorPC";const Ww={iframe:W({name:"17yvxh6",styles:"height:100%;width:100%;border:none;display:block"})},Uw=()=>{const{pageId:e,appId:t}=Gt(),[n,r]=Vt(He.pageSelector(e)),o=_s(({snapshot:i})=>()=>Ie.exports.head(i.getLoadable(He.pagesSelector).contents),[]),a=Tt();return v.exports.useLayoutEffect(()=>{const i=o();!n&&i&&a(un(je.PAGE,{appId:t,pageId:i.id}),{replace:!0})},[t,o,a,n]),f(Vn,{justify:"center",align:"middle",className:cs.page,children:f(ln,{span:24,className:cs.container,children:n&&f(Yn.Provider,{value:ud,children:f(kw,{page:n,onPageChange:r,children:f(Uc,{src:"/simulator/pc.html"})})})})})},cs={page:W({name:"13udsys",styles:"height:100%"}),container:W({name:"13udsys",styles:"height:100%"})},jw=()=>{const e=Ci([{path:je.APPS,element:f(ma,{})},{path:je.APP,element:f(Sp,{}),children:[{path:je.PAGE,element:f(Uw,{})},{path:je.Entities,element:f(sw,{})},{path:je.Entity,element:f(cw,{})}]},{path:"/",element:f(ma,{})}]);return f(me,{children:e})},Vw=()=>f(v.exports.Suspense,{fallback:f(vf,{}),children:f(Ms,{children:f(dd,{locale:fd,children:f(hd,{children:f(Xh,{children:f(jw,{})})})})})});pd.createRoot(document.getElementById("root")).render(f(Gn.StrictMode,{children:f(Vw,{})}));
